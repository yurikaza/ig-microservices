"use strict";(function (root, factory) {(typeof module === 'object' && module.exports) ? module.exports = factory() : root.W3Name = factory()}(typeof self !== 'undefined' ? self : this, function () {
var W3Name=(()=>{var gd=Object.create;var ca=Object.defineProperty;var vd=Object.getOwnPropertyDescriptor;var md=Object.getOwnPropertyNames;var xd=Object.getPrototypeOf,bd=Object.prototype.hasOwnProperty;var fe=(e,t)=>()=>(e&&(t=e(e=0)),t);var A=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Pe=(e,t)=>{for(var r in t)ca(e,r,{get:t[r],enumerable:!0})},g0=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of md(t))!bd.call(e,i)&&i!==r&&ca(e,i,{get:()=>t[i],enumerable:!(n=vd(t,i))||n.enumerable});return e};var ur=(e,t,r)=>(r=e!=null?gd(xd(e)):{},g0(t||!e||!e.__esModule?ca(r,"default",{value:e,enumerable:!0}):r,e)),z=e=>g0(ca({},"__esModule",{value:!0}),e);function wd(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var a=e.charAt(i),s=a.charCodeAt(0);if(r[s]!==255)throw new TypeError(a+" is ambiguous");r[s]=i}var o=e.length,c=e.charAt(0),u=Math.log(o)/Math.log(256),f=Math.log(256)/Math.log(o);function l(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var y=0,m=0,x=0,S=p.length;x!==S&&p[x]===0;)x++,y++;for(var B=(S-x)*f+1>>>0,K=new Uint8Array(B);x!==S;){for(var R=p[x],_=0,Y=B-1;(R!==0||_<m)&&Y!==-1;Y--,_++)R+=256*K[Y]>>>0,K[Y]=R%o>>>0,R=R/o>>>0;if(R!==0)throw new Error("Non-zero carry");m=_,x++}for(var j=B-m;j!==B&&K[j]===0;)j++;for(var Se=c.repeat(y);j<B;++j)Se+=e.charAt(K[j]);return Se}function h(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;var y=0;if(p[y]!==" "){for(var m=0,x=0;p[y]===c;)m++,y++;for(var S=(p.length-y)*u+1>>>0,B=new Uint8Array(S);p[y];){var K=r[p.charCodeAt(y)];if(K===255)return;for(var R=0,_=S-1;(K!==0||R<x)&&_!==-1;_--,R++)K+=o*B[_]>>>0,B[_]=K%256>>>0,K=K/256>>>0;if(K!==0)throw new Error("Non-zero carry");x=R,y++}if(p[y]!==" "){for(var Y=S-x;Y!==S&&B[Y]===0;)Y++;for(var j=new Uint8Array(m+(S-Y)),Se=m;Y!==S;)j[Se++]=B[Y++];return j}}}function d(p){var y=h(p);if(y)return y;throw new Error(`Non-${t} character`)}return{encode:l,decodeUnsafe:h,decode:d}}var Ed,Sd,v0,m0=fe(()=>{Ed=wd,Sd=Ed,v0=Sd});var Nx,x0,cr,b0,w0,Dr=fe(()=>{Nx=new Uint8Array(0),x0=(e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0},cr=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},b0=e=>new TextEncoder().encode(e),w0=e=>new TextDecoder().decode(e)});var As,Ts,Is,S0,_s,mn,Br,Dd,Bd,Te,Nt=fe(()=>{m0();Dr();As=class{constructor(t,r,n){this.name=t,this.prefix=r,this.baseEncode=n}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}},Ts=class{constructor(t,r,n){if(this.name=t,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return S0(this,t)}},Is=class{constructor(t){this.decoders=t}or(t){return S0(this,t)}decode(t){let r=t[0],n=this.decoders[r];if(n)return n.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},S0=(e,t)=>new Is({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}}),_s=class{constructor(t,r,n,i){this.name=t,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new As(t,r,n),this.decoder=new Ts(t,r,i)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}},mn=({name:e,prefix:t,encode:r,decode:n})=>new _s(e,t,r,n),Br=({prefix:e,name:t,alphabet:r})=>{let{encode:n,decode:i}=v0(r,t);return mn({prefix:e,name:t,encode:n,decode:a=>cr(i(a))})},Dd=(e,t,r,n)=>{let i={};for(let f=0;f<t.length;++f)i[t[f]]=f;let a=e.length;for(;e[a-1]==="=";)--a;let s=new Uint8Array(a*r/8|0),o=0,c=0,u=0;for(let f=0;f<a;++f){let l=i[e[f]];if(l===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|l,o+=r,o>=8&&(o-=8,s[u++]=255&c>>o)}if(o>=r||255&c<<8-o)throw new SyntaxError("Unexpected end of data");return s},Bd=(e,t,r)=>{let n=t[t.length-1]==="=",i=(1<<r)-1,a="",s=0,o=0;for(let c=0;c<e.length;++c)for(o=o<<8|e[c],s+=8;s>r;)s-=r,a+=t[i&o>>s];if(s&&(a+=t[i&o<<r-s]),n)for(;a.length*r&7;)a+="=";return a},Te=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>mn({prefix:t,name:e,encode(i){return Bd(i,n,r)},decode(i){return Dd(i,n,r,e)}})});var Rs={};Pe(Rs,{identity:()=>Cd});var Cd,D0=fe(()=>{Nt();Dr();Cd=mn({prefix:"\0",name:"identity",encode:e=>w0(e),decode:e=>b0(e)})});var Ns={};Pe(Ns,{base2:()=>Ad});var Ad,B0=fe(()=>{Nt();Ad=Te({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1})});var ks={};Pe(ks,{base8:()=>Td});var Td,C0=fe(()=>{Nt();Td=Te({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3})});var Ps={};Pe(Ps,{base10:()=>Id});var Id,A0=fe(()=>{Nt();Id=Br({prefix:"9",name:"base10",alphabet:"0123456789"})});var fa={};Pe(fa,{base16:()=>_d,base16upper:()=>Rd});var _d,Rd,Fs=fe(()=>{Nt();_d=Te({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Rd=Te({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4})});var hi={};Pe(hi,{base32:()=>xn,base32hex:()=>Pd,base32hexpad:()=>Ud,base32hexpadupper:()=>Kd,base32hexupper:()=>Fd,base32pad:()=>Nd,base32padupper:()=>kd,base32upper:()=>T0,base32z:()=>Ld});var xn,T0,Nd,kd,Pd,Fd,Ud,Kd,Ld,bn=fe(()=>{Nt();xn=Te({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),T0=Te({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Nd=Te({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),kd=Te({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Pd=Te({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Fd=Te({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Ud=Te({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Kd=Te({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Ld=Te({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5})});var ha={};Pe(ha,{base36:()=>la,base36upper:()=>Od});var la,Od,pa=fe(()=>{Nt();la=Br({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Od=Br({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"})});var wn={};Pe(wn,{base58btc:()=>Ht,base58flickr:()=>qd});var Ht,qd,En=fe(()=>{Nt();Ht=Br({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),qd=Br({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})});var Sn={};Pe(Sn,{base64:()=>Md,base64pad:()=>Vd,base64url:()=>zd,base64urlpad:()=>Hd});var Md,Vd,zd,Hd,pi=fe(()=>{Nt();Md=Te({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Vd=Te({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),zd=Te({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Hd=Te({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6})});var Us={};Pe(Us,{base256emoji:()=>Zd});function Wd(e){return e.reduce((t,r)=>(t+=$d[r],t),"")}function Yd(e){let t=[];for(let r of e){let n=Gd[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);t.push(n)}return new Uint8Array(t)}var I0,$d,Gd,Zd,_0=fe(()=>{Nt();I0=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),$d=I0.reduce((e,t,r)=>(e[r]=t,e),[]),Gd=I0.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]);Zd=mn({prefix:"\u{1F680}",name:"base256emoji",encode:Wd,decode:Yd})});function k0(e,t,r){t=t||[],r=r||0;for(var n=r;e>=Jd;)t[r++]=e&255|R0,e/=128;for(;e&Xd;)t[r++]=e&255|R0,e>>>=7;return t[r]=e|0,k0.bytes=r-n+1,t}function Ks(e,n){var r=0,n=n||0,i=0,a=n,s,o=e.length;do{if(a>=o)throw Ks.bytes=0,new RangeError("Could not decode varint");s=e[a++],r+=i<28?(s&N0)<<i:(s&N0)*Math.pow(2,i),i+=7}while(s>=ty);return Ks.bytes=a-n,r}var jd,R0,Qd,Xd,Jd,ey,ty,N0,ry,ny,iy,ay,sy,oy,uy,cy,fy,ly,hy,py,di,P0=fe(()=>{jd=k0,R0=128,Qd=127,Xd=~Qd,Jd=Math.pow(2,31);ey=Ks,ty=128,N0=127;ry=Math.pow(2,7),ny=Math.pow(2,14),iy=Math.pow(2,21),ay=Math.pow(2,28),sy=Math.pow(2,35),oy=Math.pow(2,42),uy=Math.pow(2,49),cy=Math.pow(2,56),fy=Math.pow(2,63),ly=function(e){return e<ry?1:e<ny?2:e<iy?3:e<ay?4:e<sy?5:e<oy?6:e<uy?7:e<cy?8:e<fy?9:10},hy={encode:jd,decode:ey,encodingLength:ly},py=hy,di=py});var yi,Dn,Bn,ya=fe(()=>{P0();yi=e=>[di.decode(e),di.decode.bytes],Dn=(e,t,r=0)=>(di.encode(e,t,r),t),Bn=e=>di.encodingLength(e)});var fr={};Pe(fr,{Digest:()=>Yr,create:()=>kt,decode:()=>Zr,equals:()=>Ls});var kt,Zr,Ls,Yr,Cr=fe(()=>{Dr();ya();kt=(e,t)=>{let r=t.byteLength,n=Bn(e),i=n+Bn(r),a=new Uint8Array(i+r);return Dn(e,a,0),Dn(r,a,n),a.set(t,i),new Yr(e,r,t,a)},Zr=e=>{let t=cr(e),[r,n]=yi(t),[i,a]=yi(t.subarray(n)),s=t.subarray(n+a);if(s.byteLength!==i)throw new Error("Incorrect length");return new Yr(r,i,s,t)},Ls=(e,t)=>e===t?!0:e.code===t.code&&e.size===t.size&&x0(e.bytes,t.bytes),Yr=class{constructor(t,r,n,i){this.code=t,this.size=r,this.digest=n,this.bytes=i}}});var qs,Os,Ms=fe(()=>{Cr();qs=({name:e,code:t,encode:r})=>new Os(e,t,r),Os=class{constructor(t,r,n){this.name=t,this.code=r,this.encode=n}digest(t){if(t instanceof Uint8Array){let r=this.encode(t);return r instanceof Uint8Array?kt(this.code,r):r.then(n=>kt(this.code,n))}else throw Error("Unknown type, must be binary type")}}});var jr={};Pe(jr,{sha256:()=>dy,sha512:()=>yy});var U0,dy,yy,Cn=fe(()=>{Ms();U0=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),dy=qs({name:"sha2-256",code:18,encode:U0("SHA-256")}),yy=qs({name:"sha2-512",code:19,encode:U0("SHA-512")})});var gi={};Pe(gi,{identity:()=>An});var K0,gy,L0,vy,An,Tn=fe(()=>{Dr();Cr();K0=0,gy="identity",L0=cr,vy=e=>kt(K0,L0(e)),An={code:K0,name:gy,encode:L0,digest:vy}});var O0=fe(()=>{Dr()});var Jx,eb,q0=fe(()=>{Jx=new TextEncoder,eb=new TextDecoder});var z0={};Pe(z0,{CID:()=>xe});var xe,by,wy,Ey,vi,Sy,M0,V0,ga,va,Dy,By,Cy,ma=fe(()=>{ya();Cr();En();bn();Dr();xe=class{constructor(t,r,n,i){this.code=r,this.version=t,this.multihash=n,this.bytes=i,this.byteOffset=i.byteOffset,this.byteLength=i.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:va,byteLength:va,code:ga,version:ga,multihash:ga,bytes:ga,_baseCache:va,asCID:va})}toV0(){switch(this.version){case 0:return this;default:{let{code:t,multihash:r}=this;if(t!==vi)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(r.code!==Sy)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return xe.createV0(r)}}}toV1(){switch(this.version){case 0:{let{code:t,digest:r}=this.multihash,n=kt(t,r);return xe.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(t){return t&&this.code===t.code&&this.version===t.version&&Ls(this.multihash,t.multihash)}toString(t){let{bytes:r,version:n,_baseCache:i}=this;switch(n){case 0:return wy(r,i,t||Ht.encoder);default:return Ey(r,i,t||xn.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(t){return By(/^0\.0/,Cy),!!(t&&(t[V0]||t.asCID===t))}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(t){if(t instanceof xe)return t;if(t!=null&&t.asCID===t){let{version:r,code:n,multihash:i,bytes:a}=t;return new xe(r,n,i,a||M0(r,n,i.bytes))}else if(t!=null&&t[V0]===!0){let{version:r,multihash:n,code:i}=t,a=Zr(n);return xe.create(r,i,a)}else return null}static create(t,r,n){if(typeof r!="number")throw new Error("String codecs are no longer supported");switch(t){case 0:{if(r!==vi)throw new Error(`Version 0 CID must use dag-pb (code: ${vi}) block encoding`);return new xe(t,r,n,n.bytes)}case 1:{let i=M0(t,r,n.bytes);return new xe(t,r,n,i)}default:throw new Error("Invalid version")}}static createV0(t){return xe.create(0,vi,t)}static createV1(t,r){return xe.create(1,t,r)}static decode(t){let[r,n]=xe.decodeFirst(t);if(n.length)throw new Error("Incorrect length");return r}static decodeFirst(t){let r=xe.inspectBytes(t),n=r.size-r.multihashSize,i=cr(t.subarray(n,n+r.multihashSize));if(i.byteLength!==r.multihashSize)throw new Error("Incorrect length");let a=i.subarray(r.multihashSize-r.digestSize),s=new Yr(r.multihashCode,r.digestSize,a,i);return[r.version===0?xe.createV0(s):xe.createV1(r.codec,s),t.subarray(r.size)]}static inspectBytes(t){let r=0,n=()=>{let[l,h]=yi(t.subarray(r));return r+=h,l},i=n(),a=vi;if(i===18?(i=0,r=0):i===1&&(a=n()),i!==0&&i!==1)throw new RangeError(`Invalid CID version ${i}`);let s=r,o=n(),c=n(),u=r+c,f=u-s;return{version:i,codec:a,multihashCode:o,digestSize:c,multihashSize:f,size:u}}static parse(t,r){let[n,i]=by(t,r),a=xe.decode(i);return a._baseCache.set(n,t),a}},by=(e,t)=>{switch(e[0]){case"Q":{let r=t||Ht;return[Ht.prefix,r.decode(`${Ht.prefix}${e}`)]}case Ht.prefix:{let r=t||Ht;return[Ht.prefix,r.decode(e)]}case xn.prefix:{let r=t||xn;return[xn.prefix,r.decode(e)]}default:{if(t==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}}},wy=(e,t,r)=>{let{prefix:n}=r;if(n!==Ht.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let i=t.get(n);if(i==null){let a=r.encode(e).slice(1);return t.set(n,a),a}else return i},Ey=(e,t,r)=>{let{prefix:n}=r,i=t.get(n);if(i==null){let a=r.encode(e);return t.set(n,a),a}else return i},vi=112,Sy=18,M0=(e,t,r)=>{let n=Bn(e),i=n+Bn(t),a=new Uint8Array(i+r.byteLength);return Dn(e,a,0),Dn(t,a,n),a.set(r,i),a},V0=Symbol.for("@ipld/js-cid/CID"),ga={writable:!1,configurable:!1,enumerable:!0},va={writable:!1,enumerable:!1,configurable:!1},Dy="0.0.0-dev",By=(e,t)=>{if(e.test(Dy))console.warn(t);else throw new Error(t)},Cy=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`});var H0=fe(()=>{ma();ya();Dr();Ms();Cr()});var Vs,ob,$0=fe(()=>{D0();B0();C0();A0();Fs();bn();pa();En();pi();_0();Cn();Tn();O0();q0();H0();Vs={...Rs,...Ns,...ks,...Ps,...fa,...hi,...ha,...wn,...Sn,...Us},ob={...jr,...gi}});function W0(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}var G0,zs,Ay,xa,Hs=fe(()=>{$0();G0=W0("utf8","u",e=>{let t=new TextDecoder("utf8");return"u"+t.decode(e)},e=>new TextEncoder().encode(e.substring(1))),zs=W0("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{e=e.substring(1);let t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),Ay={utf8:G0,"utf-8":G0,hex:Vs.base16,latin1:zs,ascii:zs,binary:zs,...Vs},xa=Ay});var lr={};Pe(lr,{fromString:()=>Pt});function Pt(e,t="utf8"){let r=xa[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return r.decoder.decode(`${r.prefix}${e}`)}var yt=fe(()=>{Hs()});var pr={};Pe(pr,{toString:()=>hr});function hr(e,t="utf8"){let r=xa[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return r.encoder.encode(e).substring(1)}var gt=fe(()=>{Hs()});var mi=A(Y0=>{"use strict";Y0.get=(e=globalThis)=>{let t=e.crypto;if(!t||!t.subtle)throw Object.assign(new Error("Missing Web Crypto API. The most likely cause of this error is that this page is being accessed from an insecure context (i.e. not HTTPS). For more information and possible resolutions see https://github.com/libp2p/js-libp2p-crypto/blob/master/README.md#web-crypto-api"),{code:"ERR_MISSING_WEB_CRYPTO"});return t}});var j0=A((db,Z0)=>{"use strict";Z0.exports={SHA1:20,SHA256:32,SHA512:64}});var $s=A(X0=>{"use strict";var Q0=mi(),Ty=j0(),Iy={SHA1:"SHA-1",SHA256:"SHA-256",SHA512:"SHA-512"},_y=async(e,t)=>{let r=await Q0.get().subtle.sign({name:"HMAC"},e,t);return new Uint8Array(r,r.byteOffset,r.byteLength)};X0.create=async function(e,t){let r=Iy[e],n=await Q0.get().subtle.importKey("raw",t,{name:"HMAC",hash:{name:r}},!1,["sign"]);return{async digest(i){return _y(n,i)},length:Ty[e]}}});var le=A((gb,J0)=>{J0.exports={options:{usePureJavaScript:!1}}});var ru=A((vb,tu)=>{var Gs={};tu.exports=Gs;var eu={};Gs.encode=function(e,t,r){if(typeof t!="string")throw new TypeError('"alphabet" must be a string.');if(r!==void 0&&typeof r!="number")throw new TypeError('"maxline" must be a number.');var n="";if(!(e instanceof Uint8Array))n=Ry(e,t);else{var i=0,a=t.length,s=t.charAt(0),o=[0];for(i=0;i<e.length;++i){for(var c=0,u=e[i];c<o.length;++c)u+=o[c]<<8,o[c]=u%a,u=u/a|0;for(;u>0;)o.push(u%a),u=u/a|0}for(i=0;e[i]===0&&i<e.length-1;++i)n+=s;for(i=o.length-1;i>=0;--i)n+=t[o[i]]}if(r){var f=new RegExp(".{1,"+r+"}","g");n=n.match(f).join(`\r
`)}return n};Gs.decode=function(e,t){if(typeof e!="string")throw new TypeError('"input" must be a string.');if(typeof t!="string")throw new TypeError('"alphabet" must be a string.');var r=eu[t];if(!r){r=eu[t]=[];for(var n=0;n<t.length;++n)r[t.charCodeAt(n)]=n}e=e.replace(/\s/g,"");for(var i=t.length,a=t.charAt(0),s=[0],n=0;n<e.length;n++){var o=r[e.charCodeAt(n)];if(o===void 0)return;for(var c=0,u=o;c<s.length;++c)u+=s[c]*i,s[c]=u&255,u>>=8;for(;u>0;)s.push(u&255),u>>=8}for(var f=0;e[f]===a&&f<e.length-1;++f)s.push(0);return typeof Buffer<"u"?Buffer.from(s.reverse()):new Uint8Array(s.reverse())};function Ry(e,t){var r=0,n=t.length,i=t.charAt(0),a=[0];for(r=0;r<e.length();++r){for(var s=0,o=e.at(r);s<a.length;++s)o+=a[s]<<8,a[s]=o%n,o=o/n|0;for(;o>0;)a.push(o%n),o=o/n|0}var c="";for(r=0;e.at(r)===0&&r<e.length()-1;++r)c+=i;for(r=a.length-1;r>=0;--r)c+=t[a[r]];return c}});var Ie=A((mb,su)=>{var nu=le(),iu=ru(),g=su.exports=nu.util=nu.util||{};(function(){if(typeof process<"u"&&process.nextTick&&!process.browser){g.nextTick=process.nextTick,typeof setImmediate=="function"?g.setImmediate=setImmediate:g.setImmediate=g.nextTick;return}if(typeof setImmediate=="function"){g.setImmediate=function(){return setImmediate.apply(void 0,arguments)},g.nextTick=function(o){return setImmediate(o)};return}if(g.setImmediate=function(o){setTimeout(o,0)},typeof window<"u"&&typeof window.postMessage=="function"){let o=function(c){if(c.source===window&&c.data===e){c.stopPropagation();var u=t.slice();t.length=0,u.forEach(function(f){f()})}};var s=o,e="forge.setImmediate",t=[];g.setImmediate=function(c){t.push(c),t.length===1&&window.postMessage(e,"*")},window.addEventListener("message",o,!0)}if(typeof MutationObserver<"u"){var r=Date.now(),n=!0,i=document.createElement("div"),t=[];new MutationObserver(function(){var c=t.slice();t.length=0,c.forEach(function(u){u()})}).observe(i,{attributes:!0});var a=g.setImmediate;g.setImmediate=function(c){Date.now()-r>15?(r=Date.now(),a(c)):(t.push(c),t.length===1&&i.setAttribute("a",n=!n))}}g.nextTick=g.setImmediate})();g.isNodejs=typeof process<"u"&&process.versions&&process.versions.node;g.globalScope=function(){return g.isNodejs?globalThis:typeof self>"u"?window:self}();g.isArray=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};g.isArrayBuffer=function(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer};g.isArrayBufferView=function(e){return e&&g.isArrayBuffer(e.buffer)&&e.byteLength!==void 0};function xi(e){if(!(e===8||e===16||e===24||e===32))throw new Error("Only 8, 16, 24, or 32 bits supported: "+e)}g.ByteBuffer=Ws;function Ws(e){if(this.data="",this.read=0,typeof e=="string")this.data=e;else if(g.isArrayBuffer(e)||g.isArrayBufferView(e))if(typeof Buffer<"u"&&e instanceof Buffer)this.data=e.toString("binary");else{var t=new Uint8Array(e);try{this.data=String.fromCharCode.apply(null,t)}catch{for(var r=0;r<t.length;++r)this.putByte(t[r])}}else(e instanceof Ws||typeof e=="object"&&typeof e.data=="string"&&typeof e.read=="number")&&(this.data=e.data,this.read=e.read);this._constructedStringLength=0}g.ByteStringBuffer=Ws;var Ny=4096;g.ByteStringBuffer.prototype._optimizeConstructedString=function(e){this._constructedStringLength+=e,this._constructedStringLength>Ny&&(this.data.substr(0,1),this._constructedStringLength=0)};g.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read};g.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0};g.ByteStringBuffer.prototype.putByte=function(e){return this.putBytes(String.fromCharCode(e))};g.ByteStringBuffer.prototype.fillWithByte=function(e,t){e=String.fromCharCode(e);for(var r=this.data;t>0;)t&1&&(r+=e),t>>>=1,t>0&&(e+=e);return this.data=r,this._optimizeConstructedString(t),this};g.ByteStringBuffer.prototype.putBytes=function(e){return this.data+=e,this._optimizeConstructedString(e.length),this};g.ByteStringBuffer.prototype.putString=function(e){return this.putBytes(g.encodeUtf8(e))};g.ByteStringBuffer.prototype.putInt16=function(e){return this.putBytes(String.fromCharCode(e>>8&255)+String.fromCharCode(e&255))};g.ByteStringBuffer.prototype.putInt24=function(e){return this.putBytes(String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&255))};g.ByteStringBuffer.prototype.putInt32=function(e){return this.putBytes(String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&255))};g.ByteStringBuffer.prototype.putInt16Le=function(e){return this.putBytes(String.fromCharCode(e&255)+String.fromCharCode(e>>8&255))};g.ByteStringBuffer.prototype.putInt24Le=function(e){return this.putBytes(String.fromCharCode(e&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255))};g.ByteStringBuffer.prototype.putInt32Le=function(e){return this.putBytes(String.fromCharCode(e&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>24&255))};g.ByteStringBuffer.prototype.putInt=function(e,t){xi(t);var r="";do t-=8,r+=String.fromCharCode(e>>t&255);while(t>0);return this.putBytes(r)};g.ByteStringBuffer.prototype.putSignedInt=function(e,t){return e<0&&(e+=2<<t-1),this.putInt(e,t)};g.ByteStringBuffer.prototype.putBuffer=function(e){return this.putBytes(e.getBytes())};g.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)};g.ByteStringBuffer.prototype.getInt16=function(){var e=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,e};g.ByteStringBuffer.prototype.getInt24=function(){var e=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,e};g.ByteStringBuffer.prototype.getInt32=function(){var e=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,e};g.ByteStringBuffer.prototype.getInt16Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,e};g.ByteStringBuffer.prototype.getInt24Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,e};g.ByteStringBuffer.prototype.getInt32Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,e};g.ByteStringBuffer.prototype.getInt=function(e){xi(e);var t=0;do t=(t<<8)+this.data.charCodeAt(this.read++),e-=8;while(e>0);return t};g.ByteStringBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),r=2<<e-2;return t>=r&&(t-=r<<1),t};g.ByteStringBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):e===0?t="":(t=this.read===0?this.data:this.data.slice(this.read),this.clear()),t};g.ByteStringBuffer.prototype.bytes=function(e){return typeof e>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+e)};g.ByteStringBuffer.prototype.at=function(e){return this.data.charCodeAt(this.read+e)};g.ByteStringBuffer.prototype.setAt=function(e,t){return this.data=this.data.substr(0,this.read+e)+String.fromCharCode(t)+this.data.substr(this.read+e+1),this};g.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)};g.ByteStringBuffer.prototype.copy=function(){var e=g.createBuffer(this.data);return e.read=this.read,e};g.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this};g.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this};g.ByteStringBuffer.prototype.truncate=function(e){var t=Math.max(0,this.length()-e);return this.data=this.data.substr(this.read,t),this.read=0,this};g.ByteStringBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.length;++t){var r=this.data.charCodeAt(t);r<16&&(e+="0"),e+=r.toString(16)}return e};g.ByteStringBuffer.prototype.toString=function(){return g.decodeUtf8(this.bytes())};function ky(e,t){t=t||{},this.read=t.readOffset||0,this.growSize=t.growSize||1024;var r=g.isArrayBuffer(e),n=g.isArrayBufferView(e);if(r||n){r?this.data=new DataView(e):this.data=new DataView(e.buffer,e.byteOffset,e.byteLength),this.write="writeOffset"in t?t.writeOffset:this.data.byteLength;return}this.data=new DataView(new ArrayBuffer(0)),this.write=0,e!=null&&this.putBytes(e),"writeOffset"in t&&(this.write=t.writeOffset)}g.DataBuffer=ky;g.DataBuffer.prototype.length=function(){return this.write-this.read};g.DataBuffer.prototype.isEmpty=function(){return this.length()<=0};g.DataBuffer.prototype.accommodate=function(e,t){if(this.length()>=e)return this;t=Math.max(t||this.growSize,e);var r=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),n=new Uint8Array(this.length()+t);return n.set(r),this.data=new DataView(n.buffer),this};g.DataBuffer.prototype.putByte=function(e){return this.accommodate(1),this.data.setUint8(this.write++,e),this};g.DataBuffer.prototype.fillWithByte=function(e,t){this.accommodate(t);for(var r=0;r<t;++r)this.data.setUint8(e);return this};g.DataBuffer.prototype.putBytes=function(e,t){if(g.isArrayBufferView(e)){var r=new Uint8Array(e.buffer,e.byteOffset,e.byteLength),n=r.byteLength-r.byteOffset;this.accommodate(n);var i=new Uint8Array(this.data.buffer,this.write);return i.set(r),this.write+=n,this}if(g.isArrayBuffer(e)){var r=new Uint8Array(e);this.accommodate(r.byteLength);var i=new Uint8Array(this.data.buffer);return i.set(r,this.write),this.write+=r.byteLength,this}if(e instanceof g.DataBuffer||typeof e=="object"&&typeof e.read=="number"&&typeof e.write=="number"&&g.isArrayBufferView(e.data)){var r=new Uint8Array(e.data.byteLength,e.read,e.length());this.accommodate(r.byteLength);var i=new Uint8Array(e.data.byteLength,this.write);return i.set(r),this.write+=r.byteLength,this}if(e instanceof g.ByteStringBuffer&&(e=e.data,t="binary"),t=t||"binary",typeof e=="string"){var a;if(t==="hex")return this.accommodate(Math.ceil(e.length/2)),a=new Uint8Array(this.data.buffer,this.write),this.write+=g.binary.hex.decode(e,a,this.write),this;if(t==="base64")return this.accommodate(Math.ceil(e.length/4)*3),a=new Uint8Array(this.data.buffer,this.write),this.write+=g.binary.base64.decode(e,a,this.write),this;if(t==="utf8"&&(e=g.encodeUtf8(e),t="binary"),t==="binary"||t==="raw")return this.accommodate(e.length),a=new Uint8Array(this.data.buffer,this.write),this.write+=g.binary.raw.decode(a),this;if(t==="utf16")return this.accommodate(e.length*2),a=new Uint16Array(this.data.buffer,this.write),this.write+=g.text.utf16.encode(a),this;throw new Error("Invalid encoding: "+t)}throw Error("Invalid parameter: "+e)};g.DataBuffer.prototype.putBuffer=function(e){return this.putBytes(e),e.clear(),this};g.DataBuffer.prototype.putString=function(e){return this.putBytes(e,"utf16")};g.DataBuffer.prototype.putInt16=function(e){return this.accommodate(2),this.data.setInt16(this.write,e),this.write+=2,this};g.DataBuffer.prototype.putInt24=function(e){return this.accommodate(3),this.data.setInt16(this.write,e>>8&65535),this.data.setInt8(this.write,e>>16&255),this.write+=3,this};g.DataBuffer.prototype.putInt32=function(e){return this.accommodate(4),this.data.setInt32(this.write,e),this.write+=4,this};g.DataBuffer.prototype.putInt16Le=function(e){return this.accommodate(2),this.data.setInt16(this.write,e,!0),this.write+=2,this};g.DataBuffer.prototype.putInt24Le=function(e){return this.accommodate(3),this.data.setInt8(this.write,e>>16&255),this.data.setInt16(this.write,e>>8&65535,!0),this.write+=3,this};g.DataBuffer.prototype.putInt32Le=function(e){return this.accommodate(4),this.data.setInt32(this.write,e,!0),this.write+=4,this};g.DataBuffer.prototype.putInt=function(e,t){xi(t),this.accommodate(t/8);do t-=8,this.data.setInt8(this.write++,e>>t&255);while(t>0);return this};g.DataBuffer.prototype.putSignedInt=function(e,t){return xi(t),this.accommodate(t/8),e<0&&(e+=2<<t-1),this.putInt(e,t)};g.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)};g.DataBuffer.prototype.getInt16=function(){var e=this.data.getInt16(this.read);return this.read+=2,e};g.DataBuffer.prototype.getInt24=function(){var e=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,e};g.DataBuffer.prototype.getInt32=function(){var e=this.data.getInt32(this.read);return this.read+=4,e};g.DataBuffer.prototype.getInt16Le=function(){var e=this.data.getInt16(this.read,!0);return this.read+=2,e};g.DataBuffer.prototype.getInt24Le=function(){var e=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,e};g.DataBuffer.prototype.getInt32Le=function(){var e=this.data.getInt32(this.read,!0);return this.read+=4,e};g.DataBuffer.prototype.getInt=function(e){xi(e);var t=0;do t=(t<<8)+this.data.getInt8(this.read++),e-=8;while(e>0);return t};g.DataBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),r=2<<e-2;return t>=r&&(t-=r<<1),t};g.DataBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):e===0?t="":(t=this.read===0?this.data:this.data.slice(this.read),this.clear()),t};g.DataBuffer.prototype.bytes=function(e){return typeof e>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+e)};g.DataBuffer.prototype.at=function(e){return this.data.getUint8(this.read+e)};g.DataBuffer.prototype.setAt=function(e,t){return this.data.setUint8(e,t),this};g.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)};g.DataBuffer.prototype.copy=function(){return new g.DataBuffer(this)};g.DataBuffer.prototype.compact=function(){if(this.read>0){var e=new Uint8Array(this.data.buffer,this.read),t=new Uint8Array(e.byteLength);t.set(e),this.data=new DataView(t),this.write-=this.read,this.read=0}return this};g.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this};g.DataBuffer.prototype.truncate=function(e){return this.write=Math.max(0,this.length()-e),this.read=Math.min(this.read,this.write),this};g.DataBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.byteLength;++t){var r=this.data.getUint8(t);r<16&&(e+="0"),e+=r.toString(16)}return e};g.DataBuffer.prototype.toString=function(e){var t=new Uint8Array(this.data,this.read,this.length());if(e=e||"utf8",e==="binary"||e==="raw")return g.binary.raw.encode(t);if(e==="hex")return g.binary.hex.encode(t);if(e==="base64")return g.binary.base64.encode(t);if(e==="utf8")return g.text.utf8.decode(t);if(e==="utf16")return g.text.utf16.decode(t);throw new Error("Invalid encoding: "+e)};g.createBuffer=function(e,t){return t=t||"raw",e!==void 0&&t==="utf8"&&(e=g.encodeUtf8(e)),new g.ByteBuffer(e)};g.fillString=function(e,t){for(var r="";t>0;)t&1&&(r+=e),t>>>=1,t>0&&(e+=e);return r};g.xorBytes=function(e,t,r){for(var n="",i="",a="",s=0,o=0;r>0;--r,++s)i=e.charCodeAt(s)^t.charCodeAt(s),o>=10&&(n+=a,a="",o=0),a+=String.fromCharCode(i),++o;return n+=a,n};g.hexToBytes=function(e){var t="",r=0;for(e.length&!0&&(r=1,t+=String.fromCharCode(parseInt(e[0],16)));r<e.length;r+=2)t+=String.fromCharCode(parseInt(e.substr(r,2),16));return t};g.bytesToHex=function(e){return g.createBuffer(e).toHex()};g.int32ToBytes=function(e){return String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&255)};var Ar="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Tr=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],au="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";g.encode64=function(e,t){for(var r="",n="",i,a,s,o=0;o<e.length;)i=e.charCodeAt(o++),a=e.charCodeAt(o++),s=e.charCodeAt(o++),r+=Ar.charAt(i>>2),r+=Ar.charAt((i&3)<<4|a>>4),isNaN(a)?r+="==":(r+=Ar.charAt((a&15)<<2|s>>6),r+=isNaN(s)?"=":Ar.charAt(s&63)),t&&r.length>t&&(n+=r.substr(0,t)+`\r
`,r=r.substr(t));return n+=r,n};g.decode64=function(e){e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var t="",r,n,i,a,s=0;s<e.length;)r=Tr[e.charCodeAt(s++)-43],n=Tr[e.charCodeAt(s++)-43],i=Tr[e.charCodeAt(s++)-43],a=Tr[e.charCodeAt(s++)-43],t+=String.fromCharCode(r<<2|n>>4),i!==64&&(t+=String.fromCharCode((n&15)<<4|i>>2),a!==64&&(t+=String.fromCharCode((i&3)<<6|a)));return t};g.encodeUtf8=function(e){return unescape(encodeURIComponent(e))};g.decodeUtf8=function(e){return decodeURIComponent(escape(e))};g.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:iu.encode,decode:iu.decode}};g.binary.raw.encode=function(e){return String.fromCharCode.apply(null,e)};g.binary.raw.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(e.length)),r=r||0;for(var i=r,a=0;a<e.length;++a)n[i++]=e.charCodeAt(a);return t?i-r:n};g.binary.hex.encode=g.bytesToHex;g.binary.hex.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(Math.ceil(e.length/2))),r=r||0;var i=0,a=r;for(e.length&1&&(i=1,n[a++]=parseInt(e[0],16));i<e.length;i+=2)n[a++]=parseInt(e.substr(i,2),16);return t?a-r:n};g.binary.base64.encode=function(e,t){for(var r="",n="",i,a,s,o=0;o<e.byteLength;)i=e[o++],a=e[o++],s=e[o++],r+=Ar.charAt(i>>2),r+=Ar.charAt((i&3)<<4|a>>4),isNaN(a)?r+="==":(r+=Ar.charAt((a&15)<<2|s>>6),r+=isNaN(s)?"=":Ar.charAt(s&63)),t&&r.length>t&&(n+=r.substr(0,t)+`\r
`,r=r.substr(t));return n+=r,n};g.binary.base64.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(Math.ceil(e.length/4)*3)),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,""),r=r||0;for(var i,a,s,o,c=0,u=r;c<e.length;)i=Tr[e.charCodeAt(c++)-43],a=Tr[e.charCodeAt(c++)-43],s=Tr[e.charCodeAt(c++)-43],o=Tr[e.charCodeAt(c++)-43],n[u++]=i<<2|a>>4,s!==64&&(n[u++]=(a&15)<<4|s>>2,o!==64&&(n[u++]=(s&3)<<6|o));return t?u-r:n.subarray(0,u)};g.binary.base58.encode=function(e,t){return g.binary.baseN.encode(e,au,t)};g.binary.base58.decode=function(e,t){return g.binary.baseN.decode(e,au,t)};g.text={utf8:{},utf16:{}};g.text.utf8.encode=function(e,t,r){e=g.encodeUtf8(e);var n=t;n||(n=new Uint8Array(e.length)),r=r||0;for(var i=r,a=0;a<e.length;++a)n[i++]=e.charCodeAt(a);return t?i-r:n};g.text.utf8.decode=function(e){return g.decodeUtf8(String.fromCharCode.apply(null,e))};g.text.utf16.encode=function(e,t,r){var n=t;n||(n=new Uint8Array(e.length*2));var i=new Uint16Array(n.buffer);r=r||0;for(var a=r,s=r,o=0;o<e.length;++o)i[s++]=e.charCodeAt(o),a+=2;return t?a-r:n};g.text.utf16.decode=function(e){return String.fromCharCode.apply(null,new Uint16Array(e.buffer))};g.deflate=function(e,t,r){if(t=g.decode64(e.deflate(g.encode64(t)).rval),r){var n=2,i=t.charCodeAt(1);i&32&&(n=6),t=t.substring(n,t.length-4)}return t};g.inflate=function(e,t,r){var n=e.inflate(g.encode64(t)).rval;return n===null?null:g.decode64(n)};var Ys=function(e,t,r){if(!e)throw new Error("WebStorage not available.");var n;if(r===null?n=e.removeItem(t):(r=g.encode64(JSON.stringify(r)),n=e.setItem(t,r)),typeof n<"u"&&n.rval!==!0){var i=new Error(n.error.message);throw i.id=n.error.id,i.name=n.error.name,i}},Zs=function(e,t){if(!e)throw new Error("WebStorage not available.");var r=e.getItem(t);if(e.init)if(r.rval===null){if(r.error){var n=new Error(r.error.message);throw n.id=r.error.id,n.name=r.error.name,n}r=null}else r=r.rval;return r!==null&&(r=JSON.parse(g.decode64(r))),r},Py=function(e,t,r,n){var i=Zs(e,t);i===null&&(i={}),i[r]=n,Ys(e,t,i)},Fy=function(e,t,r){var n=Zs(e,t);return n!==null&&(n=r in n?n[r]:null),n},Uy=function(e,t,r){var n=Zs(e,t);if(n!==null&&r in n){delete n[r];var i=!0;for(var a in n){i=!1;break}i&&(n=null),Ys(e,t,n)}},Ky=function(e,t){Ys(e,t,null)},ba=function(e,t,r){var n=null;typeof r>"u"&&(r=["web","flash"]);var i,a=!1,s=null;for(var o in r){i=r[o];try{if(i==="flash"||i==="both"){if(t[0]===null)throw new Error("Flash local storage not available.");n=e.apply(this,t),a=i==="flash"}(i==="web"||i==="both")&&(t[0]=localStorage,n=e.apply(this,t),a=!0)}catch(c){s=c}if(a)break}if(!a)throw s;return n};g.setItem=function(e,t,r,n,i){ba(Py,arguments,i)};g.getItem=function(e,t,r,n){return ba(Fy,arguments,n)};g.removeItem=function(e,t,r,n){ba(Uy,arguments,n)};g.clearItems=function(e,t,r){ba(Ky,arguments,r)};g.isEmpty=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0};g.format=function(e){for(var t=/%./g,r,n,i=0,a=[],s=0;r=t.exec(e);){n=e.substring(s,t.lastIndex-2),n.length>0&&a.push(n),s=t.lastIndex;var o=r[0][1];switch(o){case"s":case"o":i<arguments.length?a.push(arguments[i+++1]):a.push("<?>");break;case"%":a.push("%");break;default:a.push("<%"+o+"?>")}}return a.push(e.substring(s)),a.join("")};g.formatNumber=function(e,t,r,n){var i=e,a=isNaN(t=Math.abs(t))?2:t,s=r===void 0?",":r,o=n===void 0?".":n,c=i<0?"-":"",u=parseInt(i=Math.abs(+i||0).toFixed(a),10)+"",f=u.length>3?u.length%3:0;return c+(f?u.substr(0,f)+o:"")+u.substr(f).replace(/(\d{3})(?=\d)/g,"$1"+o)+(a?s+Math.abs(i-u).toFixed(a).slice(2):"")};g.formatSize=function(e){return e>=1073741824?e=g.formatNumber(e/1073741824,2,".","")+" GiB":e>=1048576?e=g.formatNumber(e/1048576,2,".","")+" MiB":e>=1024?e=g.formatNumber(e/1024,0)+" KiB":e=g.formatNumber(e,0)+" bytes",e};g.bytesFromIP=function(e){return e.indexOf(".")!==-1?g.bytesFromIPv4(e):e.indexOf(":")!==-1?g.bytesFromIPv6(e):null};g.bytesFromIPv4=function(e){if(e=e.split("."),e.length!==4)return null;for(var t=g.createBuffer(),r=0;r<e.length;++r){var n=parseInt(e[r],10);if(isNaN(n))return null;t.putByte(n)}return t.getBytes()};g.bytesFromIPv6=function(e){var t=0;e=e.split(":").filter(function(s){return s.length===0&&++t,!0});for(var r=(8-e.length+t)*2,n=g.createBuffer(),i=0;i<8;++i){if(!e[i]||e[i].length===0){n.fillWithByte(0,r),r=0;continue}var a=g.hexToBytes(e[i]);a.length<2&&n.putByte(0),n.putBytes(a)}return n.getBytes()};g.bytesToIP=function(e){return e.length===4?g.bytesToIPv4(e):e.length===16?g.bytesToIPv6(e):null};g.bytesToIPv4=function(e){if(e.length!==4)return null;for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t.join(".")};g.bytesToIPv6=function(e){if(e.length!==16)return null;for(var t=[],r=[],n=0,i=0;i<e.length;i+=2){for(var a=g.bytesToHex(e[i]+e[i+1]);a[0]==="0"&&a!=="0";)a=a.substr(1);if(a==="0"){var s=r[r.length-1],o=t.length;!s||o!==s.end+1?r.push({start:o,end:o}):(s.end=o,s.end-s.start>r[n].end-r[n].start&&(n=r.length-1))}t.push(a)}if(r.length>0){var c=r[n];c.end-c.start>0&&(t.splice(c.start,c.end-c.start+1,""),c.start===0&&t.unshift(""),c.end===7&&t.push(""))}return t.join(":")};g.estimateCores=function(e,t){if(typeof e=="function"&&(t=e,e={}),e=e||{},"cores"in g&&!e.update)return t(null,g.cores);if(typeof navigator<"u"&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return g.cores=navigator.hardwareConcurrency,t(null,g.cores);if(typeof Worker>"u")return g.cores=1,t(null,g.cores);if(typeof Blob>"u")return g.cores=2,t(null,g.cores);var r=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",function(s){for(var o=Date.now(),c=o+4;Date.now()<c;);self.postMessage({st:o,et:c})})}.toString(),")()"],{type:"application/javascript"}));n([],5,16);function n(s,o,c){if(o===0){var u=Math.floor(s.reduce(function(f,l){return f+l},0)/s.length);return g.cores=Math.max(1,u),URL.revokeObjectURL(r),t(null,g.cores)}i(c,function(f,l){s.push(a(c,l)),n(s,o-1,c)})}function i(s,o){for(var c=[],u=[],f=0;f<s;++f){var l=new Worker(r);l.addEventListener("message",function(h){if(u.push(h.data),u.length===s){for(var d=0;d<s;++d)c[d].terminate();o(null,u)}}),c.push(l)}for(var f=0;f<s;++f)c[f].postMessage(f)}function a(s,o){for(var c=[],u=0;u<s;++u)for(var f=o[u],l=c[u]=[],h=0;h<s;++h)if(u!==h){var d=o[h];(f.st>d.st&&f.st<d.et||d.st>f.st&&d.st<f.et)&&l.push(h)}return c.reduce(function(p,y){return Math.max(p,y.length)},0)}}});var Qs=A((xb,ou)=>{var Ue=le();Ie();ou.exports=Ue.cipher=Ue.cipher||{};Ue.cipher.algorithms=Ue.cipher.algorithms||{};Ue.cipher.createCipher=function(e,t){var r=e;if(typeof r=="string"&&(r=Ue.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+e);return new Ue.cipher.BlockCipher({algorithm:r,key:t,decrypt:!1})};Ue.cipher.createDecipher=function(e,t){var r=e;if(typeof r=="string"&&(r=Ue.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+e);return new Ue.cipher.BlockCipher({algorithm:r,key:t,decrypt:!0})};Ue.cipher.registerAlgorithm=function(e,t){e=e.toUpperCase(),Ue.cipher.algorithms[e]=t};Ue.cipher.getAlgorithm=function(e){return e=e.toUpperCase(),e in Ue.cipher.algorithms?Ue.cipher.algorithms[e]:null};var js=Ue.cipher.BlockCipher=function(e){this.algorithm=e.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=e.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=e.decrypt,this.algorithm.initialize(e)};js.prototype.start=function(e){e=e||{};var t={};for(var r in e)t[r]=e[r];t.decrypt=this._decrypt,this._finish=!1,this._input=Ue.util.createBuffer(),this.output=e.output||Ue.util.createBuffer(),this.mode.start(t)};js.prototype.update=function(e){for(e&&this._input.putBuffer(e);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()};js.prototype.finish=function(e){e&&(this.mode.name==="ECB"||this.mode.name==="CBC")&&(this.mode.pad=function(r){return e(this.blockSize,r,!1)},this.mode.unpad=function(r){return e(this.blockSize,r,!0)});var t={};return t.decrypt=this._decrypt,t.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,t)||(this._finish=!0,this.update(),this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,t))||this.mode.afterFinish&&!this.mode.afterFinish(this.output,t))}});var Js=A((bb,uu)=>{var Ke=le();Ie();Ke.cipher=Ke.cipher||{};var Q=uu.exports=Ke.cipher.modes=Ke.cipher.modes||{};Q.ecb=function(e){e=e||{},this.name="ECB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};Q.ecb.prototype.start=function(e){};Q.ecb.prototype.encrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._outBlock[n])};Q.ecb.prototype.decrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._outBlock[n])};Q.ecb.prototype.pad=function(e,t){var r=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();return e.fillWithByte(r,r),!0};Q.ecb.prototype.unpad=function(e,t){if(t.overflow>0)return!1;var r=e.length(),n=e.at(r-1);return n>this.blockSize<<2?!1:(e.truncate(n),!0)};Q.cbc=function(e){e=e||{},this.name="CBC",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};Q.cbc.prototype.start=function(e){if(e.iv===null){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else if("iv"in e)this._iv=wa(e.iv,this.blockSize),this._prev=this._iv.slice(0);else throw new Error("Invalid IV parameter.")};Q.cbc.prototype.encrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=this._prev[n]^e.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._outBlock[n]);this._prev=this._outBlock};Q.cbc.prototype.decrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._prev[n]^this._outBlock[n]);this._prev=this._inBlock.slice(0)};Q.cbc.prototype.pad=function(e,t){var r=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();return e.fillWithByte(r,r),!0};Q.cbc.prototype.unpad=function(e,t){if(t.overflow>0)return!1;var r=e.length(),n=e.at(r-1);return n>this.blockSize<<2?!1:(e.truncate(n),!0)};Q.cfb=function(e){e=e||{},this.name="CFB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=Ke.util.createBuffer(),this._partialBytes=0};Q.cfb.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=wa(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};Q.cfb.prototype.encrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)this._inBlock[i]=e.getInt32()^this._outBlock[i],t.putInt32(this._inBlock[i]);return}var a=(this.blockSize-n)%this.blockSize;a>0&&(a=this.blockSize-a),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialBlock[i]=e.getInt32()^this._outBlock[i],this._partialOutput.putInt32(this._partialBlock[i]);if(a>0)e.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),a>0&&!r)return t.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=a,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};Q.cfb.prototype.decrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)this._inBlock[i]=e.getInt32(),t.putInt32(this._inBlock[i]^this._outBlock[i]);return}var a=(this.blockSize-n)%this.blockSize;a>0&&(a=this.blockSize-a),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialBlock[i]=e.getInt32(),this._partialOutput.putInt32(this._partialBlock[i]^this._outBlock[i]);if(a>0)e.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),a>0&&!r)return t.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=a,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};Q.ofb=function(e){e=e||{},this.name="OFB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=Ke.util.createBuffer(),this._partialBytes=0};Q.ofb.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=wa(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};Q.ofb.prototype.encrypt=function(e,t,r){var n=e.length();if(e.length()===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)t.putInt32(e.getInt32()^this._outBlock[i]),this._inBlock[i]=this._outBlock[i];return}var a=(this.blockSize-n)%this.blockSize;a>0&&(a=this.blockSize-a),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(e.getInt32()^this._outBlock[i]);if(a>0)e.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._outBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),a>0&&!r)return t.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=a,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};Q.ofb.prototype.decrypt=Q.ofb.prototype.encrypt;Q.ctr=function(e){e=e||{},this.name="CTR",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=Ke.util.createBuffer(),this._partialBytes=0};Q.ctr.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=wa(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};Q.ctr.prototype.encrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize)for(var i=0;i<this._ints;++i)t.putInt32(e.getInt32()^this._outBlock[i]);else{var a=(this.blockSize-n)%this.blockSize;a>0&&(a=this.blockSize-a),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(e.getInt32()^this._outBlock[i]);if(a>0&&(e.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),a>0&&!r)return t.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=a,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}Ea(this._inBlock)};Q.ctr.prototype.decrypt=Q.ctr.prototype.encrypt;Q.gcm=function(e){e=e||{},this.name="GCM",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=Ke.util.createBuffer(),this._partialBytes=0,this._R=3774873600};Q.gcm.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");var t=Ke.util.createBuffer(e.iv);this._cipherLength=0;var r;if("additionalData"in e?r=Ke.util.createBuffer(e.additionalData):r=Ke.util.createBuffer(),"tagLength"in e?this._tagLength=e.tagLength:this._tagLength=128,this._tag=null,e.decrypt&&(this._tag=Ke.util.createBuffer(e.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var n=t.length();if(n===12)this._j0=[t.getInt32(),t.getInt32(),t.getInt32(),1];else{for(this._j0=[0,0,0,0];t.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[t.getInt32(),t.getInt32(),t.getInt32(),t.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(Xs(n*8)))}this._inBlock=this._j0.slice(0),Ea(this._inBlock),this._partialBytes=0,r=Ke.util.createBuffer(r),this._aDataLength=Xs(r.length()*8);var i=r.length()%this.blockSize;for(i&&r.fillWithByte(0,this.blockSize-i),this._s=[0,0,0,0];r.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[r.getInt32(),r.getInt32(),r.getInt32(),r.getInt32()])};Q.gcm.prototype.encrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)t.putInt32(this._outBlock[i]^=e.getInt32());this._cipherLength+=this.blockSize}else{var a=(this.blockSize-n)%this.blockSize;a>0&&(a=this.blockSize-a),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(e.getInt32()^this._outBlock[i]);if(a<=0||r){if(r){var s=n%this.blockSize;this._cipherLength+=s,this._partialOutput.truncate(this.blockSize-s)}else this._cipherLength+=this.blockSize;for(var i=0;i<this._ints;++i)this._outBlock[i]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),a>0&&!r)return e.read-=this.blockSize,t.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=a,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),Ea(this._inBlock)};Q.gcm.prototype.decrypt=function(e,t,r){var n=e.length();if(n<this.blockSize&&!(r&&n>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),Ea(this._inBlock),this._hashBlock[0]=e.getInt32(),this._hashBlock[1]=e.getInt32(),this._hashBlock[2]=e.getInt32(),this._hashBlock[3]=e.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var i=0;i<this._ints;++i)t.putInt32(this._outBlock[i]^this._hashBlock[i]);n<this.blockSize?this._cipherLength+=n%this.blockSize:this._cipherLength+=this.blockSize};Q.gcm.prototype.afterFinish=function(e,t){var r=!0;t.decrypt&&t.overflow&&e.truncate(this.blockSize-t.overflow),this.tag=Ke.util.createBuffer();var n=this._aDataLength.concat(Xs(this._cipherLength*8));this._s=this.ghash(this._hashSubkey,this._s,n);var i=[];this.cipher.encrypt(this._j0,i);for(var a=0;a<this._ints;++a)this.tag.putInt32(this._s[a]^i[a]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),t.decrypt&&this.tag.bytes()!==this._tag&&(r=!1),r};Q.gcm.prototype.multiply=function(e,t){for(var r=[0,0,0,0],n=t.slice(0),i=0;i<128;++i){var a=e[i/32|0]&1<<31-i%32;a&&(r[0]^=n[0],r[1]^=n[1],r[2]^=n[2],r[3]^=n[3]),this.pow(n,n)}return r};Q.gcm.prototype.pow=function(e,t){for(var r=e[3]&1,n=3;n>0;--n)t[n]=e[n]>>>1|(e[n-1]&1)<<31;t[0]=e[0]>>>1,r&&(t[0]^=this._R)};Q.gcm.prototype.tableMultiply=function(e){for(var t=[0,0,0,0],r=0;r<32;++r){var n=r/8|0,i=e[n]>>>(7-r%8)*4&15,a=this._m[r][i];t[0]^=a[0],t[1]^=a[1],t[2]^=a[2],t[3]^=a[3]}return t};Q.gcm.prototype.ghash=function(e,t,r){return t[0]^=r[0],t[1]^=r[1],t[2]^=r[2],t[3]^=r[3],this.tableMultiply(t)};Q.gcm.prototype.generateHashTable=function(e,t){for(var r=8/t,n=4*r,i=16*r,a=new Array(i),s=0;s<i;++s){var o=[0,0,0,0],c=s/n|0,u=(n-1-s%n)*t;o[c]=1<<t-1<<u,a[s]=this.generateSubHashTable(this.multiply(o,e),t)}return a};Q.gcm.prototype.generateSubHashTable=function(e,t){var r=1<<t,n=r>>>1,i=new Array(r);i[n]=e.slice(0);for(var a=n>>>1;a>0;)this.pow(i[2*a],i[a]=[]),a>>=1;for(a=2;a<n;){for(var s=1;s<a;++s){var o=i[a],c=i[s];i[a+s]=[o[0]^c[0],o[1]^c[1],o[2]^c[2],o[3]^c[3]]}a*=2}for(i[0]=[0,0,0,0],a=n+1;a<r;++a){var u=i[a^n];i[a]=[e[0]^u[0],e[1]^u[1],e[2]^u[2],e[3]^u[3]]}return i};function wa(e,t){if(typeof e=="string"&&(e=Ke.util.createBuffer(e)),Ke.util.isArray(e)&&e.length>4){var r=e;e=Ke.util.createBuffer();for(var n=0;n<r.length;++n)e.putByte(r[n])}if(e.length()<t)throw new Error("Invalid IV length; got "+e.length()+" bytes and expected "+t+" bytes.");if(!Ke.util.isArray(e)){for(var i=[],a=t/4,n=0;n<a;++n)i.push(e.getInt32());e=i}return e}function Ea(e){e[e.length-1]=e[e.length-1]+1&4294967295}function Xs(e){return[e/4294967296|0,e&4294967295]}});var Da=A((wb,hu)=>{var ge=le();Qs();Js();Ie();hu.exports=ge.aes=ge.aes||{};ge.aes.startEncrypting=function(e,t,r,n){var i=Sa({key:e,output:r,decrypt:!1,mode:n});return i.start(t),i};ge.aes.createEncryptionCipher=function(e,t){return Sa({key:e,output:null,decrypt:!1,mode:t})};ge.aes.startDecrypting=function(e,t,r,n){var i=Sa({key:e,output:r,decrypt:!0,mode:n});return i.start(t),i};ge.aes.createDecryptionCipher=function(e,t){return Sa({key:e,output:null,decrypt:!0,mode:t})};ge.aes.Algorithm=function(e,t){ro||fu();var r=this;r.name=e,r.mode=new t({blockSize:16,cipher:{encrypt:function(n,i){return to(r._w,n,i,!1)},decrypt:function(n,i){return to(r._w,n,i,!0)}}}),r._init=!1};ge.aes.Algorithm.prototype.initialize=function(e){if(!this._init){var t=e.key,r;if(typeof t=="string"&&(t.length===16||t.length===24||t.length===32))t=ge.util.createBuffer(t);else if(ge.util.isArray(t)&&(t.length===16||t.length===24||t.length===32)){r=t,t=ge.util.createBuffer();for(var n=0;n<r.length;++n)t.putByte(r[n])}if(!ge.util.isArray(t)){r=t,t=[];var i=r.length();if(i===16||i===24||i===32){i=i>>>2;for(var n=0;n<i;++n)t.push(r.getInt32())}}if(!ge.util.isArray(t)||!(t.length===4||t.length===6||t.length===8))throw new Error("Invalid key parameter.");var a=this.mode.name,s=["CFB","OFB","CTR","GCM"].indexOf(a)!==-1;this._w=lu(t,e.decrypt&&!s),this._init=!0}};ge.aes._expandKey=function(e,t){return ro||fu(),lu(e,t)};ge.aes._updateBlock=to;_n("AES-ECB",ge.cipher.modes.ecb);_n("AES-CBC",ge.cipher.modes.cbc);_n("AES-CFB",ge.cipher.modes.cfb);_n("AES-OFB",ge.cipher.modes.ofb);_n("AES-CTR",ge.cipher.modes.ctr);_n("AES-GCM",ge.cipher.modes.gcm);function _n(e,t){var r=function(){return new ge.aes.Algorithm(e,t)};ge.cipher.registerAlgorithm(e,r)}var ro=!1,In=4,Qe,eo,cu,Qr,Ft;function fu(){ro=!0,cu=[0,1,2,4,8,16,32,64,128,27,54];for(var e=new Array(256),t=0;t<128;++t)e[t]=t<<1,e[t+128]=t+128<<1^283;Qe=new Array(256),eo=new Array(256),Qr=new Array(4),Ft=new Array(4);for(var t=0;t<4;++t)Qr[t]=new Array(256),Ft[t]=new Array(256);for(var r=0,n=0,i,a,s,o,c,u,f,t=0;t<256;++t){o=n^n<<1^n<<2^n<<3^n<<4,o=o>>8^o&255^99,Qe[r]=o,eo[o]=r,c=e[o],i=e[r],a=e[i],s=e[a],u=c<<24^o<<16^o<<8^(o^c),f=(i^a^s)<<24^(r^s)<<16^(r^a^s)<<8^(r^i^s);for(var l=0;l<4;++l)Qr[l][r]=u,Ft[l][o]=f,u=u<<24|u>>>8,f=f<<24|f>>>8;r===0?r=n=1:(r=i^e[e[e[i^s]]],n^=e[e[n]])}}function lu(e,t){for(var r=e.slice(0),n,i=1,a=r.length,s=a+6+1,o=In*s,c=a;c<o;++c)n=r[c-1],c%a===0?(n=Qe[n>>>16&255]<<24^Qe[n>>>8&255]<<16^Qe[n&255]<<8^Qe[n>>>24]^cu[i]<<24,i++):a>6&&c%a===4&&(n=Qe[n>>>24]<<24^Qe[n>>>16&255]<<16^Qe[n>>>8&255]<<8^Qe[n&255]),r[c]=r[c-a]^n;if(t){var u,f=Ft[0],l=Ft[1],h=Ft[2],d=Ft[3],p=r.slice(0);o=r.length;for(var c=0,y=o-In;c<o;c+=In,y-=In)if(c===0||c===o-In)p[c]=r[y],p[c+1]=r[y+3],p[c+2]=r[y+2],p[c+3]=r[y+1];else for(var m=0;m<In;++m)u=r[y+m],p[c+(3&-m)]=f[Qe[u>>>24]]^l[Qe[u>>>16&255]]^h[Qe[u>>>8&255]]^d[Qe[u&255]];r=p}return r}function to(e,t,r,n){var i=e.length/4-1,a,s,o,c,u;n?(a=Ft[0],s=Ft[1],o=Ft[2],c=Ft[3],u=eo):(a=Qr[0],s=Qr[1],o=Qr[2],c=Qr[3],u=Qe);var f,l,h,d,p,y,m;f=t[0]^e[0],l=t[n?3:1]^e[1],h=t[2]^e[2],d=t[n?1:3]^e[3];for(var x=3,S=1;S<i;++S)p=a[f>>>24]^s[l>>>16&255]^o[h>>>8&255]^c[d&255]^e[++x],y=a[l>>>24]^s[h>>>16&255]^o[d>>>8&255]^c[f&255]^e[++x],m=a[h>>>24]^s[d>>>16&255]^o[f>>>8&255]^c[l&255]^e[++x],d=a[d>>>24]^s[f>>>16&255]^o[l>>>8&255]^c[h&255]^e[++x],f=p,l=y,h=m;r[0]=u[f>>>24]<<24^u[l>>>16&255]<<16^u[h>>>8&255]<<8^u[d&255]^e[++x],r[n?3:1]=u[l>>>24]<<24^u[h>>>16&255]<<16^u[d>>>8&255]<<8^u[f&255]^e[++x],r[2]=u[h>>>24]<<24^u[d>>>16&255]<<16^u[f>>>8&255]<<8^u[l&255]^e[++x],r[n?1:3]=u[d>>>24]<<24^u[f>>>16&255]<<16^u[l>>>8&255]<<8^u[h&255]^e[++x]}function Sa(e){e=e||{};var t=(e.mode||"CBC").toUpperCase(),r="AES-"+t,n;e.decrypt?n=ge.cipher.createDecipher(r,e.key):n=ge.cipher.createCipher(r,e.key);var i=n.start;return n.start=function(a,s){var o=null;s instanceof ge.util.ByteBuffer&&(o=s,s={}),s=s||{},s.output=o,s.iv=a,i.call(n,s)},n}});var yu=A((Eb,du)=>{"use strict";Da();var Ba=le(),{toString:Rn}=(gt(),z(pr)),{fromString:pu}=(yt(),z(lr));du.exports={createCipheriv:(e,t,r)=>{let n=Ba.cipher.createCipher("AES-CTR",Rn(t,"ascii"));return n.start({iv:Rn(r,"ascii")}),{update:i=>(n.update(Ba.util.createBuffer(Rn(i,"ascii"))),pu(n.output.getBytes(),"ascii"))}},createDecipheriv:(e,t,r)=>{let n=Ba.cipher.createDecipher("AES-CTR",Rn(t,"ascii"));return n.start({iv:Rn(r,"ascii")}),{update:i=>(n.update(Ba.util.createBuffer(Rn(i,"ascii"))),pu(n.output.getBytes(),"ascii"))}}}});var st=A((Sb,vu)=>{"use strict";function gu(e,t){for(let r in t)Object.defineProperty(e,r,{value:t[r],enumerable:!0,configurable:!0});return e}function Ly(e,t,r){if(!e||typeof e=="string")throw new TypeError("Please pass an Error to err-code");r||(r={}),typeof t=="object"&&(r=t,t=""),t&&(r.code=t);try{return gu(e,r)}catch{r.message=e.message,r.stack=e.stack;let i=function(){};return i.prototype=Object.create(Object.getPrototypeOf(e)),gu(new i,r)}}vu.exports=Ly});var bu=A((Db,xu)=>{"use strict";var Oy=st(),mu={16:"aes-128-ctr",32:"aes-256-ctr"};xu.exports=function(e){let t=mu[e.length];if(!t){let r=Object.entries(mu).map(([n,i])=>`${n} (${i})`).join(" / ");throw Oy(new Error(`Invalid key length ${e.length} bytes. Must be ${r}`),"ERR_INVALID_KEY_LENGTH")}return t}});var Su=A(Eu=>{"use strict";var wu=yu(),qy=bu();Eu.create=async function(e,t){let r=qy(e),n=wu.createCipheriv(r,e,t),i=wu.createDecipheriv(r,e,t);return{async encrypt(s){return n.update(s)},async decrypt(s){return i.update(s)}}}});var Bu=A((Cb,Du)=>{"use strict";Du.exports=My;function My(e,t){for(var r=new Array(arguments.length-1),n=0,i=2,a=!0;i<arguments.length;)r[n++]=arguments[i++];return new Promise(function(o,c){r[n]=function(f){if(a)if(a=!1,f)c(f);else{for(var l=new Array(arguments.length-1),h=0;h<l.length;)l[h++]=arguments[h];o.apply(null,l)}};try{e.apply(t||null,r)}catch(u){a&&(a=!1,c(u))}})}});var Iu=A(Tu=>{"use strict";var Ca=Tu;Ca.length=function(t){var r=t.length;if(!r)return 0;for(var n=0;--r%4>1&&t.charAt(r)==="=";)++n;return Math.ceil(t.length*3)/4-n};var Nn=new Array(64),Au=new Array(123);for(Ut=0;Ut<64;)Au[Nn[Ut]=Ut<26?Ut+65:Ut<52?Ut+71:Ut<62?Ut-4:Ut-59|43]=Ut++;var Ut;Ca.encode=function(t,r,n){for(var i=null,a=[],s=0,o=0,c;r<n;){var u=t[r++];switch(o){case 0:a[s++]=Nn[u>>2],c=(u&3)<<4,o=1;break;case 1:a[s++]=Nn[c|u>>4],c=(u&15)<<2,o=2;break;case 2:a[s++]=Nn[c|u>>6],a[s++]=Nn[u&63],o=0;break}s>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,a)),s=0)}return o&&(a[s++]=Nn[c],a[s++]=61,o===1&&(a[s++]=61)),i?(s&&i.push(String.fromCharCode.apply(String,a.slice(0,s))),i.join("")):String.fromCharCode.apply(String,a.slice(0,s))};var Cu="invalid encoding";Ca.decode=function(t,r,n){for(var i=n,a=0,s,o=0;o<t.length;){var c=t.charCodeAt(o++);if(c===61&&a>1)break;if((c=Au[c])===void 0)throw Error(Cu);switch(a){case 0:s=c,a=1;break;case 1:r[n++]=s<<2|(c&48)>>4,s=c,a=2;break;case 2:r[n++]=(s&15)<<4|(c&60)>>2,s=c,a=3;break;case 3:r[n++]=(s&3)<<6|c,a=0;break}}if(a===1)throw Error(Cu);return n-i};Ca.test=function(t){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(t)}});var Ru=A((Tb,_u)=>{"use strict";_u.exports=Aa;function Aa(){this._listeners={}}Aa.prototype.on=function(t,r,n){return(this._listeners[t]||(this._listeners[t]=[])).push({fn:r,ctx:n||this}),this};Aa.prototype.off=function(t,r){if(t===void 0)this._listeners={};else if(r===void 0)this._listeners[t]=[];else for(var n=this._listeners[t],i=0;i<n.length;)n[i].fn===r?n.splice(i,1):++i;return this};Aa.prototype.emit=function(t){var r=this._listeners[t];if(r){for(var n=[],i=1;i<arguments.length;)n.push(arguments[i++]);for(i=0;i<r.length;)r[i].fn.apply(r[i++].ctx,n)}return this}});var Lu=A((Ib,Ku)=>{"use strict";Ku.exports=Nu(Nu);function Nu(e){return typeof Float32Array<"u"?function(){var t=new Float32Array([-0]),r=new Uint8Array(t.buffer),n=r[3]===128;function i(c,u,f){t[0]=c,u[f]=r[0],u[f+1]=r[1],u[f+2]=r[2],u[f+3]=r[3]}function a(c,u,f){t[0]=c,u[f]=r[3],u[f+1]=r[2],u[f+2]=r[1],u[f+3]=r[0]}e.writeFloatLE=n?i:a,e.writeFloatBE=n?a:i;function s(c,u){return r[0]=c[u],r[1]=c[u+1],r[2]=c[u+2],r[3]=c[u+3],t[0]}function o(c,u){return r[3]=c[u],r[2]=c[u+1],r[1]=c[u+2],r[0]=c[u+3],t[0]}e.readFloatLE=n?s:o,e.readFloatBE=n?o:s}():function(){function t(n,i,a,s){var o=i<0?1:0;if(o&&(i=-i),i===0)n(1/i>0?0:2147483648,a,s);else if(isNaN(i))n(2143289344,a,s);else if(i>34028234663852886e22)n((o<<31|2139095040)>>>0,a,s);else if(i<11754943508222875e-54)n((o<<31|Math.round(i/1401298464324817e-60))>>>0,a,s);else{var c=Math.floor(Math.log(i)/Math.LN2),u=Math.round(i*Math.pow(2,-c)*8388608)&8388607;n((o<<31|c+127<<23|u)>>>0,a,s)}}e.writeFloatLE=t.bind(null,ku),e.writeFloatBE=t.bind(null,Pu);function r(n,i,a){var s=n(i,a),o=(s>>31)*2+1,c=s>>>23&255,u=s&8388607;return c===255?u?NaN:o*(1/0):c===0?o*1401298464324817e-60*u:o*Math.pow(2,c-150)*(u+8388608)}e.readFloatLE=r.bind(null,Fu),e.readFloatBE=r.bind(null,Uu)}(),typeof Float64Array<"u"?function(){var t=new Float64Array([-0]),r=new Uint8Array(t.buffer),n=r[7]===128;function i(c,u,f){t[0]=c,u[f]=r[0],u[f+1]=r[1],u[f+2]=r[2],u[f+3]=r[3],u[f+4]=r[4],u[f+5]=r[5],u[f+6]=r[6],u[f+7]=r[7]}function a(c,u,f){t[0]=c,u[f]=r[7],u[f+1]=r[6],u[f+2]=r[5],u[f+3]=r[4],u[f+4]=r[3],u[f+5]=r[2],u[f+6]=r[1],u[f+7]=r[0]}e.writeDoubleLE=n?i:a,e.writeDoubleBE=n?a:i;function s(c,u){return r[0]=c[u],r[1]=c[u+1],r[2]=c[u+2],r[3]=c[u+3],r[4]=c[u+4],r[5]=c[u+5],r[6]=c[u+6],r[7]=c[u+7],t[0]}function o(c,u){return r[7]=c[u],r[6]=c[u+1],r[5]=c[u+2],r[4]=c[u+3],r[3]=c[u+4],r[2]=c[u+5],r[1]=c[u+6],r[0]=c[u+7],t[0]}e.readDoubleLE=n?s:o,e.readDoubleBE=n?o:s}():function(){function t(n,i,a,s,o,c){var u=s<0?1:0;if(u&&(s=-s),s===0)n(0,o,c+i),n(1/s>0?0:2147483648,o,c+a);else if(isNaN(s))n(0,o,c+i),n(2146959360,o,c+a);else if(s>17976931348623157e292)n(0,o,c+i),n((u<<31|2146435072)>>>0,o,c+a);else{var f;if(s<22250738585072014e-324)f=s/5e-324,n(f>>>0,o,c+i),n((u<<31|f/4294967296)>>>0,o,c+a);else{var l=Math.floor(Math.log(s)/Math.LN2);l===1024&&(l=1023),f=s*Math.pow(2,-l),n(f*4503599627370496>>>0,o,c+i),n((u<<31|l+1023<<20|f*1048576&1048575)>>>0,o,c+a)}}}e.writeDoubleLE=t.bind(null,ku,0,4),e.writeDoubleBE=t.bind(null,Pu,4,0);function r(n,i,a,s,o){var c=n(s,o+i),u=n(s,o+a),f=(u>>31)*2+1,l=u>>>20&2047,h=4294967296*(u&1048575)+c;return l===2047?h?NaN:f*(1/0):l===0?f*5e-324*h:f*Math.pow(2,l-1075)*(h+4503599627370496)}e.readDoubleLE=r.bind(null,Fu,0,4),e.readDoubleBE=r.bind(null,Uu,4,0)}(),e}function ku(e,t,r){t[r]=e&255,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}function Pu(e,t,r){t[r]=e>>>24,t[r+1]=e>>>16&255,t[r+2]=e>>>8&255,t[r+3]=e&255}function Fu(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function Uu(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}});var Ou=A((exports,module)=>{"use strict";module.exports=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}});var Mu=A(qu=>{"use strict";var no=qu;no.length=function(t){for(var r=0,n=0,i=0;i<t.length;++i)n=t.charCodeAt(i),n<128?r+=1:n<2048?r+=2:(n&64512)===55296&&(t.charCodeAt(i+1)&64512)===56320?(++i,r+=4):r+=3;return r};no.read=function(t,r,n){var i=n-r;if(i<1)return"";for(var a=null,s=[],o=0,c;r<n;)c=t[r++],c<128?s[o++]=c:c>191&&c<224?s[o++]=(c&31)<<6|t[r++]&63:c>239&&c<365?(c=((c&7)<<18|(t[r++]&63)<<12|(t[r++]&63)<<6|t[r++]&63)-65536,s[o++]=55296+(c>>10),s[o++]=56320+(c&1023)):s[o++]=(c&15)<<12|(t[r++]&63)<<6|t[r++]&63,o>8191&&((a||(a=[])).push(String.fromCharCode.apply(String,s)),o=0);return a?(o&&a.push(String.fromCharCode.apply(String,s.slice(0,o))),a.join("")):String.fromCharCode.apply(String,s.slice(0,o))};no.write=function(t,r,n){for(var i=n,a,s,o=0;o<t.length;++o)a=t.charCodeAt(o),a<128?r[n++]=a:a<2048?(r[n++]=a>>6|192,r[n++]=a&63|128):(a&64512)===55296&&((s=t.charCodeAt(o+1))&64512)===56320?(a=65536+((a&1023)<<10)+(s&1023),++o,r[n++]=a>>18|240,r[n++]=a>>12&63|128,r[n++]=a>>6&63|128,r[n++]=a&63|128):(r[n++]=a>>12|224,r[n++]=a>>6&63|128,r[n++]=a&63|128);return n-i}});var zu=A((Rb,Vu)=>{"use strict";Vu.exports=Vy;function Vy(e,t,r){var n=r||8192,i=n>>>1,a=null,s=n;return function(c){if(c<1||c>i)return e(c);s+c>n&&(a=e(n),s=0);var u=t.call(a,s,s+=c);return s&7&&(s=(s|7)+1),u}}});var $u=A((Nb,Hu)=>{"use strict";Hu.exports=Le;var bi=_r();function Le(e,t){this.lo=e>>>0,this.hi=t>>>0}var Xr=Le.zero=new Le(0,0);Xr.toNumber=function(){return 0};Xr.zzEncode=Xr.zzDecode=function(){return this};Xr.length=function(){return 1};var zy=Le.zeroHash="\0\0\0\0\0\0\0\0";Le.fromNumber=function(t){if(t===0)return Xr;var r=t<0;r&&(t=-t);var n=t>>>0,i=(t-n)/4294967296>>>0;return r&&(i=~i>>>0,n=~n>>>0,++n>4294967295&&(n=0,++i>4294967295&&(i=0))),new Le(n,i)};Le.from=function(t){if(typeof t=="number")return Le.fromNumber(t);if(bi.isString(t))if(bi.Long)t=bi.Long.fromString(t);else return Le.fromNumber(parseInt(t,10));return t.low||t.high?new Le(t.low>>>0,t.high>>>0):Xr};Le.prototype.toNumber=function(t){if(!t&&this.hi>>>31){var r=~this.lo+1>>>0,n=~this.hi>>>0;return r||(n=n+1>>>0),-(r+n*4294967296)}return this.lo+this.hi*4294967296};Le.prototype.toLong=function(t){return bi.Long?new bi.Long(this.lo|0,this.hi|0,Boolean(t)):{low:this.lo|0,high:this.hi|0,unsigned:Boolean(t)}};var Ir=String.prototype.charCodeAt;Le.fromHash=function(t){return t===zy?Xr:new Le((Ir.call(t,0)|Ir.call(t,1)<<8|Ir.call(t,2)<<16|Ir.call(t,3)<<24)>>>0,(Ir.call(t,4)|Ir.call(t,5)<<8|Ir.call(t,6)<<16|Ir.call(t,7)<<24)>>>0)};Le.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)};Le.prototype.zzEncode=function(){var t=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^t)>>>0,this.lo=(this.lo<<1^t)>>>0,this};Le.prototype.zzDecode=function(){var t=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^t)>>>0,this.hi=(this.hi>>>1^t)>>>0,this};Le.prototype.length=function(){var t=this.lo,r=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return n===0?r===0?t<16384?t<128?1:2:t<2097152?3:4:r<16384?r<128?5:6:r<2097152?7:8:n<128?9:10}});var _r=A(io=>{"use strict";var L=io;L.asPromise=Bu();L.base64=Iu();L.EventEmitter=Ru();L.float=Lu();L.inquire=Ou();L.utf8=Mu();L.pool=zu();L.LongBits=$u();L.isNode=Boolean(typeof globalThis<"u"&&globalThis&&globalThis.process&&globalThis.process.versions&&globalThis.process.versions.node);L.global=L.isNode&&globalThis||typeof window<"u"&&window||typeof self<"u"&&self||io;L.emptyArray=Object.freeze?Object.freeze([]):[];L.emptyObject=Object.freeze?Object.freeze({}):{};L.isInteger=Number.isInteger||function(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t};L.isString=function(t){return typeof t=="string"||t instanceof String};L.isObject=function(t){return t&&typeof t=="object"};L.isset=L.isSet=function(t,r){var n=t[r];return n!=null&&t.hasOwnProperty(r)?typeof n!="object"||(Array.isArray(n)?n.length:Object.keys(n).length)>0:!1};L.Buffer=function(){try{var e=L.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch{return null}}();L._Buffer_from=null;L._Buffer_allocUnsafe=null;L.newBuffer=function(t){return typeof t=="number"?L.Buffer?L._Buffer_allocUnsafe(t):new L.Array(t):L.Buffer?L._Buffer_from(t):typeof Uint8Array>"u"?t:new Uint8Array(t)};L.Array=typeof Uint8Array<"u"?Uint8Array:Array;L.Long=L.global.dcodeIO&&L.global.dcodeIO.Long||L.global.Long||L.inquire("long");L.key2Re=/^true|false|0|1$/;L.key32Re=/^-?(?:0|[1-9][0-9]*)$/;L.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;L.longToHash=function(t){return t?L.LongBits.from(t).toHash():L.LongBits.zeroHash};L.longFromHash=function(t,r){var n=L.LongBits.fromHash(t);return L.Long?L.Long.fromBits(n.lo,n.hi,r):n.toNumber(Boolean(r))};function Gu(e,t,r){for(var n=Object.keys(t),i=0;i<n.length;++i)(e[n[i]]===void 0||!r)&&(e[n[i]]=t[n[i]]);return e}L.merge=Gu;L.lcFirst=function(t){return t.charAt(0).toLowerCase()+t.substring(1)};function Wu(e){function t(r,n){if(!(this instanceof t))return new t(r,n);Object.defineProperty(this,"message",{get:function(){return r}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:new Error().stack||""}),n&&Gu(this,n)}return(t.prototype=Object.create(Error.prototype)).constructor=t,Object.defineProperty(t.prototype,"name",{get:function(){return e}}),t.prototype.toString=function(){return this.name+": "+this.message},t}L.newError=Wu;L.ProtocolError=Wu("ProtocolError");L.oneOfGetter=function(t){for(var r={},n=0;n<t.length;++n)r[t[n]]=1;return function(){for(var i=Object.keys(this),a=i.length-1;a>-1;--a)if(r[i[a]]===1&&this[i[a]]!==void 0&&this[i[a]]!==null)return i[a]}};L.oneOfSetter=function(t){return function(r){for(var n=0;n<t.length;++n)t[n]!==r&&delete this[t[n]]}};L.toJSONOptions={longs:String,enums:String,bytes:String,json:!0};L._configure=function(){var e=L.Buffer;if(!e){L._Buffer_from=L._Buffer_allocUnsafe=null;return}L._Buffer_from=e.from!==Uint8Array.from&&e.from||function(r,n){return new e(r,n)},L._Buffer_allocUnsafe=e.allocUnsafe||function(r){return new e(r)}}});var lo=A((Pb,Qu)=>{"use strict";Qu.exports=ne;var vt=_r(),ao,Ta=vt.LongBits,Yu=vt.base64,Zu=vt.utf8;function wi(e,t,r){this.fn=e,this.len=t,this.next=void 0,this.val=r}function oo(){}function Hy(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function ne(){this.len=0,this.head=new wi(oo,0,0),this.tail=this.head,this.states=null}var ju=function(){return vt.Buffer?function(){return(ne.create=function(){return new ao})()}:function(){return new ne}};ne.create=ju();ne.alloc=function(t){return new vt.Array(t)};vt.Array!==Array&&(ne.alloc=vt.pool(ne.alloc,vt.Array.prototype.subarray));ne.prototype._push=function(t,r,n){return this.tail=this.tail.next=new wi(t,r,n),this.len+=r,this};function uo(e,t,r){t[r]=e&255}function $y(e,t,r){for(;e>127;)t[r++]=e&127|128,e>>>=7;t[r]=e}function co(e,t){this.len=e,this.next=void 0,this.val=t}co.prototype=Object.create(wi.prototype);co.prototype.fn=$y;ne.prototype.uint32=function(t){return this.len+=(this.tail=this.tail.next=new co((t=t>>>0)<128?1:t<16384?2:t<2097152?3:t<268435456?4:5,t)).len,this};ne.prototype.int32=function(t){return t<0?this._push(fo,10,Ta.fromNumber(t)):this.uint32(t)};ne.prototype.sint32=function(t){return this.uint32((t<<1^t>>31)>>>0)};function fo(e,t,r){for(;e.hi;)t[r++]=e.lo&127|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[r++]=e.lo&127|128,e.lo=e.lo>>>7;t[r++]=e.lo}ne.prototype.uint64=function(t){var r=Ta.from(t);return this._push(fo,r.length(),r)};ne.prototype.int64=ne.prototype.uint64;ne.prototype.sint64=function(t){var r=Ta.from(t).zzEncode();return this._push(fo,r.length(),r)};ne.prototype.bool=function(t){return this._push(uo,1,t?1:0)};function so(e,t,r){t[r]=e&255,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}ne.prototype.fixed32=function(t){return this._push(so,4,t>>>0)};ne.prototype.sfixed32=ne.prototype.fixed32;ne.prototype.fixed64=function(t){var r=Ta.from(t);return this._push(so,4,r.lo)._push(so,4,r.hi)};ne.prototype.sfixed64=ne.prototype.fixed64;ne.prototype.float=function(t){return this._push(vt.float.writeFloatLE,4,t)};ne.prototype.double=function(t){return this._push(vt.float.writeDoubleLE,8,t)};var Gy=vt.Array.prototype.set?function(t,r,n){r.set(t,n)}:function(t,r,n){for(var i=0;i<t.length;++i)r[n+i]=t[i]};ne.prototype.bytes=function(t){var r=t.length>>>0;if(!r)return this._push(uo,1,0);if(vt.isString(t)){var n=ne.alloc(r=Yu.length(t));Yu.decode(t,n,0),t=n}return this.uint32(r)._push(Gy,r,t)};ne.prototype.string=function(t){var r=Zu.length(t);return r?this.uint32(r)._push(Zu.write,r,t):this._push(uo,1,0)};ne.prototype.fork=function(){return this.states=new Hy(this),this.head=this.tail=new wi(oo,0,0),this.len=0,this};ne.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new wi(oo,0,0),this.len=0),this};ne.prototype.ldelim=function(){var t=this.head,r=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=t.next,this.tail=r,this.len+=n),this};ne.prototype.finish=function(){for(var t=this.head.next,r=this.constructor.alloc(this.len),n=0;t;)t.fn(t.val,r,n),n+=t.len,t=t.next;return r};ne._configure=function(e){ao=e,ne.create=ju(),ao._configure()}});var ec=A((Fb,Ju)=>{"use strict";Ju.exports=$t;var Xu=lo();($t.prototype=Object.create(Xu.prototype)).constructor=$t;var Rr=_r();function $t(){Xu.call(this)}$t._configure=function(){$t.alloc=Rr._Buffer_allocUnsafe,$t.writeBytesBuffer=Rr.Buffer&&Rr.Buffer.prototype instanceof Uint8Array&&Rr.Buffer.prototype.set.name==="set"?function(t,r,n){r.set(t,n)}:function(t,r,n){if(t.copy)t.copy(r,n,0,t.length);else for(var i=0;i<t.length;)r[n++]=t[i++]}};$t.prototype.bytes=function(t){Rr.isString(t)&&(t=Rr._Buffer_from(t,"base64"));var r=t.length>>>0;return this.uint32(r),r&&this._push($t.writeBytesBuffer,r,t),this};function Wy(e,t,r){e.length<40?Rr.utf8.write(e,t,r):t.utf8Write?t.utf8Write(e,r):t.write(e,r)}$t.prototype.string=function(t){var r=Rr.Buffer.byteLength(t);return this.uint32(r),r&&this._push(Wy,r,t),this};$t._configure()});var yo=A((Ub,ac)=>{"use strict";ac.exports=_e;var Gt=_r(),po,nc=Gt.LongBits,Yy=Gt.utf8;function Kt(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function _e(e){this.buf=e,this.pos=0,this.len=e.length}var tc=typeof Uint8Array<"u"?function(t){if(t instanceof Uint8Array||Array.isArray(t))return new _e(t);throw Error("illegal buffer")}:function(t){if(Array.isArray(t))return new _e(t);throw Error("illegal buffer")},ic=function(){return Gt.Buffer?function(r){return(_e.create=function(i){return Gt.Buffer.isBuffer(i)?new po(i):tc(i)})(r)}:tc};_e.create=ic();_e.prototype._slice=Gt.Array.prototype.subarray||Gt.Array.prototype.slice;_e.prototype.uint32=function(){var t=4294967295;return function(){if(t=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(t=(t|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(t=(t|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(t=(t|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(t=(t|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return t;if((this.pos+=5)>this.len)throw this.pos=this.len,Kt(this,10);return t}}();_e.prototype.int32=function(){return this.uint32()|0};_e.prototype.sint32=function(){var t=this.uint32();return t>>>1^-(t&1)|0};function ho(){var e=new nc(0,0),t=0;if(this.len-this.pos>4){for(;t<4;++t)if(e.lo=(e.lo|(this.buf[this.pos]&127)<<t*7)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(this.buf[this.pos]&127)<<28)>>>0,e.hi=(e.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return e;t=0}else{for(;t<3;++t){if(this.pos>=this.len)throw Kt(this);if(e.lo=(e.lo|(this.buf[this.pos]&127)<<t*7)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(this.buf[this.pos++]&127)<<t*7)>>>0,e}if(this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(this.buf[this.pos]&127)<<t*7+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw Kt(this);if(e.hi=(e.hi|(this.buf[this.pos]&127)<<t*7+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}_e.prototype.bool=function(){return this.uint32()!==0};function Ia(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}_e.prototype.fixed32=function(){if(this.pos+4>this.len)throw Kt(this,4);return Ia(this.buf,this.pos+=4)};_e.prototype.sfixed32=function(){if(this.pos+4>this.len)throw Kt(this,4);return Ia(this.buf,this.pos+=4)|0};function rc(){if(this.pos+8>this.len)throw Kt(this,8);return new nc(Ia(this.buf,this.pos+=4),Ia(this.buf,this.pos+=4))}_e.prototype.float=function(){if(this.pos+4>this.len)throw Kt(this,4);var t=Gt.float.readFloatLE(this.buf,this.pos);return this.pos+=4,t};_e.prototype.double=function(){if(this.pos+8>this.len)throw Kt(this,4);var t=Gt.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,t};_e.prototype.bytes=function(){var t=this.uint32(),r=this.pos,n=this.pos+t;if(n>this.len)throw Kt(this,t);return this.pos+=t,Array.isArray(this.buf)?this.buf.slice(r,n):r===n?new this.buf.constructor(0):this._slice.call(this.buf,r,n)};_e.prototype.string=function(){var t=this.bytes();return Yy.read(t,0,t.length)};_e.prototype.skip=function(t){if(typeof t=="number"){if(this.pos+t>this.len)throw Kt(this,t);this.pos+=t}else do if(this.pos>=this.len)throw Kt(this);while(this.buf[this.pos++]&128);return this};_e.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(e=this.uint32()&7)!==4;)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this};_e._configure=function(e){po=e,_e.create=ic(),po._configure();var t=Gt.Long?"toLong":"toNumber";Gt.merge(_e.prototype,{int64:function(){return ho.call(this)[t](!1)},uint64:function(){return ho.call(this)[t](!0)},sint64:function(){return ho.call(this).zzDecode()[t](!1)},fixed64:function(){return rc.call(this)[t](!0)},sfixed64:function(){return rc.call(this)[t](!1)}})}});var cc=A((Kb,uc)=>{"use strict";uc.exports=Jr;var oc=yo();(Jr.prototype=Object.create(oc.prototype)).constructor=Jr;var sc=_r();function Jr(e){oc.call(this,e)}Jr._configure=function(){sc.Buffer&&(Jr.prototype._slice=sc.Buffer.prototype.slice)};Jr.prototype.string=function(){var t=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+t,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+t,this.len))};Jr._configure()});var lc=A((Lb,fc)=>{"use strict";fc.exports=Ei;var go=_r();(Ei.prototype=Object.create(go.EventEmitter.prototype)).constructor=Ei;function Ei(e,t,r){if(typeof e!="function")throw TypeError("rpcImpl must be a function");go.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(t),this.responseDelimited=Boolean(r)}Ei.prototype.rpcCall=function e(t,r,n,i,a){if(!i)throw TypeError("request must be specified");var s=this;if(!a)return go.asPromise(e,s,t,r,n,i);if(!s.rpcImpl){setTimeout(function(){a(Error("already ended"))},0);return}try{return s.rpcImpl(t,r[s.requestDelimited?"encodeDelimited":"encode"](i).finish(),function(c,u){if(c)return s.emit("error",c,t),a(c);if(u===null){s.end(!0);return}if(!(u instanceof n))try{u=n[s.responseDelimited?"decodeDelimited":"decode"](u)}catch(f){return s.emit("error",f,t),a(f)}return s.emit("data",u,t),a(null,u)})}catch(o){s.emit("error",o,t),setTimeout(function(){a(o)},0);return}};Ei.prototype.end=function(t){return this.rpcImpl&&(t||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}});var pc=A(hc=>{"use strict";var Zy=hc;Zy.Service=lc()});var yc=A((qb,dc)=>{"use strict";dc.exports={}});var mc=A(vc=>{"use strict";var rt=vc;rt.build="minimal";rt.Writer=lo();rt.BufferWriter=ec();rt.Reader=yo();rt.BufferReader=cc();rt.util=_r();rt.rpc=pc();rt.roots=yc();rt.configure=gc;function gc(){rt.util._configure(),rt.Writer._configure(rt.BufferWriter),rt.Reader._configure(rt.BufferReader)}gc()});var _a=A((Vb,xc)=>{"use strict";xc.exports=mc()});var Na=A((zb,wc)=>{"use strict";var en=_a(),Ra=en.Reader,bc=en.Writer,Ye=en.util,mt=en.roots["libp2p-crypto-keys"]||(en.roots["libp2p-crypto-keys"]={});mt.KeyType=function(){var e={},t=Object.create(e);return t[e[0]="RSA"]=0,t[e[1]="Ed25519"]=1,t[e[2]="Secp256k1"]=2,t}();mt.PublicKey=function(){function e(t){if(t)for(var r=Object.keys(t),n=0;n<r.length;++n)t[r[n]]!=null&&(this[r[n]]=t[r[n]])}return e.prototype.Type=0,e.prototype.Data=Ye.newBuffer([]),e.encode=function(r,n){return n||(n=bc.create()),n.uint32(8).int32(r.Type),n.uint32(18).bytes(r.Data),n},e.decode=function(r,n){r instanceof Ra||(r=Ra.create(r));for(var i=n===void 0?r.len:r.pos+n,a=new mt.PublicKey;r.pos<i;){var s=r.uint32();switch(s>>>3){case 1:a.Type=r.int32();break;case 2:a.Data=r.bytes();break;default:r.skipType(s&7);break}}if(!a.hasOwnProperty("Type"))throw Ye.ProtocolError("missing required 'Type'",{instance:a});if(!a.hasOwnProperty("Data"))throw Ye.ProtocolError("missing required 'Data'",{instance:a});return a},e.fromObject=function(r){if(r instanceof mt.PublicKey)return r;var n=new mt.PublicKey;switch(r.Type){case"RSA":case 0:n.Type=0;break;case"Ed25519":case 1:n.Type=1;break;case"Secp256k1":case 2:n.Type=2;break}return r.Data!=null&&(typeof r.Data=="string"?Ye.base64.decode(r.Data,n.Data=Ye.newBuffer(Ye.base64.length(r.Data)),0):r.Data.length&&(n.Data=r.Data)),n},e.toObject=function(r,n){n||(n={});var i={};return n.defaults&&(i.Type=n.enums===String?"RSA":0,n.bytes===String?i.Data="":(i.Data=[],n.bytes!==Array&&(i.Data=Ye.newBuffer(i.Data)))),r.Type!=null&&r.hasOwnProperty("Type")&&(i.Type=n.enums===String?mt.KeyType[r.Type]:r.Type),r.Data!=null&&r.hasOwnProperty("Data")&&(i.Data=n.bytes===String?Ye.base64.encode(r.Data,0,r.Data.length):n.bytes===Array?Array.prototype.slice.call(r.Data):r.Data),i},e.prototype.toJSON=function(){return this.constructor.toObject(this,en.util.toJSONOptions)},e}();mt.PrivateKey=function(){function e(t){if(t)for(var r=Object.keys(t),n=0;n<r.length;++n)t[r[n]]!=null&&(this[r[n]]=t[r[n]])}return e.prototype.Type=0,e.prototype.Data=Ye.newBuffer([]),e.encode=function(r,n){return n||(n=bc.create()),n.uint32(8).int32(r.Type),n.uint32(18).bytes(r.Data),n},e.decode=function(r,n){r instanceof Ra||(r=Ra.create(r));for(var i=n===void 0?r.len:r.pos+n,a=new mt.PrivateKey;r.pos<i;){var s=r.uint32();switch(s>>>3){case 1:a.Type=r.int32();break;case 2:a.Data=r.bytes();break;default:r.skipType(s&7);break}}if(!a.hasOwnProperty("Type"))throw Ye.ProtocolError("missing required 'Type'",{instance:a});if(!a.hasOwnProperty("Data"))throw Ye.ProtocolError("missing required 'Data'",{instance:a});return a},e.fromObject=function(r){if(r instanceof mt.PrivateKey)return r;var n=new mt.PrivateKey;switch(r.Type){case"RSA":case 0:n.Type=0;break;case"Ed25519":case 1:n.Type=1;break;case"Secp256k1":case 2:n.Type=2;break}return r.Data!=null&&(typeof r.Data=="string"?Ye.base64.decode(r.Data,n.Data=Ye.newBuffer(Ye.base64.length(r.Data)),0):r.Data.length&&(n.Data=r.Data)),n},e.toObject=function(r,n){n||(n={});var i={};return n.defaults&&(i.Type=n.enums===String?"RSA":0,n.bytes===String?i.Data="":(i.Data=[],n.bytes!==Array&&(i.Data=Ye.newBuffer(i.Data)))),r.Type!=null&&r.hasOwnProperty("Type")&&(i.Type=n.enums===String?mt.KeyType[r.Type]:r.Type),r.Data!=null&&r.hasOwnProperty("Data")&&(i.Data=n.bytes===String?Ye.base64.encode(r.Data,0,r.Data.length):n.bytes===Array?Array.prototype.slice.call(r.Data):r.Data),i},e.prototype.toJSON=function(){return this.constructor.toObject(this,en.util.toJSONOptions)},e}();wc.exports=mt});var ka=A((Hb,Ec)=>{var Si=le();Si.pki=Si.pki||{};var vo=Ec.exports=Si.pki.oids=Si.oids=Si.oids||{};function C(e,t){vo[e]=t,vo[t]=e}function ce(e,t){vo[e]=t}C("1.2.840.113549.1.1.1","rsaEncryption");C("1.2.840.113549.1.1.4","md5WithRSAEncryption");C("1.2.840.113549.1.1.5","sha1WithRSAEncryption");C("1.2.840.113549.1.1.7","RSAES-OAEP");C("1.2.840.113549.1.1.8","mgf1");C("1.2.840.113549.1.1.9","pSpecified");C("1.2.840.113549.1.1.10","RSASSA-PSS");C("1.2.840.113549.1.1.11","sha256WithRSAEncryption");C("1.2.840.113549.1.1.12","sha384WithRSAEncryption");C("1.2.840.113549.1.1.13","sha512WithRSAEncryption");C("1.3.101.112","EdDSA25519");C("1.2.840.10040.4.3","dsa-with-sha1");C("1.3.14.3.2.7","desCBC");C("1.3.14.3.2.26","sha1");C("1.3.14.3.2.29","sha1WithRSASignature");C("2.16.840.1.101.3.4.2.1","sha256");C("2.16.840.1.101.3.4.2.2","sha384");C("2.16.840.1.101.3.4.2.3","sha512");C("2.16.840.1.101.3.4.2.4","sha224");C("2.16.840.1.101.3.4.2.5","sha512-224");C("2.16.840.1.101.3.4.2.6","sha512-256");C("1.2.840.113549.2.2","md2");C("1.2.840.113549.2.5","md5");C("1.2.840.113549.1.7.1","data");C("1.2.840.113549.1.7.2","signedData");C("1.2.840.113549.1.7.3","envelopedData");C("1.2.840.113549.1.7.4","signedAndEnvelopedData");C("1.2.840.113549.1.7.5","digestedData");C("1.2.840.113549.1.7.6","encryptedData");C("1.2.840.113549.1.9.1","emailAddress");C("1.2.840.113549.1.9.2","unstructuredName");C("1.2.840.113549.1.9.3","contentType");C("1.2.840.113549.1.9.4","messageDigest");C("1.2.840.113549.1.9.5","signingTime");C("1.2.840.113549.1.9.6","counterSignature");C("1.2.840.113549.1.9.7","challengePassword");C("1.2.840.113549.1.9.8","unstructuredAddress");C("1.2.840.113549.1.9.14","extensionRequest");C("1.2.840.113549.1.9.20","friendlyName");C("1.2.840.113549.1.9.21","localKeyId");C("1.2.840.113549.1.9.22.1","x509Certificate");C("1.2.840.113549.1.12.10.1.1","keyBag");C("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag");C("1.2.840.113549.1.12.10.1.3","certBag");C("1.2.840.113549.1.12.10.1.4","crlBag");C("1.2.840.113549.1.12.10.1.5","secretBag");C("1.2.840.113549.1.12.10.1.6","safeContentsBag");C("1.2.840.113549.1.5.13","pkcs5PBES2");C("1.2.840.113549.1.5.12","pkcs5PBKDF2");C("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4");C("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4");C("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC");C("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC");C("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC");C("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC");C("1.2.840.113549.2.7","hmacWithSHA1");C("1.2.840.113549.2.8","hmacWithSHA224");C("1.2.840.113549.2.9","hmacWithSHA256");C("1.2.840.113549.2.10","hmacWithSHA384");C("1.2.840.113549.2.11","hmacWithSHA512");C("1.2.840.113549.3.7","des-EDE3-CBC");C("2.16.840.1.101.3.4.1.2","aes128-CBC");C("2.16.840.1.101.3.4.1.22","aes192-CBC");C("2.16.840.1.101.3.4.1.42","aes256-CBC");C("2.5.4.3","commonName");C("2.5.4.4","surname");C("2.5.4.5","serialNumber");C("2.5.4.6","countryName");C("2.5.4.7","localityName");C("2.5.4.8","stateOrProvinceName");C("2.5.4.9","streetAddress");C("2.5.4.10","organizationName");C("2.5.4.11","organizationalUnitName");C("2.5.4.12","title");C("2.5.4.13","description");C("2.5.4.15","businessCategory");C("2.5.4.17","postalCode");C("2.5.4.42","givenName");C("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName");C("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName");C("2.16.840.1.113730.1.1","nsCertType");C("2.16.840.1.113730.1.13","nsComment");ce("2.5.29.1","authorityKeyIdentifier");ce("2.5.29.2","keyAttributes");ce("2.5.29.3","certificatePolicies");ce("2.5.29.4","keyUsageRestriction");ce("2.5.29.5","policyMapping");ce("2.5.29.6","subtreesConstraint");ce("2.5.29.7","subjectAltName");ce("2.5.29.8","issuerAltName");ce("2.5.29.9","subjectDirectoryAttributes");ce("2.5.29.10","basicConstraints");ce("2.5.29.11","nameConstraints");ce("2.5.29.12","policyConstraints");ce("2.5.29.13","basicConstraints");C("2.5.29.14","subjectKeyIdentifier");C("2.5.29.15","keyUsage");ce("2.5.29.16","privateKeyUsagePeriod");C("2.5.29.17","subjectAltName");C("2.5.29.18","issuerAltName");C("2.5.29.19","basicConstraints");ce("2.5.29.20","cRLNumber");ce("2.5.29.21","cRLReason");ce("2.5.29.22","expirationDate");ce("2.5.29.23","instructionCode");ce("2.5.29.24","invalidityDate");ce("2.5.29.25","cRLDistributionPoints");ce("2.5.29.26","issuingDistributionPoint");ce("2.5.29.27","deltaCRLIndicator");ce("2.5.29.28","issuingDistributionPoint");ce("2.5.29.29","certificateIssuer");ce("2.5.29.30","nameConstraints");C("2.5.29.31","cRLDistributionPoints");C("2.5.29.32","certificatePolicies");ce("2.5.29.33","policyMappings");ce("2.5.29.34","policyConstraints");C("2.5.29.35","authorityKeyIdentifier");ce("2.5.29.36","policyConstraints");C("2.5.29.37","extKeyUsage");ce("2.5.29.46","freshestCRL");ce("2.5.29.54","inhibitAnyPolicy");C("1.3.6.1.4.1.11129.2.4.2","timestampList");C("1.3.6.1.5.5.7.1.1","authorityInfoAccess");C("1.3.6.1.5.5.7.3.1","serverAuth");C("1.3.6.1.5.5.7.3.2","clientAuth");C("1.3.6.1.5.5.7.3.3","codeSigning");C("1.3.6.1.5.5.7.3.4","emailProtection");C("1.3.6.1.5.5.7.3.8","timeStamping")});var Bi=A(($b,Dc)=>{var be=le();Ie();ka();var N=Dc.exports=be.asn1=be.asn1||{};N.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192};N.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30};N.create=function(e,t,r,n,i){if(be.util.isArray(n)){for(var a=[],s=0;s<n.length;++s)n[s]!==void 0&&a.push(n[s]);n=a}var o={tagClass:e,type:t,constructed:r,composed:r||be.util.isArray(n),value:n};return i&&"bitStringContents"in i&&(o.bitStringContents=i.bitStringContents,o.original=N.copy(o)),o};N.copy=function(e,t){var r;if(be.util.isArray(e)){r=[];for(var n=0;n<e.length;++n)r.push(N.copy(e[n],t));return r}return typeof e=="string"?e:(r={tagClass:e.tagClass,type:e.type,constructed:e.constructed,composed:e.composed,value:N.copy(e.value,t)},t&&!t.excludeBitStringContents&&(r.bitStringContents=e.bitStringContents),r)};N.equals=function(e,t,r){if(be.util.isArray(e)){if(!be.util.isArray(t)||e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(!N.equals(e[n],t[n]))return!1;return!0}if(typeof e!=typeof t)return!1;if(typeof e=="string")return e===t;var i=e.tagClass===t.tagClass&&e.type===t.type&&e.constructed===t.constructed&&e.composed===t.composed&&N.equals(e.value,t.value);return r&&r.includeBitStringContents&&(i=i&&e.bitStringContents===t.bitStringContents),i};N.getBerValueLength=function(e){var t=e.getByte();if(t!==128){var r,n=t&128;return n?r=e.getInt((t&127)<<3):r=t,r}};function Di(e,t,r){if(r>t){var n=new Error("Too few bytes to parse DER.");throw n.available=e.length(),n.remaining=t,n.requested=r,n}}var jy=function(e,t){var r=e.getByte();if(t--,r!==128){var n,i=r&128;if(!i)n=r;else{var a=r&127;Di(e,t,a),n=e.getInt(a<<3)}if(n<0)throw new Error("Negative length: "+n);return n}};N.fromDer=function(e,t){t===void 0&&(t={strict:!0,parseAllBytes:!0,decodeBitStrings:!0}),typeof t=="boolean"&&(t={strict:t,parseAllBytes:!0,decodeBitStrings:!0}),"strict"in t||(t.strict=!0),"parseAllBytes"in t||(t.parseAllBytes=!0),"decodeBitStrings"in t||(t.decodeBitStrings=!0),typeof e=="string"&&(e=be.util.createBuffer(e));var r=e.length(),n=Pa(e,e.length(),0,t);if(t.parseAllBytes&&e.length()!==0){var i=new Error("Unparsed DER bytes remain after ASN.1 parsing.");throw i.byteCount=r,i.remaining=e.length(),i}return n};function Pa(e,t,r,n){var i;Di(e,t,2);var a=e.getByte();t--;var s=a&192,o=a&31;i=e.length();var c=jy(e,t);if(t-=i-e.length(),c!==void 0&&c>t){if(n.strict){var u=new Error("Too few bytes to read ASN.1 value.");throw u.available=e.length(),u.remaining=t,u.requested=c,u}c=t}var f,l,h=(a&32)===32;if(h)if(f=[],c===void 0)for(;;){if(Di(e,t,2),e.bytes(2)===String.fromCharCode(0,0)){e.getBytes(2),t-=2;break}i=e.length(),f.push(Pa(e,t,r+1,n)),t-=i-e.length()}else for(;c>0;)i=e.length(),f.push(Pa(e,c,r+1,n)),t-=i-e.length(),c-=i-e.length();if(f===void 0&&s===N.Class.UNIVERSAL&&o===N.Type.BITSTRING&&(l=e.bytes(c)),f===void 0&&n.decodeBitStrings&&s===N.Class.UNIVERSAL&&o===N.Type.BITSTRING&&c>1){var d=e.read,p=t,y=0;if(o===N.Type.BITSTRING&&(Di(e,t,1),y=e.getByte(),t--),y===0)try{i=e.length();var m={strict:!0,decodeBitStrings:!0},x=Pa(e,t,r+1,m),S=i-e.length();t-=S,o==N.Type.BITSTRING&&S++;var B=x.tagClass;S===c&&(B===N.Class.UNIVERSAL||B===N.Class.CONTEXT_SPECIFIC)&&(f=[x])}catch{}f===void 0&&(e.read=d,t=p)}if(f===void 0){if(c===void 0){if(n.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");c=t}if(o===N.Type.BMPSTRING)for(f="";c>0;c-=2)Di(e,t,2),f+=String.fromCharCode(e.getInt16()),t-=2;else f=e.getBytes(c),t-=c}var K=l===void 0?null:{bitStringContents:l};return N.create(s,o,h,f,K)}N.toDer=function(e){var t=be.util.createBuffer(),r=e.tagClass|e.type,n=be.util.createBuffer(),i=!1;if("bitStringContents"in e&&(i=!0,e.original&&(i=N.equals(e,e.original))),i)n.putBytes(e.bitStringContents);else if(e.composed){e.constructed?r|=32:n.putByte(0);for(var a=0;a<e.value.length;++a)e.value[a]!==void 0&&n.putBuffer(N.toDer(e.value[a]))}else if(e.type===N.Type.BMPSTRING)for(var a=0;a<e.value.length;++a)n.putInt16(e.value.charCodeAt(a));else e.type===N.Type.INTEGER&&e.value.length>1&&(e.value.charCodeAt(0)===0&&(e.value.charCodeAt(1)&128)===0||e.value.charCodeAt(0)===255&&(e.value.charCodeAt(1)&128)===128)?n.putBytes(e.value.substr(1)):n.putBytes(e.value);if(t.putByte(r),n.length()<=127)t.putByte(n.length()&127);else{var s=n.length(),o="";do o+=String.fromCharCode(s&255),s=s>>>8;while(s>0);t.putByte(o.length|128);for(var a=o.length-1;a>=0;--a)t.putByte(o.charCodeAt(a))}return t.putBuffer(n),t};N.oidToDer=function(e){var t=e.split("."),r=be.util.createBuffer();r.putByte(40*parseInt(t[0],10)+parseInt(t[1],10));for(var n,i,a,s,o=2;o<t.length;++o){n=!0,i=[],a=parseInt(t[o],10);do s=a&127,a=a>>>7,n||(s|=128),i.push(s),n=!1;while(a>0);for(var c=i.length-1;c>=0;--c)r.putByte(i[c])}return r};N.derToOid=function(e){var t;typeof e=="string"&&(e=be.util.createBuffer(e));var r=e.getByte();t=Math.floor(r/40)+"."+r%40;for(var n=0;e.length()>0;)r=e.getByte(),n=n<<7,r&128?n+=r&127:(t+="."+(n+r),n=0);return t};N.utcTimeToDate=function(e){var t=new Date,r=parseInt(e.substr(0,2),10);r=r>=50?1900+r:2e3+r;var n=parseInt(e.substr(2,2),10)-1,i=parseInt(e.substr(4,2),10),a=parseInt(e.substr(6,2),10),s=parseInt(e.substr(8,2),10),o=0;if(e.length>11){var c=e.charAt(10),u=10;c!=="+"&&c!=="-"&&(o=parseInt(e.substr(10,2),10),u+=2)}if(t.setUTCFullYear(r,n,i),t.setUTCHours(a,s,o,0),u&&(c=e.charAt(u),c==="+"||c==="-")){var f=parseInt(e.substr(u+1,2),10),l=parseInt(e.substr(u+4,2),10),h=f*60+l;h*=6e4,c==="+"?t.setTime(+t-h):t.setTime(+t+h)}return t};N.generalizedTimeToDate=function(e){var t=new Date,r=parseInt(e.substr(0,4),10),n=parseInt(e.substr(4,2),10)-1,i=parseInt(e.substr(6,2),10),a=parseInt(e.substr(8,2),10),s=parseInt(e.substr(10,2),10),o=parseInt(e.substr(12,2),10),c=0,u=0,f=!1;e.charAt(e.length-1)==="Z"&&(f=!0);var l=e.length-5,h=e.charAt(l);if(h==="+"||h==="-"){var d=parseInt(e.substr(l+1,2),10),p=parseInt(e.substr(l+4,2),10);u=d*60+p,u*=6e4,h==="+"&&(u*=-1),f=!0}return e.charAt(14)==="."&&(c=parseFloat(e.substr(14),10)*1e3),f?(t.setUTCFullYear(r,n,i),t.setUTCHours(a,s,o,c),t.setTime(+t+u)):(t.setFullYear(r,n,i),t.setHours(a,s,o,c)),t};N.dateToUtcTime=function(e){if(typeof e=="string")return e;var t="",r=[];r.push((""+e.getUTCFullYear()).substr(2)),r.push(""+(e.getUTCMonth()+1)),r.push(""+e.getUTCDate()),r.push(""+e.getUTCHours()),r.push(""+e.getUTCMinutes()),r.push(""+e.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(t+="0"),t+=r[n];return t+="Z",t};N.dateToGeneralizedTime=function(e){if(typeof e=="string")return e;var t="",r=[];r.push(""+e.getUTCFullYear()),r.push(""+(e.getUTCMonth()+1)),r.push(""+e.getUTCDate()),r.push(""+e.getUTCHours()),r.push(""+e.getUTCMinutes()),r.push(""+e.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(t+="0"),t+=r[n];return t+="Z",t};N.integerToDer=function(e){var t=be.util.createBuffer();if(e>=-128&&e<128)return t.putSignedInt(e,8);if(e>=-32768&&e<32768)return t.putSignedInt(e,16);if(e>=-8388608&&e<8388608)return t.putSignedInt(e,24);if(e>=-2147483648&&e<2147483648)return t.putSignedInt(e,32);var r=new Error("Integer too large; max is 32-bits.");throw r.integer=e,r};N.derToInteger=function(e){typeof e=="string"&&(e=be.util.createBuffer(e));var t=e.length()*8;if(t>32)throw new Error("Integer too large; max is 32-bits.");return e.getSignedInt(t)};N.validate=function(e,t,r,n){var i=!1;if((e.tagClass===t.tagClass||typeof t.tagClass>"u")&&(e.type===t.type||typeof t.type>"u"))if(e.constructed===t.constructed||typeof t.constructed>"u"){if(i=!0,t.value&&be.util.isArray(t.value))for(var a=0,s=0;i&&s<t.value.length;++s)i=t.value[s].optional||!1,e.value[a]&&(i=N.validate(e.value[a],t.value[s],r,n),i?++a:t.value[s].optional&&(i=!0)),!i&&n&&n.push("["+t.name+'] Tag class "'+t.tagClass+'", type "'+t.type+'" expected value length "'+t.value.length+'", got "'+e.value.length+'"');if(i&&r&&(t.capture&&(r[t.capture]=e.value),t.captureAsn1&&(r[t.captureAsn1]=e),t.captureBitStringContents&&"bitStringContents"in e&&(r[t.captureBitStringContents]=e.bitStringContents),t.captureBitStringValue&&"bitStringContents"in e)){var o;if(e.bitStringContents.length<2)r[t.captureBitStringValue]="";else{var c=e.bitStringContents.charCodeAt(0);if(c!==0)throw new Error("captureBitStringValue only supported for zero unused bits");r[t.captureBitStringValue]=e.bitStringContents.slice(1)}}}else n&&n.push("["+t.name+'] Expected constructed "'+t.constructed+'", got "'+e.constructed+'"');else n&&(e.tagClass!==t.tagClass&&n.push("["+t.name+'] Expected tag class "'+t.tagClass+'", got "'+e.tagClass+'"'),e.type!==t.type&&n.push("["+t.name+'] Expected type "'+t.type+'", got "'+e.type+'"'));return i};var Sc=/[^\\u0000-\\u00ff]/;N.prettyPrint=function(e,t,r){var n="";t=t||0,r=r||2,t>0&&(n+=`
`);for(var i="",a=0;a<t*r;++a)i+=" ";switch(n+=i+"Tag: ",e.tagClass){case N.Class.UNIVERSAL:n+="Universal:";break;case N.Class.APPLICATION:n+="Application:";break;case N.Class.CONTEXT_SPECIFIC:n+="Context-Specific:";break;case N.Class.PRIVATE:n+="Private:";break}if(e.tagClass===N.Class.UNIVERSAL)switch(n+=e.type,e.type){case N.Type.NONE:n+=" (None)";break;case N.Type.BOOLEAN:n+=" (Boolean)";break;case N.Type.INTEGER:n+=" (Integer)";break;case N.Type.BITSTRING:n+=" (Bit string)";break;case N.Type.OCTETSTRING:n+=" (Octet string)";break;case N.Type.NULL:n+=" (Null)";break;case N.Type.OID:n+=" (Object Identifier)";break;case N.Type.ODESC:n+=" (Object Descriptor)";break;case N.Type.EXTERNAL:n+=" (External or Instance of)";break;case N.Type.REAL:n+=" (Real)";break;case N.Type.ENUMERATED:n+=" (Enumerated)";break;case N.Type.EMBEDDED:n+=" (Embedded PDV)";break;case N.Type.UTF8:n+=" (UTF8)";break;case N.Type.ROID:n+=" (Relative Object Identifier)";break;case N.Type.SEQUENCE:n+=" (Sequence)";break;case N.Type.SET:n+=" (Set)";break;case N.Type.PRINTABLESTRING:n+=" (Printable String)";break;case N.Type.IA5String:n+=" (IA5String (ASCII))";break;case N.Type.UTCTIME:n+=" (UTC time)";break;case N.Type.GENERALIZEDTIME:n+=" (Generalized time)";break;case N.Type.BMPSTRING:n+=" (BMP String)";break}else n+=e.type;if(n+=`
`,n+=i+"Constructed: "+e.constructed+`
`,e.composed){for(var s=0,o="",a=0;a<e.value.length;++a)e.value[a]!==void 0&&(s+=1,o+=N.prettyPrint(e.value[a],t+1,r),a+1<e.value.length&&(o+=","));n+=i+"Sub values: "+s+o}else{if(n+=i+"Value: ",e.type===N.Type.OID){var c=N.derToOid(e.value);n+=c,be.pki&&be.pki.oids&&c in be.pki.oids&&(n+=" ("+be.pki.oids[c]+") ")}if(e.type===N.Type.INTEGER)try{n+=N.derToInteger(e.value)}catch{n+="0x"+be.util.bytesToHex(e.value)}else if(e.type===N.Type.BITSTRING){if(e.value.length>1?n+="0x"+be.util.bytesToHex(e.value.slice(1)):n+="(none)",e.value.length>0){var u=e.value.charCodeAt(0);u==1?n+=" (1 unused bit shown)":u>1&&(n+=" ("+u+" unused bits shown)")}}else if(e.type===N.Type.OCTETSTRING)Sc.test(e.value)||(n+="("+e.value+") "),n+="0x"+be.util.bytesToHex(e.value);else if(e.type===N.Type.UTF8)try{n+=be.util.decodeUtf8(e.value)}catch(f){if(f.message==="URI malformed")n+="0x"+be.util.bytesToHex(e.value)+" (malformed UTF8)";else throw f}else e.type===N.Type.PRINTABLESTRING||e.type===N.Type.IA5String?n+=e.value:Sc.test(e.value)?n+="0x"+be.util.bytesToHex(e.value):e.value.length===0?n+="[null]":n+=e.value}return n}});var Ac=A((Gb,Cc)=>{var De=le();Qs();Js();Ie();Cc.exports=De.des=De.des||{};De.des.startEncrypting=function(e,t,r,n){var i=Fa({key:e,output:r,decrypt:!1,mode:n||(t===null?"ECB":"CBC")});return i.start(t),i};De.des.createEncryptionCipher=function(e,t){return Fa({key:e,output:null,decrypt:!1,mode:t})};De.des.startDecrypting=function(e,t,r,n){var i=Fa({key:e,output:r,decrypt:!0,mode:n||(t===null?"ECB":"CBC")});return i.start(t),i};De.des.createDecryptionCipher=function(e,t){return Fa({key:e,output:null,decrypt:!0,mode:t})};De.des.Algorithm=function(e,t){var r=this;r.name=e,r.mode=new t({blockSize:8,cipher:{encrypt:function(n,i){return Bc(r._keys,n,i,!1)},decrypt:function(n,i){return Bc(r._keys,n,i,!0)}}}),r._init=!1};De.des.Algorithm.prototype.initialize=function(e){if(!this._init){var t=De.util.createBuffer(e.key);if(this.name.indexOf("3DES")===0&&t.length()!==24)throw new Error("Invalid Triple-DES key size: "+t.length()*8);this._keys=a1(t),this._init=!0}};Wt("DES-ECB",De.cipher.modes.ecb);Wt("DES-CBC",De.cipher.modes.cbc);Wt("DES-CFB",De.cipher.modes.cfb);Wt("DES-OFB",De.cipher.modes.ofb);Wt("DES-CTR",De.cipher.modes.ctr);Wt("3DES-ECB",De.cipher.modes.ecb);Wt("3DES-CBC",De.cipher.modes.cbc);Wt("3DES-CFB",De.cipher.modes.cfb);Wt("3DES-OFB",De.cipher.modes.ofb);Wt("3DES-CTR",De.cipher.modes.ctr);function Wt(e,t){var r=function(){return new De.des.Algorithm(e,t)};De.cipher.registerAlgorithm(e,r)}var Qy=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],Xy=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],Jy=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],e1=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],t1=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],r1=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],n1=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],i1=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function a1(e){for(var t=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],r=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],n=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],i=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],a=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],s=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],o=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],c=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],u=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],f=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],l=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],h=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],d=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],p=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],y=e.length()>8?3:1,m=[],x=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],S=0,B,K=0;K<y;K++){var R=e.getInt32(),_=e.getInt32();B=(R>>>4^_)&252645135,_^=B,R^=B<<4,B=(_>>>-16^R)&65535,R^=B,_^=B<<-16,B=(R>>>2^_)&858993459,_^=B,R^=B<<2,B=(_>>>-16^R)&65535,R^=B,_^=B<<-16,B=(R>>>1^_)&1431655765,_^=B,R^=B<<1,B=(_>>>8^R)&16711935,R^=B,_^=B<<8,B=(R>>>1^_)&1431655765,_^=B,R^=B<<1,B=R<<8|_>>>20&240,R=_<<24|_<<8&16711680|_>>>8&65280|_>>>24&240,_=B;for(var Y=0;Y<x.length;++Y){x[Y]?(R=R<<2|R>>>26,_=_<<2|_>>>26):(R=R<<1|R>>>27,_=_<<1|_>>>27),R&=-15,_&=-15;var j=t[R>>>28]|r[R>>>24&15]|n[R>>>20&15]|i[R>>>16&15]|a[R>>>12&15]|s[R>>>8&15]|o[R>>>4&15],Se=c[_>>>28]|u[_>>>24&15]|f[_>>>20&15]|l[_>>>16&15]|h[_>>>12&15]|d[_>>>8&15]|p[_>>>4&15];B=(Se>>>16^j)&65535,m[S++]=j^B,m[S++]=Se^B<<16}}return m}function Bc(e,t,r,n){var i=e.length===32?3:9,a;i===3?a=n?[30,-2,-2]:[0,32,2]:a=n?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var s,o=t[0],c=t[1];s=(o>>>4^c)&252645135,c^=s,o^=s<<4,s=(o>>>16^c)&65535,c^=s,o^=s<<16,s=(c>>>2^o)&858993459,o^=s,c^=s<<2,s=(c>>>8^o)&16711935,o^=s,c^=s<<8,s=(o>>>1^c)&1431655765,c^=s,o^=s<<1,o=o<<1|o>>>31,c=c<<1|c>>>31;for(var u=0;u<i;u+=3){for(var f=a[u+1],l=a[u+2],h=a[u];h!=f;h+=l){var d=c^e[h],p=(c>>>4|c<<28)^e[h+1];s=o,o=c,c=s^(Xy[d>>>24&63]|e1[d>>>16&63]|r1[d>>>8&63]|i1[d&63]|Qy[p>>>24&63]|Jy[p>>>16&63]|t1[p>>>8&63]|n1[p&63])}s=o,o=c,c=s}o=o>>>1|o<<31,c=c>>>1|c<<31,s=(o>>>1^c)&1431655765,c^=s,o^=s<<1,s=(c>>>8^o)&16711935,o^=s,c^=s<<8,s=(c>>>2^o)&858993459,o^=s,c^=s<<2,s=(o>>>16^c)&65535,c^=s,o^=s<<16,s=(o>>>4^c)&252645135,c^=s,o^=s<<4,r[0]=o,r[1]=c}function Fa(e){e=e||{};var t=(e.mode||"CBC").toUpperCase(),r="DES-"+t,n;e.decrypt?n=De.cipher.createDecipher(r,e.key):n=De.cipher.createCipher(r,e.key);var i=n.start;return n.start=function(a,s){var o=null;s instanceof De.util.ByteBuffer&&(o=s,s={}),s=s||{},s.output=o,s.iv=a,i.call(n,s)},n}});var tn=A((Wb,Tc)=>{var Ua=le();Tc.exports=Ua.md=Ua.md||{};Ua.md.algorithms=Ua.md.algorithms||{}});var _c=A((Yb,Ic)=>{var dr=le();tn();Ie();var s1=Ic.exports=dr.hmac=dr.hmac||{};s1.create=function(){var e=null,t=null,r=null,n=null,i={};return i.start=function(a,s){if(a!==null)if(typeof a=="string")if(a=a.toLowerCase(),a in dr.md.algorithms)t=dr.md.algorithms[a].create();else throw new Error('Unknown hash algorithm "'+a+'"');else t=a;if(s===null)s=e;else{if(typeof s=="string")s=dr.util.createBuffer(s);else if(dr.util.isArray(s)){var o=s;s=dr.util.createBuffer();for(var c=0;c<o.length;++c)s.putByte(o[c])}var u=s.length();u>t.blockLength&&(t.start(),t.update(s.bytes()),s=t.digest()),r=dr.util.createBuffer(),n=dr.util.createBuffer(),u=s.length();for(var c=0;c<u;++c){var o=s.at(c);r.putByte(54^o),n.putByte(92^o)}if(u<t.blockLength)for(var o=t.blockLength-u,c=0;c<o;++c)r.putByte(54),n.putByte(92);e=s,r=r.bytes(),n=n.bytes()}t.start(),t.update(r)},i.update=function(a){t.update(a)},i.getMac=function(){var a=t.digest().bytes();return t.start(),t.update(n),t.update(a),t.digest()},i.digest=i.getMac,i}});var kn=A(()=>{});var mo=A((Qb,Rc)=>{var Xe=le();_c();tn();Ie();var o1=Xe.pkcs5=Xe.pkcs5||{},yr;Xe.util.isNodejs&&!Xe.options.usePureJavaScript&&(yr=kn());Rc.exports=Xe.pbkdf2=o1.pbkdf2=function(e,t,r,n,i,a){if(typeof i=="function"&&(a=i,i=null),Xe.util.isNodejs&&!Xe.options.usePureJavaScript&&yr.pbkdf2&&(i===null||typeof i!="object")&&(yr.pbkdf2Sync.length>4||!i||i==="sha1"))return typeof i!="string"&&(i="sha1"),e=Buffer.from(e,"binary"),t=Buffer.from(t,"binary"),a?yr.pbkdf2Sync.length===4?yr.pbkdf2(e,t,r,n,function(B,K){if(B)return a(B);a(null,K.toString("binary"))}):yr.pbkdf2(e,t,r,n,i,function(B,K){if(B)return a(B);a(null,K.toString("binary"))}):yr.pbkdf2Sync.length===4?yr.pbkdf2Sync(e,t,r,n).toString("binary"):yr.pbkdf2Sync(e,t,r,n,i).toString("binary");if((typeof i>"u"||i===null)&&(i="sha1"),typeof i=="string"){if(!(i in Xe.md.algorithms))throw new Error("Unknown hash algorithm: "+i);i=Xe.md[i].create()}var s=i.digestLength;if(n>4294967295*s){var o=new Error("Derived key is too long.");if(a)return a(o);throw o}var c=Math.ceil(n/s),u=n-(c-1)*s,f=Xe.hmac.create();f.start(i,e);var l="",h,d,p;if(!a){for(var y=1;y<=c;++y){f.start(null,null),f.update(t),f.update(Xe.util.int32ToBytes(y)),h=p=f.digest().getBytes();for(var m=2;m<=r;++m)f.start(null,null),f.update(p),d=f.digest().getBytes(),h=Xe.util.xorBytes(h,d,s),p=d;l+=y<c?h:h.substr(0,u)}return l}var y=1,m;function x(){if(y>c)return a(null,l);f.start(null,null),f.update(t),f.update(Xe.util.int32ToBytes(y)),h=p=f.digest().getBytes(),m=2,S()}function S(){if(m<=r)return f.start(null,null),f.update(p),d=f.digest().getBytes(),h=Xe.util.xorBytes(h,d,s),p=d,++m,Xe.util.setImmediate(S);l+=y<c?h:h.substr(0,u),++y,x()}x()}});var Pc=A((Xb,kc)=>{var La=le();Ie();var Nc=kc.exports=La.pem=La.pem||{};Nc.encode=function(e,t){t=t||{};var r="-----BEGIN "+e.type+`-----\r
`,n;if(e.procType&&(n={name:"Proc-Type",values:[String(e.procType.version),e.procType.type]},r+=Ka(n)),e.contentDomain&&(n={name:"Content-Domain",values:[e.contentDomain]},r+=Ka(n)),e.dekInfo&&(n={name:"DEK-Info",values:[e.dekInfo.algorithm]},e.dekInfo.parameters&&n.values.push(e.dekInfo.parameters),r+=Ka(n)),e.headers)for(var i=0;i<e.headers.length;++i)r+=Ka(e.headers[i]);return e.procType&&(r+=`\r
`),r+=La.util.encode64(e.body,t.maxline||64)+`\r
`,r+="-----END "+e.type+`-----\r
`,r};Nc.decode=function(e){for(var t=[],r=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,n=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,i=/\r?\n/,a;a=r.exec(e),!!a;){var s=a[1];s==="NEW CERTIFICATE REQUEST"&&(s="CERTIFICATE REQUEST");var o={type:s,procType:null,contentDomain:null,dekInfo:null,headers:[],body:La.util.decode64(a[3])};if(t.push(o),!!a[2]){for(var c=a[2].split(i),u=0;a&&u<c.length;){for(var f=c[u].replace(/\s+$/,""),l=u+1;l<c.length;++l){var h=c[l];if(!/\s/.test(h[0]))break;f+=h,u=l}if(a=f.match(n),a){for(var d={name:a[1],values:[]},p=a[2].split(","),y=0;y<p.length;++y)d.values.push(u1(p[y]));if(o.procType)if(!o.contentDomain&&d.name==="Content-Domain")o.contentDomain=p[0]||"";else if(!o.dekInfo&&d.name==="DEK-Info"){if(d.values.length===0)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');o.dekInfo={algorithm:p[0],parameters:p[1]||null}}else o.headers.push(d);else{if(d.name!=="Proc-Type")throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(d.values.length!==2)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');o.procType={version:p[0],type:p[1]}}}++u}if(o.procType==="ENCRYPTED"&&!o.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(t.length===0)throw new Error("Invalid PEM formatted message.");return t};function Ka(e){for(var t=e.name+": ",r=[],n=function(c,u){return" "+u},i=0;i<e.values.length;++i)r.push(e.values[i].replace(/^(\S+\r\n)/,n));t+=r.join(",")+`\r
`;for(var a=0,s=-1,i=0;i<t.length;++i,++a)if(a>65&&s!==-1){var o=t[s];o===","?(++s,t=t.substr(0,s)+`\r
 `+t.substr(s)):t=t.substr(0,s)+`\r
`+o+t.substr(s+1),a=i-s-1,s=-1,++i}else(t[i]===" "||t[i]==="	"||t[i]===",")&&(s=i);return t}function u1(e){return e.replace(/^\s+/,"")}});var qc=A((Jb,Oc)=>{var Yt=le();tn();Ie();var Uc=Oc.exports=Yt.sha256=Yt.sha256||{};Yt.md.sha256=Yt.md.algorithms.sha256=Uc;Uc.create=function(){Kc||c1();var e=null,t=Yt.util.createBuffer(),r=new Array(64),n={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var i=n.messageLengthSize/4,a=0;a<i;++a)n.fullMessageLength.push(0);return t=Yt.util.createBuffer(),e={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},n},n.start(),n.update=function(i,a){a==="utf8"&&(i=Yt.util.encodeUtf8(i));var s=i.length;n.messageLength+=s,s=[s/4294967296>>>0,s>>>0];for(var o=n.fullMessageLength.length-1;o>=0;--o)n.fullMessageLength[o]+=s[1],s[1]=s[0]+(n.fullMessageLength[o]/4294967296>>>0),n.fullMessageLength[o]=n.fullMessageLength[o]>>>0,s[0]=s[1]/4294967296>>>0;return t.putBytes(i),Fc(e,r,t),(t.read>2048||t.length()===0)&&t.compact(),n},n.digest=function(){var i=Yt.util.createBuffer();i.putBytes(t.bytes());var a=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,s=a&n.blockLength-1;i.putBytes(xo.substr(0,n.blockLength-s));for(var o,c,u=n.fullMessageLength[0]*8,f=0;f<n.fullMessageLength.length-1;++f)o=n.fullMessageLength[f+1]*8,c=o/4294967296>>>0,u+=c,i.putInt32(u>>>0),u=o>>>0;i.putInt32(u);var l={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4,h5:e.h5,h6:e.h6,h7:e.h7};Fc(l,r,i);var h=Yt.util.createBuffer();return h.putInt32(l.h0),h.putInt32(l.h1),h.putInt32(l.h2),h.putInt32(l.h3),h.putInt32(l.h4),h.putInt32(l.h5),h.putInt32(l.h6),h.putInt32(l.h7),h},n};var xo=null,Kc=!1,Lc=null;function c1(){xo=String.fromCharCode(128),xo+=Yt.util.fillString(String.fromCharCode(0),64),Lc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],Kc=!0}function Fc(e,t,r){for(var n,i,a,s,o,c,u,f,l,h,d,p,y,m,x,S=r.length();S>=64;){for(u=0;u<16;++u)t[u]=r.getInt32();for(;u<64;++u)n=t[u-2],n=(n>>>17|n<<15)^(n>>>19|n<<13)^n>>>10,i=t[u-15],i=(i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3,t[u]=n+t[u-7]+i+t[u-16]|0;for(f=e.h0,l=e.h1,h=e.h2,d=e.h3,p=e.h4,y=e.h5,m=e.h6,x=e.h7,u=0;u<64;++u)s=(p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7),o=m^p&(y^m),a=(f>>>2|f<<30)^(f>>>13|f<<19)^(f>>>22|f<<10),c=f&l|h&(f^l),n=x+s+o+Lc[u]+t[u],i=a+c,x=m,m=y,y=p,p=d+n>>>0,d=h,h=l,l=f,f=n+i>>>0;e.h0=e.h0+f|0,e.h1=e.h1+l|0,e.h2=e.h2+h|0,e.h3=e.h3+d|0,e.h4=e.h4+p|0,e.h5=e.h5+y|0,e.h6=e.h6+m|0,e.h7=e.h7+x|0,S-=64}}});var Vc=A((e3,Mc)=>{var Zt=le();Ie();var Oa=null;Zt.util.isNodejs&&!Zt.options.usePureJavaScript&&!process.versions["node-webkit"]&&(Oa=kn());var f1=Mc.exports=Zt.prng=Zt.prng||{};f1.create=function(e){for(var t={plugin:e,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},r=e.md,n=new Array(32),i=0;i<32;++i)n[i]=r.create();t.pools=n,t.pool=0,t.generate=function(u,f){if(!f)return t.generateSync(u);var l=t.plugin.cipher,h=t.plugin.increment,d=t.plugin.formatKey,p=t.plugin.formatSeed,y=Zt.util.createBuffer();t.key=null,m();function m(x){if(x)return f(x);if(y.length()>=u)return f(null,y.getBytes(u));if(t.generated>1048575&&(t.key=null),t.key===null)return Zt.util.nextTick(function(){a(m)});var S=l(t.key,t.seed);t.generated+=S.length,y.putBytes(S),t.key=d(l(t.key,h(t.seed))),t.seed=p(l(t.key,t.seed)),Zt.util.setImmediate(m)}},t.generateSync=function(u){var f=t.plugin.cipher,l=t.plugin.increment,h=t.plugin.formatKey,d=t.plugin.formatSeed;t.key=null;for(var p=Zt.util.createBuffer();p.length()<u;){t.generated>1048575&&(t.key=null),t.key===null&&s();var y=f(t.key,t.seed);t.generated+=y.length,p.putBytes(y),t.key=h(f(t.key,l(t.seed))),t.seed=d(f(t.key,t.seed))}return p.getBytes(u)};function a(u){if(t.pools[0].messageLength>=32)return o(),u();var f=32-t.pools[0].messageLength<<5;t.seedFile(f,function(l,h){if(l)return u(l);t.collect(h),o(),u()})}function s(){if(t.pools[0].messageLength>=32)return o();var u=32-t.pools[0].messageLength<<5;t.collect(t.seedFileSync(u)),o()}function o(){t.reseeds=t.reseeds===4294967295?0:t.reseeds+1;var u=t.plugin.md.create();u.update(t.keyBytes);for(var f=1,l=0;l<32;++l)t.reseeds%f===0&&(u.update(t.pools[l].digest().getBytes()),t.pools[l].start()),f=f<<1;t.keyBytes=u.digest().getBytes(),u.start(),u.update(t.keyBytes);var h=u.digest().getBytes();t.key=t.plugin.formatKey(t.keyBytes),t.seed=t.plugin.formatSeed(h),t.generated=0}function c(u){var f=null,l=Zt.util.globalScope,h=l.crypto||l.msCrypto;h&&h.getRandomValues&&(f=function(R){return h.getRandomValues(R)});var d=Zt.util.createBuffer();if(f)for(;d.length()<u;){var p=Math.max(1,Math.min(u-d.length(),65536)/4),y=new Uint32Array(Math.floor(p));try{f(y);for(var m=0;m<y.length;++m)d.putInt32(y[m])}catch(R){if(!(typeof QuotaExceededError<"u"&&R instanceof QuotaExceededError))throw R}}if(d.length()<u)for(var x,S,B,K=Math.floor(Math.random()*65536);d.length()<u;){S=16807*(K&65535),x=16807*(K>>16),S+=(x&32767)<<16,S+=x>>15,S=(S&2147483647)+(S>>31),K=S&4294967295;for(var m=0;m<3;++m)B=K>>>(m<<3),B^=Math.floor(Math.random()*256),d.putByte(B&255)}return d.getBytes(u)}return Oa?(t.seedFile=function(u,f){Oa.randomBytes(u,function(l,h){if(l)return f(l);f(null,h.toString())})},t.seedFileSync=function(u){return Oa.randomBytes(u).toString()}):(t.seedFile=function(u,f){try{f(null,c(u))}catch(l){f(l)}},t.seedFileSync=c),t.collect=function(u){for(var f=u.length,l=0;l<f;++l)t.pools[t.pool].update(u.substr(l,1)),t.pool=t.pool===31?0:t.pool+1},t.collectInt=function(u,f){for(var l="",h=0;h<f;h+=8)l+=String.fromCharCode(u>>h&255);t.collect(l)},t.registerWorker=function(u){if(u===self)t.seedFile=function(l,h){function d(p){var y=p.data;y.forge&&y.forge.prng&&(self.removeEventListener("message",d),h(y.forge.prng.err,y.forge.prng.bytes))}self.addEventListener("message",d),self.postMessage({forge:{prng:{needed:l}}})};else{var f=function(l){var h=l.data;h.forge&&h.forge.prng&&t.seedFile(h.forge.prng.needed,function(d,p){u.postMessage({forge:{prng:{err:d,bytes:p}}})})};u.addEventListener("message",f)}},t}});var Ci=A((t3,bo)=>{var Oe=le();Da();qc();Vc();Ie();(function(){if(Oe.random&&Oe.random.getBytes){bo.exports=Oe.random;return}(function(e){var t={},r=new Array(4),n=Oe.util.createBuffer();t.formatKey=function(l){var h=Oe.util.createBuffer(l);return l=new Array(4),l[0]=h.getInt32(),l[1]=h.getInt32(),l[2]=h.getInt32(),l[3]=h.getInt32(),Oe.aes._expandKey(l,!1)},t.formatSeed=function(l){var h=Oe.util.createBuffer(l);return l=new Array(4),l[0]=h.getInt32(),l[1]=h.getInt32(),l[2]=h.getInt32(),l[3]=h.getInt32(),l},t.cipher=function(l,h){return Oe.aes._updateBlock(l,h,r,!1),n.putInt32(r[0]),n.putInt32(r[1]),n.putInt32(r[2]),n.putInt32(r[3]),n.getBytes()},t.increment=function(l){return++l[3],l},t.md=Oe.md.sha256;function i(){var l=Oe.prng.create(t);return l.getBytes=function(h,d){return l.generate(h,d)},l.getBytesSync=function(h){return l.generate(h)},l}var a=i(),s=null,o=Oe.util.globalScope,c=o.crypto||o.msCrypto;if(c&&c.getRandomValues&&(s=function(l){return c.getRandomValues(l)}),Oe.options.usePureJavaScript||!Oe.util.isNodejs&&!s){if(typeof window>"u"||window.document,a.collectInt(+new Date,32),typeof navigator<"u"){var u="";for(var f in navigator)try{typeof navigator[f]=="string"&&(u+=navigator[f])}catch{}a.collect(u),u=null}e&&(e().mousemove(function(l){a.collectInt(l.clientX,16),a.collectInt(l.clientY,16)}),e().keypress(function(l){a.collectInt(l.charCode,8)}))}if(!Oe.random)Oe.random=a;else for(var f in a)Oe.random[f]=a[f];Oe.random.createInstance=i,bo.exports=Oe.random})(typeof jQuery<"u"?jQuery:null)})()});var Gc=A((r3,$c)=>{var nt=le();Ie();var wo=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],zc=[1,2,3,5],l1=function(e,t){return e<<t&65535|(e&65535)>>16-t},h1=function(e,t){return(e&65535)>>t|e<<16-t&65535};$c.exports=nt.rc2=nt.rc2||{};nt.rc2.expandKey=function(e,t){typeof e=="string"&&(e=nt.util.createBuffer(e)),t=t||128;var r=e,n=e.length(),i=t,a=Math.ceil(i/8),s=255>>(i&7),o;for(o=n;o<128;o++)r.putByte(wo[r.at(o-1)+r.at(o-n)&255]);for(r.setAt(128-a,wo[r.at(128-a)&s]),o=127-a;o>=0;o--)r.setAt(o,wo[r.at(o+1)^r.at(o+a)]);return r};var Hc=function(e,t,r){var n=!1,i=null,a=null,s=null,o,c,u,f,l=[];for(e=nt.rc2.expandKey(e,t),u=0;u<64;u++)l.push(e.getInt16Le());r?(o=function(p){for(u=0;u<4;u++)p[u]+=l[f]+(p[(u+3)%4]&p[(u+2)%4])+(~p[(u+3)%4]&p[(u+1)%4]),p[u]=l1(p[u],zc[u]),f++},c=function(p){for(u=0;u<4;u++)p[u]+=l[p[(u+3)%4]&63]}):(o=function(p){for(u=3;u>=0;u--)p[u]=h1(p[u],zc[u]),p[u]-=l[f]+(p[(u+3)%4]&p[(u+2)%4])+(~p[(u+3)%4]&p[(u+1)%4]),f--},c=function(p){for(u=3;u>=0;u--)p[u]-=l[p[(u+3)%4]&63]});var h=function(p){var y=[];for(u=0;u<4;u++){var m=i.getInt16Le();s!==null&&(r?m^=s.getInt16Le():s.putInt16Le(m)),y.push(m&65535)}f=r?0:63;for(var x=0;x<p.length;x++)for(var S=0;S<p[x][0];S++)p[x][1](y);for(u=0;u<4;u++)s!==null&&(r?s.putInt16Le(y[u]):y[u]^=s.getInt16Le()),a.putInt16Le(y[u])},d=null;return d={start:function(p,y){p&&typeof p=="string"&&(p=nt.util.createBuffer(p)),n=!1,i=nt.util.createBuffer(),a=y||new nt.util.createBuffer,s=p,d.output=a},update:function(p){for(n||i.putBuffer(p);i.length()>=8;)h([[5,o],[1,c],[6,o],[1,c],[5,o]])},finish:function(p){var y=!0;if(r)if(p)y=p(8,i,!r);else{var m=i.length()===8?8:8-i.length();i.fillWithByte(m,m)}if(y&&(n=!0,d.update()),!r&&(y=i.length()===0,y))if(p)y=p(8,a,!r);else{var x=a.length(),S=a.at(x-1);S>x?y=!1:a.truncate(S)}return y}},d};nt.rc2.startEncrypting=function(e,t,r){var n=nt.rc2.createEncryptionCipher(e,128);return n.start(t,r),n};nt.rc2.createEncryptionCipher=function(e,t){return Hc(e,t,!0)};nt.rc2.startDecrypting=function(e,t,r){var n=nt.rc2.createDecryptionCipher(e,128);return n.start(t,r),n};nt.rc2.createDecryptionCipher=function(e,t){return Hc(e,t,!1)}});var Va=A((n3,ef)=>{var Eo=le();ef.exports=Eo.jsbn=Eo.jsbn||{};var gr,p1=0xdeadbeefcafe,Wc=(p1&16777215)==15715070;function D(e,t,r){this.data=[],e!=null&&(typeof e=="number"?this.fromNumber(e,t,r):t==null&&typeof e!="string"?this.fromString(e,256):this.fromString(e,t))}Eo.jsbn.BigInteger=D;function ie(){return new D(null)}function d1(e,t,r,n,i,a){for(;--a>=0;){var s=t*this.data[e++]+r.data[n]+i;i=Math.floor(s/67108864),r.data[n++]=s&67108863}return i}function y1(e,t,r,n,i,a){for(var s=t&32767,o=t>>15;--a>=0;){var c=this.data[e]&32767,u=this.data[e++]>>15,f=o*c+u*s;c=s*c+((f&32767)<<15)+r.data[n]+(i&1073741823),i=(c>>>30)+(f>>>15)+o*u+(i>>>30),r.data[n++]=c&1073741823}return i}function Yc(e,t,r,n,i,a){for(var s=t&16383,o=t>>14;--a>=0;){var c=this.data[e]&16383,u=this.data[e++]>>14,f=o*c+u*s;c=s*c+((f&16383)<<14)+r.data[n]+i,i=(c>>28)+(f>>14)+o*u,r.data[n++]=c&268435455}return i}typeof navigator>"u"?(D.prototype.am=Yc,gr=28):Wc&&navigator.appName=="Microsoft Internet Explorer"?(D.prototype.am=y1,gr=30):Wc&&navigator.appName!="Netscape"?(D.prototype.am=d1,gr=26):(D.prototype.am=Yc,gr=28);D.prototype.DB=gr;D.prototype.DM=(1<<gr)-1;D.prototype.DV=1<<gr;var So=52;D.prototype.FV=Math.pow(2,So);D.prototype.F1=So-gr;D.prototype.F2=2*gr-So;var g1="0123456789abcdefghijklmnopqrstuvwxyz",qa=new Array,Pn,xt;Pn="0".charCodeAt(0);for(xt=0;xt<=9;++xt)qa[Pn++]=xt;Pn="a".charCodeAt(0);for(xt=10;xt<36;++xt)qa[Pn++]=xt;Pn="A".charCodeAt(0);for(xt=10;xt<36;++xt)qa[Pn++]=xt;function Zc(e){return g1.charAt(e)}function jc(e,t){var r=qa[e.charCodeAt(t)];return r??-1}function v1(e){for(var t=this.t-1;t>=0;--t)e.data[t]=this.data[t];e.t=this.t,e.s=this.s}function m1(e){this.t=1,this.s=e<0?-1:0,e>0?this.data[0]=e:e<-1?this.data[0]=e+this.DV:this.t=0}function Nr(e){var t=ie();return t.fromInt(e),t}function x1(e,t){var r;if(t==16)r=4;else if(t==8)r=3;else if(t==256)r=8;else if(t==2)r=1;else if(t==32)r=5;else if(t==4)r=2;else{this.fromRadix(e,t);return}this.t=0,this.s=0;for(var n=e.length,i=!1,a=0;--n>=0;){var s=r==8?e[n]&255:jc(e,n);if(s<0){e.charAt(n)=="-"&&(i=!0);continue}i=!1,a==0?this.data[this.t++]=s:a+r>this.DB?(this.data[this.t-1]|=(s&(1<<this.DB-a)-1)<<a,this.data[this.t++]=s>>this.DB-a):this.data[this.t-1]|=s<<a,a+=r,a>=this.DB&&(a-=this.DB)}r==8&&(e[0]&128)!=0&&(this.s=-1,a>0&&(this.data[this.t-1]|=(1<<this.DB-a)-1<<a)),this.clamp(),i&&D.ZERO.subTo(this,this)}function b1(){for(var e=this.s&this.DM;this.t>0&&this.data[this.t-1]==e;)--this.t}function w1(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(e==16)t=4;else if(e==8)t=3;else if(e==2)t=1;else if(e==32)t=5;else if(e==4)t=2;else return this.toRadix(e);var r=(1<<t)-1,n,i=!1,a="",s=this.t,o=this.DB-s*this.DB%t;if(s-- >0)for(o<this.DB&&(n=this.data[s]>>o)>0&&(i=!0,a=Zc(n));s>=0;)o<t?(n=(this.data[s]&(1<<o)-1)<<t-o,n|=this.data[--s]>>(o+=this.DB-t)):(n=this.data[s]>>(o-=t)&r,o<=0&&(o+=this.DB,--s)),n>0&&(i=!0),i&&(a+=Zc(n));return i?a:"0"}function E1(){var e=ie();return D.ZERO.subTo(this,e),e}function S1(){return this.s<0?this.negate():this}function D1(e){var t=this.s-e.s;if(t!=0)return t;var r=this.t;if(t=r-e.t,t!=0)return this.s<0?-t:t;for(;--r>=0;)if((t=this.data[r]-e.data[r])!=0)return t;return 0}function Ma(e){var t=1,r;return(r=e>>>16)!=0&&(e=r,t+=16),(r=e>>8)!=0&&(e=r,t+=8),(r=e>>4)!=0&&(e=r,t+=4),(r=e>>2)!=0&&(e=r,t+=2),(r=e>>1)!=0&&(e=r,t+=1),t}function B1(){return this.t<=0?0:this.DB*(this.t-1)+Ma(this.data[this.t-1]^this.s&this.DM)}function C1(e,t){var r;for(r=this.t-1;r>=0;--r)t.data[r+e]=this.data[r];for(r=e-1;r>=0;--r)t.data[r]=0;t.t=this.t+e,t.s=this.s}function A1(e,t){for(var r=e;r<this.t;++r)t.data[r-e]=this.data[r];t.t=Math.max(this.t-e,0),t.s=this.s}function T1(e,t){var r=e%this.DB,n=this.DB-r,i=(1<<n)-1,a=Math.floor(e/this.DB),s=this.s<<r&this.DM,o;for(o=this.t-1;o>=0;--o)t.data[o+a+1]=this.data[o]>>n|s,s=(this.data[o]&i)<<r;for(o=a-1;o>=0;--o)t.data[o]=0;t.data[a]=s,t.t=this.t+a+1,t.s=this.s,t.clamp()}function I1(e,t){t.s=this.s;var r=Math.floor(e/this.DB);if(r>=this.t){t.t=0;return}var n=e%this.DB,i=this.DB-n,a=(1<<n)-1;t.data[0]=this.data[r]>>n;for(var s=r+1;s<this.t;++s)t.data[s-r-1]|=(this.data[s]&a)<<i,t.data[s-r]=this.data[s]>>n;n>0&&(t.data[this.t-r-1]|=(this.s&a)<<i),t.t=this.t-r,t.clamp()}function _1(e,t){for(var r=0,n=0,i=Math.min(e.t,this.t);r<i;)n+=this.data[r]-e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n-=e.s;r<this.t;)n+=this.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n-=e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n-=e.s}t.s=n<0?-1:0,n<-1?t.data[r++]=this.DV+n:n>0&&(t.data[r++]=n),t.t=r,t.clamp()}function R1(e,t){var r=this.abs(),n=e.abs(),i=r.t;for(t.t=i+n.t;--i>=0;)t.data[i]=0;for(i=0;i<n.t;++i)t.data[i+r.t]=r.am(0,n.data[i],t,i,0,r.t);t.s=0,t.clamp(),this.s!=e.s&&D.ZERO.subTo(t,t)}function N1(e){for(var t=this.abs(),r=e.t=2*t.t;--r>=0;)e.data[r]=0;for(r=0;r<t.t-1;++r){var n=t.am(r,t.data[r],e,2*r,0,1);(e.data[r+t.t]+=t.am(r+1,2*t.data[r],e,2*r+1,n,t.t-r-1))>=t.DV&&(e.data[r+t.t]-=t.DV,e.data[r+t.t+1]=1)}e.t>0&&(e.data[e.t-1]+=t.am(r,t.data[r],e,2*r,0,1)),e.s=0,e.clamp()}function k1(e,t,r){var n=e.abs();if(!(n.t<=0)){var i=this.abs();if(i.t<n.t){t?.fromInt(0),r!=null&&this.copyTo(r);return}r==null&&(r=ie());var a=ie(),s=this.s,o=e.s,c=this.DB-Ma(n.data[n.t-1]);c>0?(n.lShiftTo(c,a),i.lShiftTo(c,r)):(n.copyTo(a),i.copyTo(r));var u=a.t,f=a.data[u-1];if(f!=0){var l=f*(1<<this.F1)+(u>1?a.data[u-2]>>this.F2:0),h=this.FV/l,d=(1<<this.F1)/l,p=1<<this.F2,y=r.t,m=y-u,x=t??ie();for(a.dlShiftTo(m,x),r.compareTo(x)>=0&&(r.data[r.t++]=1,r.subTo(x,r)),D.ONE.dlShiftTo(u,x),x.subTo(a,a);a.t<u;)a.data[a.t++]=0;for(;--m>=0;){var S=r.data[--y]==f?this.DM:Math.floor(r.data[y]*h+(r.data[y-1]+p)*d);if((r.data[y]+=a.am(0,S,r,m,0,u))<S)for(a.dlShiftTo(m,x),r.subTo(x,r);r.data[y]<--S;)r.subTo(x,r)}t!=null&&(r.drShiftTo(u,t),s!=o&&D.ZERO.subTo(t,t)),r.t=u,r.clamp(),c>0&&r.rShiftTo(c,r),s<0&&D.ZERO.subTo(r,r)}}}function P1(e){var t=ie();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(D.ZERO)>0&&e.subTo(t,t),t}function rn(e){this.m=e}function F1(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e}function U1(e){return e}function K1(e){e.divRemTo(this.m,null,e)}function L1(e,t,r){e.multiplyTo(t,r),this.reduce(r)}function O1(e,t){e.squareTo(t),this.reduce(t)}rn.prototype.convert=F1;rn.prototype.revert=U1;rn.prototype.reduce=K1;rn.prototype.mulTo=L1;rn.prototype.sqrTo=O1;function q1(){if(this.t<1)return 0;var e=this.data[0];if((e&1)==0)return 0;var t=e&3;return t=t*(2-(e&15)*t)&15,t=t*(2-(e&255)*t)&255,t=t*(2-((e&65535)*t&65535))&65535,t=t*(2-e*t%this.DV)%this.DV,t>0?this.DV-t:-t}function nn(e){this.m=e,this.mp=e.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function M1(e){var t=ie();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(D.ZERO)>0&&this.m.subTo(t,t),t}function V1(e){var t=ie();return e.copyTo(t),this.reduce(t),t}function z1(e){for(;e.t<=this.mt2;)e.data[e.t++]=0;for(var t=0;t<this.m.t;++t){var r=e.data[t]&32767,n=r*this.mpl+((r*this.mph+(e.data[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(r=t+this.m.t,e.data[r]+=this.m.am(0,n,e,t,0,this.m.t);e.data[r]>=e.DV;)e.data[r]-=e.DV,e.data[++r]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)}function H1(e,t){e.squareTo(t),this.reduce(t)}function $1(e,t,r){e.multiplyTo(t,r),this.reduce(r)}nn.prototype.convert=M1;nn.prototype.revert=V1;nn.prototype.reduce=z1;nn.prototype.mulTo=$1;nn.prototype.sqrTo=H1;function G1(){return(this.t>0?this.data[0]&1:this.s)==0}function W1(e,t){if(e>4294967295||e<1)return D.ONE;var r=ie(),n=ie(),i=t.convert(this),a=Ma(e)-1;for(i.copyTo(r);--a>=0;)if(t.sqrTo(r,n),(e&1<<a)>0)t.mulTo(n,i,r);else{var s=r;r=n,n=s}return t.revert(r)}function Y1(e,t){var r;return e<256||t.isEven()?r=new rn(t):r=new nn(t),this.exp(e,r)}D.prototype.copyTo=v1;D.prototype.fromInt=m1;D.prototype.fromString=x1;D.prototype.clamp=b1;D.prototype.dlShiftTo=C1;D.prototype.drShiftTo=A1;D.prototype.lShiftTo=T1;D.prototype.rShiftTo=I1;D.prototype.subTo=_1;D.prototype.multiplyTo=R1;D.prototype.squareTo=N1;D.prototype.divRemTo=k1;D.prototype.invDigit=q1;D.prototype.isEven=G1;D.prototype.exp=W1;D.prototype.toString=w1;D.prototype.negate=E1;D.prototype.abs=S1;D.prototype.compareTo=D1;D.prototype.bitLength=B1;D.prototype.mod=P1;D.prototype.modPowInt=Y1;D.ZERO=Nr(0);D.ONE=Nr(1);function Z1(){var e=ie();return this.copyTo(e),e}function j1(){if(this.s<0){if(this.t==1)return this.data[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this.data[0];if(this.t==0)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]}function Q1(){return this.t==0?this.s:this.data[0]<<24>>24}function X1(){return this.t==0?this.s:this.data[0]<<16>>16}function J1(e){return Math.floor(Math.LN2*this.DB/Math.log(e))}function eg(){return this.s<0?-1:this.t<=0||this.t==1&&this.data[0]<=0?0:1}function tg(e){if(e==null&&(e=10),this.signum()==0||e<2||e>36)return"0";var t=this.chunkSize(e),r=Math.pow(e,t),n=Nr(r),i=ie(),a=ie(),s="";for(this.divRemTo(n,i,a);i.signum()>0;)s=(r+a.intValue()).toString(e).substr(1)+s,i.divRemTo(n,i,a);return a.intValue().toString(e)+s}function rg(e,t){this.fromInt(0),t==null&&(t=10);for(var r=this.chunkSize(t),n=Math.pow(t,r),i=!1,a=0,s=0,o=0;o<e.length;++o){var c=jc(e,o);if(c<0){e.charAt(o)=="-"&&this.signum()==0&&(i=!0);continue}s=t*s+c,++a>=r&&(this.dMultiply(n),this.dAddOffset(s,0),a=0,s=0)}a>0&&(this.dMultiply(Math.pow(t,a)),this.dAddOffset(s,0)),i&&D.ZERO.subTo(this,this)}function ng(e,t,r){if(typeof t=="number")if(e<2)this.fromInt(1);else for(this.fromNumber(e,r),this.testBit(e-1)||this.bitwiseTo(D.ONE.shiftLeft(e-1),Do,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(t);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(D.ONE.shiftLeft(e-1),this);else{var n=new Array,i=e&7;n.length=(e>>3)+1,t.nextBytes(n),i>0?n[0]&=(1<<i)-1:n[0]=0,this.fromString(n,256)}}function ig(){var e=this.t,t=new Array;t[0]=this.s;var r=this.DB-e*this.DB%8,n,i=0;if(e-- >0)for(r<this.DB&&(n=this.data[e]>>r)!=(this.s&this.DM)>>r&&(t[i++]=n|this.s<<this.DB-r);e>=0;)r<8?(n=(this.data[e]&(1<<r)-1)<<8-r,n|=this.data[--e]>>(r+=this.DB-8)):(n=this.data[e]>>(r-=8)&255,r<=0&&(r+=this.DB,--e)),(n&128)!=0&&(n|=-256),i==0&&(this.s&128)!=(n&128)&&++i,(i>0||n!=this.s)&&(t[i++]=n);return t}function ag(e){return this.compareTo(e)==0}function sg(e){return this.compareTo(e)<0?this:e}function og(e){return this.compareTo(e)>0?this:e}function ug(e,t,r){var n,i,a=Math.min(e.t,this.t);for(n=0;n<a;++n)r.data[n]=t(this.data[n],e.data[n]);if(e.t<this.t){for(i=e.s&this.DM,n=a;n<this.t;++n)r.data[n]=t(this.data[n],i);r.t=this.t}else{for(i=this.s&this.DM,n=a;n<e.t;++n)r.data[n]=t(i,e.data[n]);r.t=e.t}r.s=t(this.s,e.s),r.clamp()}function cg(e,t){return e&t}function fg(e){var t=ie();return this.bitwiseTo(e,cg,t),t}function Do(e,t){return e|t}function lg(e){var t=ie();return this.bitwiseTo(e,Do,t),t}function Qc(e,t){return e^t}function hg(e){var t=ie();return this.bitwiseTo(e,Qc,t),t}function Xc(e,t){return e&~t}function pg(e){var t=ie();return this.bitwiseTo(e,Xc,t),t}function dg(){for(var e=ie(),t=0;t<this.t;++t)e.data[t]=this.DM&~this.data[t];return e.t=this.t,e.s=~this.s,e}function yg(e){var t=ie();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t}function gg(e){var t=ie();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t}function vg(e){if(e==0)return-1;var t=0;return(e&65535)==0&&(e>>=16,t+=16),(e&255)==0&&(e>>=8,t+=8),(e&15)==0&&(e>>=4,t+=4),(e&3)==0&&(e>>=2,t+=2),(e&1)==0&&++t,t}function mg(){for(var e=0;e<this.t;++e)if(this.data[e]!=0)return e*this.DB+vg(this.data[e]);return this.s<0?this.t*this.DB:-1}function xg(e){for(var t=0;e!=0;)e&=e-1,++t;return t}function bg(){for(var e=0,t=this.s&this.DM,r=0;r<this.t;++r)e+=xg(this.data[r]^t);return e}function wg(e){var t=Math.floor(e/this.DB);return t>=this.t?this.s!=0:(this.data[t]&1<<e%this.DB)!=0}function Eg(e,t){var r=D.ONE.shiftLeft(e);return this.bitwiseTo(r,t,r),r}function Sg(e){return this.changeBit(e,Do)}function Dg(e){return this.changeBit(e,Xc)}function Bg(e){return this.changeBit(e,Qc)}function Cg(e,t){for(var r=0,n=0,i=Math.min(e.t,this.t);r<i;)n+=this.data[r]+e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n+=e.s;r<this.t;)n+=this.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n+=e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=e.s}t.s=n<0?-1:0,n>0?t.data[r++]=n:n<-1&&(t.data[r++]=this.DV+n),t.t=r,t.clamp()}function Ag(e){var t=ie();return this.addTo(e,t),t}function Tg(e){var t=ie();return this.subTo(e,t),t}function Ig(e){var t=ie();return this.multiplyTo(e,t),t}function _g(e){var t=ie();return this.divRemTo(e,t,null),t}function Rg(e){var t=ie();return this.divRemTo(e,null,t),t}function Ng(e){var t=ie(),r=ie();return this.divRemTo(e,t,r),new Array(t,r)}function kg(e){this.data[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()}function Pg(e,t){if(e!=0){for(;this.t<=t;)this.data[this.t++]=0;for(this.data[t]+=e;this.data[t]>=this.DV;)this.data[t]-=this.DV,++t>=this.t&&(this.data[this.t++]=0),++this.data[t]}}function Ai(){}function Jc(e){return e}function Fg(e,t,r){e.multiplyTo(t,r)}function Ug(e,t){e.squareTo(t)}Ai.prototype.convert=Jc;Ai.prototype.revert=Jc;Ai.prototype.mulTo=Fg;Ai.prototype.sqrTo=Ug;function Kg(e){return this.exp(e,new Ai)}function Lg(e,t,r){var n=Math.min(this.t+e.t,t);for(r.s=0,r.t=n;n>0;)r.data[--n]=0;var i;for(i=r.t-this.t;n<i;++n)r.data[n+this.t]=this.am(0,e.data[n],r,n,0,this.t);for(i=Math.min(e.t,t);n<i;++n)this.am(0,e.data[n],r,n,0,t-n);r.clamp()}function Og(e,t,r){--t;var n=r.t=this.t+e.t-t;for(r.s=0;--n>=0;)r.data[n]=0;for(n=Math.max(t-this.t,0);n<e.t;++n)r.data[this.t+n-t]=this.am(t-n,e.data[n],r,0,0,this.t+n-t);r.clamp(),r.drShiftTo(1,r)}function Fn(e){this.r2=ie(),this.q3=ie(),D.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}function qg(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=ie();return e.copyTo(t),this.reduce(t),t}function Mg(e){return e}function Vg(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)}function zg(e,t){e.squareTo(t),this.reduce(t)}function Hg(e,t,r){e.multiplyTo(t,r),this.reduce(r)}Fn.prototype.convert=qg;Fn.prototype.revert=Mg;Fn.prototype.reduce=Vg;Fn.prototype.mulTo=Hg;Fn.prototype.sqrTo=zg;function $g(e,t){var r=e.bitLength(),n,i=Nr(1),a;if(r<=0)return i;r<18?n=1:r<48?n=3:r<144?n=4:r<768?n=5:n=6,r<8?a=new rn(t):t.isEven()?a=new Fn(t):a=new nn(t);var s=new Array,o=3,c=n-1,u=(1<<n)-1;if(s[1]=a.convert(this),n>1){var f=ie();for(a.sqrTo(s[1],f);o<=u;)s[o]=ie(),a.mulTo(f,s[o-2],s[o]),o+=2}var l=e.t-1,h,d=!0,p=ie(),y;for(r=Ma(e.data[l])-1;l>=0;){for(r>=c?h=e.data[l]>>r-c&u:(h=(e.data[l]&(1<<r+1)-1)<<c-r,l>0&&(h|=e.data[l-1]>>this.DB+r-c)),o=n;(h&1)==0;)h>>=1,--o;if((r-=o)<0&&(r+=this.DB,--l),d)s[h].copyTo(i),d=!1;else{for(;o>1;)a.sqrTo(i,p),a.sqrTo(p,i),o-=2;o>0?a.sqrTo(i,p):(y=i,i=p,p=y),a.mulTo(p,s[h],i)}for(;l>=0&&(e.data[l]&1<<r)==0;)a.sqrTo(i,p),y=i,i=p,p=y,--r<0&&(r=this.DB-1,--l)}return a.revert(i)}function Gg(e){var t=this.s<0?this.negate():this.clone(),r=e.s<0?e.negate():e.clone();if(t.compareTo(r)<0){var n=t;t=r,r=n}var i=t.getLowestSetBit(),a=r.getLowestSetBit();if(a<0)return t;for(i<a&&(a=i),a>0&&(t.rShiftTo(a,t),r.rShiftTo(a,r));t.signum()>0;)(i=t.getLowestSetBit())>0&&t.rShiftTo(i,t),(i=r.getLowestSetBit())>0&&r.rShiftTo(i,r),t.compareTo(r)>=0?(t.subTo(r,t),t.rShiftTo(1,t)):(r.subTo(t,r),r.rShiftTo(1,r));return a>0&&r.lShiftTo(a,r),r}function Wg(e){if(e<=0)return 0;var t=this.DV%e,r=this.s<0?e-1:0;if(this.t>0)if(t==0)r=this.data[0]%e;else for(var n=this.t-1;n>=0;--n)r=(t*r+this.data[n])%e;return r}function Yg(e){var t=e.isEven();if(this.isEven()&&t||e.signum()==0)return D.ZERO;for(var r=e.clone(),n=this.clone(),i=Nr(1),a=Nr(0),s=Nr(0),o=Nr(1);r.signum()!=0;){for(;r.isEven();)r.rShiftTo(1,r),t?((!i.isEven()||!a.isEven())&&(i.addTo(this,i),a.subTo(e,a)),i.rShiftTo(1,i)):a.isEven()||a.subTo(e,a),a.rShiftTo(1,a);for(;n.isEven();)n.rShiftTo(1,n),t?((!s.isEven()||!o.isEven())&&(s.addTo(this,s),o.subTo(e,o)),s.rShiftTo(1,s)):o.isEven()||o.subTo(e,o),o.rShiftTo(1,o);r.compareTo(n)>=0?(r.subTo(n,r),t&&i.subTo(s,i),a.subTo(o,a)):(n.subTo(r,n),t&&s.subTo(i,s),o.subTo(a,o))}if(n.compareTo(D.ONE)!=0)return D.ZERO;if(o.compareTo(e)>=0)return o.subtract(e);if(o.signum()<0)o.addTo(e,o);else return o;return o.signum()<0?o.add(e):o}var Lt=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],Zg=(1<<26)/Lt[Lt.length-1];function jg(e){var t,r=this.abs();if(r.t==1&&r.data[0]<=Lt[Lt.length-1]){for(t=0;t<Lt.length;++t)if(r.data[0]==Lt[t])return!0;return!1}if(r.isEven())return!1;for(t=1;t<Lt.length;){for(var n=Lt[t],i=t+1;i<Lt.length&&n<Zg;)n*=Lt[i++];for(n=r.modInt(n);t<i;)if(n%Lt[t++]==0)return!1}return r.millerRabin(e)}function Qg(e){var t=this.subtract(D.ONE),r=t.getLowestSetBit();if(r<=0)return!1;for(var n=t.shiftRight(r),i=Xg(),a,s=0;s<e;++s){do a=new D(this.bitLength(),i);while(a.compareTo(D.ONE)<=0||a.compareTo(t)>=0);var o=a.modPow(n,this);if(o.compareTo(D.ONE)!=0&&o.compareTo(t)!=0){for(var c=1;c++<r&&o.compareTo(t)!=0;)if(o=o.modPowInt(2,this),o.compareTo(D.ONE)==0)return!1;if(o.compareTo(t)!=0)return!1}}return!0}function Xg(){return{nextBytes:function(e){for(var t=0;t<e.length;++t)e[t]=Math.floor(Math.random()*256)}}}D.prototype.chunkSize=J1;D.prototype.toRadix=tg;D.prototype.fromRadix=rg;D.prototype.fromNumber=ng;D.prototype.bitwiseTo=ug;D.prototype.changeBit=Eg;D.prototype.addTo=Cg;D.prototype.dMultiply=kg;D.prototype.dAddOffset=Pg;D.prototype.multiplyLowerTo=Lg;D.prototype.multiplyUpperTo=Og;D.prototype.modInt=Wg;D.prototype.millerRabin=Qg;D.prototype.clone=Z1;D.prototype.intValue=j1;D.prototype.byteValue=Q1;D.prototype.shortValue=X1;D.prototype.signum=eg;D.prototype.toByteArray=ig;D.prototype.equals=ag;D.prototype.min=sg;D.prototype.max=og;D.prototype.and=fg;D.prototype.or=lg;D.prototype.xor=hg;D.prototype.andNot=pg;D.prototype.not=dg;D.prototype.shiftLeft=yg;D.prototype.shiftRight=gg;D.prototype.getLowestSetBit=mg;D.prototype.bitCount=bg;D.prototype.testBit=wg;D.prototype.setBit=Sg;D.prototype.clearBit=Dg;D.prototype.flipBit=Bg;D.prototype.add=Ag;D.prototype.subtract=Tg;D.prototype.multiply=Ig;D.prototype.divide=_g;D.prototype.remainder=Rg;D.prototype.divideAndRemainder=Ng;D.prototype.modPow=$g;D.prototype.modInverse=Yg;D.prototype.pow=Kg;D.prototype.gcd=Gg;D.prototype.isProbablePrime=jg});var sf=A((i3,af)=>{var jt=le();tn();Ie();var rf=af.exports=jt.sha1=jt.sha1||{};jt.md.sha1=jt.md.algorithms.sha1=rf;rf.create=function(){nf||Jg();var e=null,t=jt.util.createBuffer(),r=new Array(80),n={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var i=n.messageLengthSize/4,a=0;a<i;++a)n.fullMessageLength.push(0);return t=jt.util.createBuffer(),e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},n},n.start(),n.update=function(i,a){a==="utf8"&&(i=jt.util.encodeUtf8(i));var s=i.length;n.messageLength+=s,s=[s/4294967296>>>0,s>>>0];for(var o=n.fullMessageLength.length-1;o>=0;--o)n.fullMessageLength[o]+=s[1],s[1]=s[0]+(n.fullMessageLength[o]/4294967296>>>0),n.fullMessageLength[o]=n.fullMessageLength[o]>>>0,s[0]=s[1]/4294967296>>>0;return t.putBytes(i),tf(e,r,t),(t.read>2048||t.length()===0)&&t.compact(),n},n.digest=function(){var i=jt.util.createBuffer();i.putBytes(t.bytes());var a=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,s=a&n.blockLength-1;i.putBytes(Bo.substr(0,n.blockLength-s));for(var o,c,u=n.fullMessageLength[0]*8,f=0;f<n.fullMessageLength.length-1;++f)o=n.fullMessageLength[f+1]*8,c=o/4294967296>>>0,u+=c,i.putInt32(u>>>0),u=o>>>0;i.putInt32(u);var l={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4};tf(l,r,i);var h=jt.util.createBuffer();return h.putInt32(l.h0),h.putInt32(l.h1),h.putInt32(l.h2),h.putInt32(l.h3),h.putInt32(l.h4),h},n};var Bo=null,nf=!1;function Jg(){Bo=String.fromCharCode(128),Bo+=jt.util.fillString(String.fromCharCode(0),64),nf=!0}function tf(e,t,r){for(var n,i,a,s,o,c,u,f,l=r.length();l>=64;){for(i=e.h0,a=e.h1,s=e.h2,o=e.h3,c=e.h4,f=0;f<16;++f)n=r.getInt32(),t[f]=n,u=o^a&(s^o),n=(i<<5|i>>>27)+u+c+1518500249+n,c=o,o=s,s=(a<<30|a>>>2)>>>0,a=i,i=n;for(;f<20;++f)n=t[f-3]^t[f-8]^t[f-14]^t[f-16],n=n<<1|n>>>31,t[f]=n,u=o^a&(s^o),n=(i<<5|i>>>27)+u+c+1518500249+n,c=o,o=s,s=(a<<30|a>>>2)>>>0,a=i,i=n;for(;f<32;++f)n=t[f-3]^t[f-8]^t[f-14]^t[f-16],n=n<<1|n>>>31,t[f]=n,u=a^s^o,n=(i<<5|i>>>27)+u+c+1859775393+n,c=o,o=s,s=(a<<30|a>>>2)>>>0,a=i,i=n;for(;f<40;++f)n=t[f-6]^t[f-16]^t[f-28]^t[f-32],n=n<<2|n>>>30,t[f]=n,u=a^s^o,n=(i<<5|i>>>27)+u+c+1859775393+n,c=o,o=s,s=(a<<30|a>>>2)>>>0,a=i,i=n;for(;f<60;++f)n=t[f-6]^t[f-16]^t[f-28]^t[f-32],n=n<<2|n>>>30,t[f]=n,u=a&s|o&(a^s),n=(i<<5|i>>>27)+u+c+2400959708+n,c=o,o=s,s=(a<<30|a>>>2)>>>0,a=i,i=n;for(;f<80;++f)n=t[f-6]^t[f-16]^t[f-28]^t[f-32],n=n<<2|n>>>30,t[f]=n,u=a^s^o,n=(i<<5|i>>>27)+u+c+3395469782+n,c=o,o=s,s=(a<<30|a>>>2)>>>0,a=i,i=n;e.h0=e.h0+i|0,e.h1=e.h1+a|0,e.h2=e.h2+s|0,e.h3=e.h3+o|0,e.h4=e.h4+c|0,l-=64}}});var cf=A((a3,uf)=>{var Qt=le();Ie();Ci();sf();var of=uf.exports=Qt.pkcs1=Qt.pkcs1||{};of.encode_rsa_oaep=function(e,t,r){var n,i,a,s;typeof r=="string"?(n=r,i=arguments[3]||void 0,a=arguments[4]||void 0):r&&(n=r.label||void 0,i=r.seed||void 0,a=r.md||void 0,r.mgf1&&r.mgf1.md&&(s=r.mgf1.md)),a?a.start():a=Qt.md.sha1.create(),s||(s=a);var o=Math.ceil(e.n.bitLength()/8),c=o-2*a.digestLength-2;if(t.length>c){var u=new Error("RSAES-OAEP input message length is too long.");throw u.length=t.length,u.maxLength=c,u}n||(n=""),a.update(n,"raw");for(var f=a.digest(),l="",h=c-t.length,d=0;d<h;d++)l+="\0";var p=f.getBytes()+l+""+t;if(!i)i=Qt.random.getBytes(a.digestLength);else if(i.length!==a.digestLength){var u=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.");throw u.seedLength=i.length,u.digestLength=a.digestLength,u}var y=za(i,o-a.digestLength-1,s),m=Qt.util.xorBytes(p,y,p.length),x=za(m,a.digestLength,s),S=Qt.util.xorBytes(i,x,i.length);return"\0"+S+m};of.decode_rsa_oaep=function(e,t,r){var n,i,a;typeof r=="string"?(n=r,i=arguments[3]||void 0):r&&(n=r.label||void 0,i=r.md||void 0,r.mgf1&&r.mgf1.md&&(a=r.mgf1.md));var s=Math.ceil(e.n.bitLength()/8);if(t.length!==s){var m=new Error("RSAES-OAEP encoded message length is invalid.");throw m.length=t.length,m.expectedLength=s,m}if(i===void 0?i=Qt.md.sha1.create():i.start(),a||(a=i),s<2*i.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");n||(n=""),i.update(n,"raw");for(var o=i.digest().getBytes(),c=t.charAt(0),u=t.substring(1,i.digestLength+1),f=t.substring(1+i.digestLength),l=za(f,i.digestLength,a),h=Qt.util.xorBytes(u,l,u.length),d=za(h,s-i.digestLength-1,a),p=Qt.util.xorBytes(f,d,f.length),y=p.substring(0,i.digestLength),m=c!=="\0",x=0;x<i.digestLength;++x)m|=o.charAt(x)!==y.charAt(x);for(var S=1,B=i.digestLength,K=i.digestLength;K<p.length;K++){var R=p.charCodeAt(K),_=R&1^1,Y=S?65534:0;m|=R&Y,S=S&_,B+=S}if(m||p.charCodeAt(B)!==1)throw new Error("Invalid RSAES-OAEP padding.");return p.substring(B+1)};function za(e,t,r){r||(r=Qt.md.sha1.create());for(var n="",i=Math.ceil(t/r.digestLength),a=0;a<i;++a){var s=String.fromCharCode(a>>24&255,a>>16&255,a>>8&255,a&255);r.start(),r.update(e+s),n+=r.digest().getBytes()}return n.substring(0,t)}});var ff=A((s3,Co)=>{var kr=le();Ie();Va();Ci();(function(){if(kr.prime){Co.exports=kr.prime;return}var e=Co.exports=kr.prime=kr.prime||{},t=kr.jsbn.BigInteger,r=[6,4,2,4,2,4,6,2],n=new t(null);n.fromInt(30);var i=function(l,h){return l|h};e.generateProbablePrime=function(l,h,d){typeof h=="function"&&(d=h,h={}),h=h||{};var p=h.algorithm||"PRIMEINC";typeof p=="string"&&(p={name:p}),p.options=p.options||{};var y=h.prng||kr.random,m={nextBytes:function(x){for(var S=y.getBytesSync(x.length),B=0;B<x.length;++B)x[B]=S.charCodeAt(B)}};if(p.name==="PRIMEINC")return a(l,m,p.options,d);throw new Error("Invalid prime generation algorithm: "+p.name)};function a(l,h,d,p){return"workers"in d?c(l,h,d,p):s(l,h,d,p)}function s(l,h,d,p){var y=u(l,h),m=0,x=f(y.bitLength());"millerRabinTests"in d&&(x=d.millerRabinTests);var S=10;"maxBlockTime"in d&&(S=d.maxBlockTime),o(y,l,h,m,x,S,p)}function o(l,h,d,p,y,m,x){var S=+new Date;do{if(l.bitLength()>h&&(l=u(h,d)),l.isProbablePrime(y))return x(null,l);l.dAddOffset(r[p++%8],0)}while(m<0||+new Date-S<m);kr.util.setImmediate(function(){o(l,h,d,p,y,m,x)})}function c(l,h,d,p){if(typeof Worker>"u")return s(l,h,d,p);var y=u(l,h),m=d.workers,x=d.workLoad||100,S=x*30/8,B=d.workerScript||"forge/prime.worker.js";if(m===-1)return kr.util.estimateCores(function(R,_){R&&(_=2),m=_-1,K()});K();function K(){m=Math.max(1,m);for(var R=[],_=0;_<m;++_)R[_]=new Worker(B);for(var Y=m,_=0;_<m;++_)R[_].addEventListener("message",Se);var j=!1;function Se(Ge){if(!j){--Y;var We=Ge.data;if(We.found){for(var Me=0;Me<R.length;++Me)R[Me].terminate();return j=!0,p(null,new t(We.prime,16))}y.bitLength()>l&&(y=u(l,h));var Sr=y.toString(16);Ge.target.postMessage({hex:Sr,workLoad:x}),y.dAddOffset(S,0)}}}}function u(l,h){var d=new t(l,h),p=l-1;return d.testBit(p)||d.bitwiseTo(t.ONE.shiftLeft(p),i,d),d.dAddOffset(31-d.mod(n).byteValue(),0),d}function f(l){return l<=100?27:l<=150?18:l<=200?15:l<=250?12:l<=300?9:l<=350?8:l<=400?7:l<=500?6:l<=600?5:l<=800?4:l<=1250?3:2}})()});var $a=A((o3,vf)=>{var q=le();Bi();Va();ka();cf();ff();Ci();Ie();typeof re>"u"&&(re=q.jsbn.BigInteger);var re,Ao=q.util.isNodejs?kn():null,v=q.asn1,bt=q.util;q.pki=q.pki||{};vf.exports=q.pki.rsa=q.rsa=q.rsa||{};var $=q.pki,e2=[6,4,2,4,2,4,6,2],t2={name:"PrivateKeyInfo",tagClass:v.Class.UNIVERSAL,type:v.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:v.Class.UNIVERSAL,type:v.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:v.Class.UNIVERSAL,type:v.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:v.Class.UNIVERSAL,type:v.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:v.Class.UNIVERSAL,type:v.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},r2={name:"RSAPrivateKey",tagClass:v.Class.UNIVERSAL,type:v.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:v.Class.UNIVERSAL,type:v.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:v.Class.UNIVERSAL,type:v.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:v.Class.UNIVERSAL,type:v.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:v.Class.UNIVERSAL,type:v.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:v.Class.UNIVERSAL,type:v.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:v.Class.UNIVERSAL,type:v.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:v.Class.UNIVERSAL,type:v.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:v.Class.UNIVERSAL,type:v.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:v.Class.UNIVERSAL,type:v.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},n2={name:"RSAPublicKey",tagClass:v.Class.UNIVERSAL,type:v.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:v.Class.UNIVERSAL,type:v.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:v.Class.UNIVERSAL,type:v.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},i2=q.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:v.Class.UNIVERSAL,type:v.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:v.Class.UNIVERSAL,type:v.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:v.Class.UNIVERSAL,type:v.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:v.Class.UNIVERSAL,type:v.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:v.Class.UNIVERSAL,type:v.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},a2={name:"DigestInfo",tagClass:v.Class.UNIVERSAL,type:v.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm",tagClass:v.Class.UNIVERSAL,type:v.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm.algorithmIdentifier",tagClass:v.Class.UNIVERSAL,type:v.Type.OID,constructed:!1,capture:"algorithmIdentifier"},{name:"DigestInfo.DigestAlgorithm.parameters",tagClass:v.Class.UNIVERSAL,type:v.Type.NULL,capture:"parameters",optional:!0,constructed:!1}]},{name:"DigestInfo.digest",tagClass:v.Class.UNIVERSAL,type:v.Type.OCTETSTRING,constructed:!1,capture:"digest"}]},s2=function(e){var t;if(e.algorithm in $.oids)t=$.oids[e.algorithm];else{var r=new Error("Unknown message digest algorithm.");throw r.algorithm=e.algorithm,r}var n=v.oidToDer(t).getBytes(),i=v.create(v.Class.UNIVERSAL,v.Type.SEQUENCE,!0,[]),a=v.create(v.Class.UNIVERSAL,v.Type.SEQUENCE,!0,[]);a.value.push(v.create(v.Class.UNIVERSAL,v.Type.OID,!1,n)),a.value.push(v.create(v.Class.UNIVERSAL,v.Type.NULL,!1,""));var s=v.create(v.Class.UNIVERSAL,v.Type.OCTETSTRING,!1,e.digest().getBytes());return i.value.push(a),i.value.push(s),v.toDer(i).getBytes()},yf=function(e,t,r){if(r)return e.modPow(t.e,t.n);if(!t.p||!t.q)return e.modPow(t.d,t.n);t.dP||(t.dP=t.d.mod(t.p.subtract(re.ONE))),t.dQ||(t.dQ=t.d.mod(t.q.subtract(re.ONE))),t.qInv||(t.qInv=t.q.modInverse(t.p));var n;do n=new re(q.util.bytesToHex(q.random.getBytes(t.n.bitLength()/8)),16);while(n.compareTo(t.n)>=0||!n.gcd(t.n).equals(re.ONE));e=e.multiply(n.modPow(t.e,t.n)).mod(t.n);for(var i=e.mod(t.p).modPow(t.dP,t.p),a=e.mod(t.q).modPow(t.dQ,t.q);i.compareTo(a)<0;)i=i.add(t.p);var s=i.subtract(a).multiply(t.qInv).mod(t.p).multiply(t.q).add(a);return s=s.multiply(n.modInverse(t.n)).mod(t.n),s};$.rsa.encrypt=function(e,t,r){var n=r,i,a=Math.ceil(t.n.bitLength()/8);r!==!1&&r!==!0?(n=r===2,i=gf(e,t,r)):(i=q.util.createBuffer(),i.putBytes(e));for(var s=new re(i.toHex(),16),o=yf(s,t,n),c=o.toString(16),u=q.util.createBuffer(),f=a-Math.ceil(c.length/2);f>0;)u.putByte(0),--f;return u.putBytes(q.util.hexToBytes(c)),u.getBytes()};$.rsa.decrypt=function(e,t,r,n){var i=Math.ceil(t.n.bitLength()/8);if(e.length!==i){var a=new Error("Encrypted message length is invalid.");throw a.length=e.length,a.expected=i,a}var s=new re(q.util.createBuffer(e).toHex(),16);if(s.compareTo(t.n)>=0)throw new Error("Encrypted message is invalid.");for(var o=yf(s,t,r),c=o.toString(16),u=q.util.createBuffer(),f=i-Math.ceil(c.length/2);f>0;)u.putByte(0),--f;return u.putBytes(q.util.hexToBytes(c)),n!==!1?Ha(u.getBytes(),t,r):u.getBytes()};$.rsa.createKeyPairGenerationState=function(e,t,r){typeof e=="string"&&(e=parseInt(e,10)),e=e||2048,r=r||{};var n=r.prng||q.random,i={nextBytes:function(o){for(var c=n.getBytesSync(o.length),u=0;u<o.length;++u)o[u]=c.charCodeAt(u)}},a=r.algorithm||"PRIMEINC",s;if(a==="PRIMEINC")s={algorithm:a,state:0,bits:e,rng:i,eInt:t||65537,e:new re(null),p:null,q:null,qBits:e>>1,pBits:e-(e>>1),pqState:0,num:null,keys:null},s.e.fromInt(s.eInt);else throw new Error("Invalid key generation algorithm: "+a);return s};$.rsa.stepKeyPairGenerationState=function(e,t){"algorithm"in e||(e.algorithm="PRIMEINC");var r=new re(null);r.fromInt(30);for(var n=0,i=function(l,h){return l|h},a=+new Date,s,o=0;e.keys===null&&(t<=0||o<t);){if(e.state===0){var c=e.p===null?e.pBits:e.qBits,u=c-1;e.pqState===0?(e.num=new re(c,e.rng),e.num.testBit(u)||e.num.bitwiseTo(re.ONE.shiftLeft(u),i,e.num),e.num.dAddOffset(31-e.num.mod(r).byteValue(),0),n=0,++e.pqState):e.pqState===1?e.num.bitLength()>c?e.pqState=0:e.num.isProbablePrime(u2(e.num.bitLength()))?++e.pqState:e.num.dAddOffset(e2[n++%8],0):e.pqState===2?e.pqState=e.num.subtract(re.ONE).gcd(e.e).compareTo(re.ONE)===0?3:0:e.pqState===3&&(e.pqState=0,e.p===null?e.p=e.num:e.q=e.num,e.p!==null&&e.q!==null&&++e.state,e.num=null)}else if(e.state===1)e.p.compareTo(e.q)<0&&(e.num=e.p,e.p=e.q,e.q=e.num),++e.state;else if(e.state===2)e.p1=e.p.subtract(re.ONE),e.q1=e.q.subtract(re.ONE),e.phi=e.p1.multiply(e.q1),++e.state;else if(e.state===3)e.phi.gcd(e.e).compareTo(re.ONE)===0?++e.state:(e.p=null,e.q=null,e.state=0);else if(e.state===4)e.n=e.p.multiply(e.q),e.n.bitLength()===e.bits?++e.state:(e.q=null,e.state=0);else if(e.state===5){var f=e.e.modInverse(e.phi);e.keys={privateKey:$.rsa.setPrivateKey(e.n,e.e,f,e.p,e.q,f.mod(e.p1),f.mod(e.q1),e.q.modInverse(e.p)),publicKey:$.rsa.setPublicKey(e.n,e.e)}}s=+new Date,o+=s-a,a=s}return e.keys!==null};$.rsa.generateKeyPair=function(e,t,r,n){if(arguments.length===1?typeof e=="object"?(r=e,e=void 0):typeof e=="function"&&(n=e,e=void 0):arguments.length===2?typeof e=="number"?typeof t=="function"?(n=t,t=void 0):typeof t!="number"&&(r=t,t=void 0):(r=e,n=t,e=void 0,t=void 0):arguments.length===3&&(typeof t=="number"?typeof r=="function"&&(n=r,r=void 0):(n=r,r=t,t=void 0)),r=r||{},e===void 0&&(e=r.bits||2048),t===void 0&&(t=r.e||65537),!q.options.usePureJavaScript&&!r.prng&&e>=256&&e<=16384&&(t===65537||t===3)){if(n){if(lf("generateKeyPair"))return Ao.generateKeyPair("rsa",{modulusLength:e,publicExponent:t,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},function(o,c,u){if(o)return n(o);n(null,{privateKey:$.privateKeyFromPem(u),publicKey:$.publicKeyFromPem(c)})});if(hf("generateKey")&&hf("exportKey"))return bt.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:df(t),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(function(o){return bt.globalScope.crypto.subtle.exportKey("pkcs8",o.privateKey)}).then(void 0,function(o){n(o)}).then(function(o){if(o){var c=$.privateKeyFromAsn1(v.fromDer(q.util.createBuffer(o)));n(null,{privateKey:c,publicKey:$.setRsaPublicKey(c.n,c.e)})}});if(pf("generateKey")&&pf("exportKey")){var i=bt.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:df(t),hash:{name:"SHA-256"}},!0,["sign","verify"]);i.oncomplete=function(o){var c=o.target.result,u=bt.globalScope.msCrypto.subtle.exportKey("pkcs8",c.privateKey);u.oncomplete=function(f){var l=f.target.result,h=$.privateKeyFromAsn1(v.fromDer(q.util.createBuffer(l)));n(null,{privateKey:h,publicKey:$.setRsaPublicKey(h.n,h.e)})},u.onerror=function(f){n(f)}},i.onerror=function(o){n(o)};return}}else if(lf("generateKeyPairSync")){var a=Ao.generateKeyPairSync("rsa",{modulusLength:e,publicExponent:t,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}});return{privateKey:$.privateKeyFromPem(a.privateKey),publicKey:$.publicKeyFromPem(a.publicKey)}}}var s=$.rsa.createKeyPairGenerationState(e,t,r);if(!n)return $.rsa.stepKeyPairGenerationState(s,0),s.keys;o2(s,r,n)};$.setRsaPublicKey=$.rsa.setPublicKey=function(e,t){var r={n:e,e:t};return r.encrypt=function(n,i,a){if(typeof i=="string"?i=i.toUpperCase():i===void 0&&(i="RSAES-PKCS1-V1_5"),i==="RSAES-PKCS1-V1_5")i={encode:function(o,c,u){return gf(o,c,2).getBytes()}};else if(i==="RSA-OAEP"||i==="RSAES-OAEP")i={encode:function(o,c){return q.pkcs1.encode_rsa_oaep(c,o,a)}};else if(["RAW","NONE","NULL",null].indexOf(i)!==-1)i={encode:function(o){return o}};else if(typeof i=="string")throw new Error('Unsupported encryption scheme: "'+i+'".');var s=i.encode(n,r,!0);return $.rsa.encrypt(s,r,!0)},r.verify=function(n,i,a,s){typeof a=="string"?a=a.toUpperCase():a===void 0&&(a="RSASSA-PKCS1-V1_5"),s===void 0&&(s={_parseAllDigestBytes:!0}),"_parseAllDigestBytes"in s||(s._parseAllDigestBytes=!0),a==="RSASSA-PKCS1-V1_5"?a={verify:function(c,u){u=Ha(u,r,!0);var f=v.fromDer(u,{parseAllBytes:s._parseAllDigestBytes}),l={},h=[];if(!v.validate(f,a2,l,h)){var d=new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value.");throw d.errors=h,d}var p=v.derToOid(l.algorithmIdentifier);if(!(p===q.oids.md2||p===q.oids.md5||p===q.oids.sha1||p===q.oids.sha224||p===q.oids.sha256||p===q.oids.sha384||p===q.oids.sha512||p===q.oids["sha512-224"]||p===q.oids["sha512-256"])){var d=new Error("Unknown RSASSA-PKCS1-v1_5 DigestAlgorithm identifier.");throw d.oid=p,d}if((p===q.oids.md2||p===q.oids.md5)&&!("parameters"in l))throw new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value. Missing algorithm identifer NULL parameters.");return c===l.digest}}:(a==="NONE"||a==="NULL"||a===null)&&(a={verify:function(c,u){return u=Ha(u,r,!0),c===u}});var o=$.rsa.decrypt(i,r,!0,!1);return a.verify(n,o,r.n.bitLength())},r};$.setRsaPrivateKey=$.rsa.setPrivateKey=function(e,t,r,n,i,a,s,o){var c={n:e,e:t,d:r,p:n,q:i,dP:a,dQ:s,qInv:o};return c.decrypt=function(u,f,l){typeof f=="string"?f=f.toUpperCase():f===void 0&&(f="RSAES-PKCS1-V1_5");var h=$.rsa.decrypt(u,c,!1,!1);if(f==="RSAES-PKCS1-V1_5")f={decode:Ha};else if(f==="RSA-OAEP"||f==="RSAES-OAEP")f={decode:function(d,p){return q.pkcs1.decode_rsa_oaep(p,d,l)}};else if(["RAW","NONE","NULL",null].indexOf(f)!==-1)f={decode:function(d){return d}};else throw new Error('Unsupported encryption scheme: "'+f+'".');return f.decode(h,c,!1)},c.sign=function(u,f){var l=!1;typeof f=="string"&&(f=f.toUpperCase()),f===void 0||f==="RSASSA-PKCS1-V1_5"?(f={encode:s2},l=1):(f==="NONE"||f==="NULL"||f===null)&&(f={encode:function(){return u}},l=1);var h=f.encode(u,c.n.bitLength());return $.rsa.encrypt(h,c,l)},c};$.wrapRsaPrivateKey=function(e){return v.create(v.Class.UNIVERSAL,v.Type.SEQUENCE,!0,[v.create(v.Class.UNIVERSAL,v.Type.INTEGER,!1,v.integerToDer(0).getBytes()),v.create(v.Class.UNIVERSAL,v.Type.SEQUENCE,!0,[v.create(v.Class.UNIVERSAL,v.Type.OID,!1,v.oidToDer($.oids.rsaEncryption).getBytes()),v.create(v.Class.UNIVERSAL,v.Type.NULL,!1,"")]),v.create(v.Class.UNIVERSAL,v.Type.OCTETSTRING,!1,v.toDer(e).getBytes())])};$.privateKeyFromAsn1=function(e){var t={},r=[];if(v.validate(e,t2,t,r)&&(e=v.fromDer(q.util.createBuffer(t.privateKey))),t={},r=[],!v.validate(e,r2,t,r)){var n=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw n.errors=r,n}var i,a,s,o,c,u,f,l;return i=q.util.createBuffer(t.privateKeyModulus).toHex(),a=q.util.createBuffer(t.privateKeyPublicExponent).toHex(),s=q.util.createBuffer(t.privateKeyPrivateExponent).toHex(),o=q.util.createBuffer(t.privateKeyPrime1).toHex(),c=q.util.createBuffer(t.privateKeyPrime2).toHex(),u=q.util.createBuffer(t.privateKeyExponent1).toHex(),f=q.util.createBuffer(t.privateKeyExponent2).toHex(),l=q.util.createBuffer(t.privateKeyCoefficient).toHex(),$.setRsaPrivateKey(new re(i,16),new re(a,16),new re(s,16),new re(o,16),new re(c,16),new re(u,16),new re(f,16),new re(l,16))};$.privateKeyToAsn1=$.privateKeyToRSAPrivateKey=function(e){return v.create(v.Class.UNIVERSAL,v.Type.SEQUENCE,!0,[v.create(v.Class.UNIVERSAL,v.Type.INTEGER,!1,v.integerToDer(0).getBytes()),v.create(v.Class.UNIVERSAL,v.Type.INTEGER,!1,Xt(e.n)),v.create(v.Class.UNIVERSAL,v.Type.INTEGER,!1,Xt(e.e)),v.create(v.Class.UNIVERSAL,v.Type.INTEGER,!1,Xt(e.d)),v.create(v.Class.UNIVERSAL,v.Type.INTEGER,!1,Xt(e.p)),v.create(v.Class.UNIVERSAL,v.Type.INTEGER,!1,Xt(e.q)),v.create(v.Class.UNIVERSAL,v.Type.INTEGER,!1,Xt(e.dP)),v.create(v.Class.UNIVERSAL,v.Type.INTEGER,!1,Xt(e.dQ)),v.create(v.Class.UNIVERSAL,v.Type.INTEGER,!1,Xt(e.qInv))])};$.publicKeyFromAsn1=function(e){var t={},r=[];if(v.validate(e,i2,t,r)){var n=v.derToOid(t.publicKeyOid);if(n!==$.oids.rsaEncryption){var i=new Error("Cannot read public key. Unknown OID.");throw i.oid=n,i}e=t.rsaPublicKey}if(r=[],!v.validate(e,n2,t,r)){var i=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.");throw i.errors=r,i}var a=q.util.createBuffer(t.publicKeyModulus).toHex(),s=q.util.createBuffer(t.publicKeyExponent).toHex();return $.setRsaPublicKey(new re(a,16),new re(s,16))};$.publicKeyToAsn1=$.publicKeyToSubjectPublicKeyInfo=function(e){return v.create(v.Class.UNIVERSAL,v.Type.SEQUENCE,!0,[v.create(v.Class.UNIVERSAL,v.Type.SEQUENCE,!0,[v.create(v.Class.UNIVERSAL,v.Type.OID,!1,v.oidToDer($.oids.rsaEncryption).getBytes()),v.create(v.Class.UNIVERSAL,v.Type.NULL,!1,"")]),v.create(v.Class.UNIVERSAL,v.Type.BITSTRING,!1,[$.publicKeyToRSAPublicKey(e)])])};$.publicKeyToRSAPublicKey=function(e){return v.create(v.Class.UNIVERSAL,v.Type.SEQUENCE,!0,[v.create(v.Class.UNIVERSAL,v.Type.INTEGER,!1,Xt(e.n)),v.create(v.Class.UNIVERSAL,v.Type.INTEGER,!1,Xt(e.e))])};function gf(e,t,r){var n=q.util.createBuffer(),i=Math.ceil(t.n.bitLength()/8);if(e.length>i-11){var a=new Error("Message is too long for PKCS#1 v1.5 padding.");throw a.length=e.length,a.max=i-11,a}n.putByte(0),n.putByte(r);var s=i-3-e.length,o;if(r===0||r===1){o=r===0?0:255;for(var c=0;c<s;++c)n.putByte(o)}else for(;s>0;){for(var u=0,f=q.random.getBytes(s),c=0;c<s;++c)o=f.charCodeAt(c),o===0?++u:n.putByte(o);s=u}return n.putByte(0),n.putBytes(e),n}function Ha(e,t,r,n){var i=Math.ceil(t.n.bitLength()/8),a=q.util.createBuffer(e),s=a.getByte(),o=a.getByte();if(s!==0||r&&o!==0&&o!==1||!r&&o!=2||r&&o===0&&typeof n>"u")throw new Error("Encryption block is invalid.");var c=0;if(o===0){c=i-3-n;for(var u=0;u<c;++u)if(a.getByte()!==0)throw new Error("Encryption block is invalid.")}else if(o===1)for(c=0;a.length()>1;){if(a.getByte()!==255){--a.read;break}++c}else if(o===2)for(c=0;a.length()>1;){if(a.getByte()===0){--a.read;break}++c}var f=a.getByte();if(f!==0||c!==i-3-a.length())throw new Error("Encryption block is invalid.");return a.getBytes()}function o2(e,t,r){typeof t=="function"&&(r=t,t={}),t=t||{};var n={algorithm:{name:t.algorithm||"PRIMEINC",options:{workers:t.workers||2,workLoad:t.workLoad||100,workerScript:t.workerScript}}};"prng"in t&&(n.prng=t.prng),i();function i(){a(e.pBits,function(o,c){if(o)return r(o);if(e.p=c,e.q!==null)return s(o,e.q);a(e.qBits,s)})}function a(o,c){q.prime.generateProbablePrime(o,n,c)}function s(o,c){if(o)return r(o);if(e.q=c,e.p.compareTo(e.q)<0){var u=e.p;e.p=e.q,e.q=u}if(e.p.subtract(re.ONE).gcd(e.e).compareTo(re.ONE)!==0){e.p=null,i();return}if(e.q.subtract(re.ONE).gcd(e.e).compareTo(re.ONE)!==0){e.q=null,a(e.qBits,s);return}if(e.p1=e.p.subtract(re.ONE),e.q1=e.q.subtract(re.ONE),e.phi=e.p1.multiply(e.q1),e.phi.gcd(e.e).compareTo(re.ONE)!==0){e.p=e.q=null,i();return}if(e.n=e.p.multiply(e.q),e.n.bitLength()!==e.bits){e.q=null,a(e.qBits,s);return}var f=e.e.modInverse(e.phi);e.keys={privateKey:$.rsa.setPrivateKey(e.n,e.e,f,e.p,e.q,f.mod(e.p1),f.mod(e.q1),e.q.modInverse(e.p)),publicKey:$.rsa.setPublicKey(e.n,e.e)},r(null,e.keys)}}function Xt(e){var t=e.toString(16);t[0]>="8"&&(t="00"+t);var r=q.util.hexToBytes(t);return r.length>1&&(r.charCodeAt(0)===0&&(r.charCodeAt(1)&128)===0||r.charCodeAt(0)===255&&(r.charCodeAt(1)&128)===128)?r.substr(1):r}function u2(e){return e<=100?27:e<=150?18:e<=200?15:e<=250?12:e<=300?9:e<=350?8:e<=400?7:e<=500?6:e<=600?5:e<=800?4:e<=1250?3:2}function lf(e){return q.util.isNodejs&&typeof Ao[e]=="function"}function hf(e){return typeof bt.globalScope<"u"&&typeof bt.globalScope.crypto=="object"&&typeof bt.globalScope.crypto.subtle=="object"&&typeof bt.globalScope.crypto.subtle[e]=="function"}function pf(e){return typeof bt.globalScope<"u"&&typeof bt.globalScope.msCrypto=="object"&&typeof bt.globalScope.msCrypto.subtle=="object"&&typeof bt.globalScope.msCrypto.subtle[e]=="function"}function df(e){for(var t=q.util.hexToBytes(e.toString(16)),r=new Uint8Array(t.length),n=0;n<t.length;++n)r[n]=t.charCodeAt(n);return r}});var Sf=A((u3,Ef)=>{var P=le();Da();Bi();Ac();tn();ka();mo();Pc();Ci();Gc();$a();Ie();typeof mf>"u"&&(mf=P.jsbn.BigInteger);var mf,b=P.asn1,W=P.pki=P.pki||{};Ef.exports=W.pbe=P.pbe=P.pbe||{};var an=W.oids,c2={name:"EncryptedPrivateKeyInfo",tagClass:b.Class.UNIVERSAL,type:b.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:b.Class.UNIVERSAL,type:b.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:b.Class.UNIVERSAL,type:b.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:b.Class.UNIVERSAL,type:b.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:b.Class.UNIVERSAL,type:b.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},f2={name:"PBES2Algorithms",tagClass:b.Class.UNIVERSAL,type:b.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:b.Class.UNIVERSAL,type:b.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:b.Class.UNIVERSAL,type:b.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:b.Class.UNIVERSAL,type:b.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:b.Class.UNIVERSAL,type:b.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:b.Class.UNIVERSAL,type:b.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:b.Class.UNIVERSAL,type:b.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:b.Class.UNIVERSAL,type:b.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:b.Class.UNIVERSAL,type:b.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:b.Class.UNIVERSAL,type:b.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:b.Class.UNIVERSAL,type:b.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:b.Class.UNIVERSAL,type:b.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},l2={name:"pkcs-12PbeParams",tagClass:b.Class.UNIVERSAL,type:b.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:b.Class.UNIVERSAL,type:b.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:b.Class.UNIVERSAL,type:b.Type.INTEGER,constructed:!1,capture:"iterations"}]};W.encryptPrivateKeyInfo=function(e,t,r){r=r||{},r.saltSize=r.saltSize||8,r.count=r.count||2048,r.algorithm=r.algorithm||"aes128",r.prfAlgorithm=r.prfAlgorithm||"sha1";var n=P.random.getBytesSync(r.saltSize),i=r.count,a=b.integerToDer(i),s,o,c;if(r.algorithm.indexOf("aes")===0||r.algorithm==="des"){var u,f,l;switch(r.algorithm){case"aes128":s=16,u=16,f=an["aes128-CBC"],l=P.aes.createEncryptionCipher;break;case"aes192":s=24,u=16,f=an["aes192-CBC"],l=P.aes.createEncryptionCipher;break;case"aes256":s=32,u=16,f=an["aes256-CBC"],l=P.aes.createEncryptionCipher;break;case"des":s=8,u=8,f=an.desCBC,l=P.des.createEncryptionCipher;break;default:var h=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw h.algorithm=r.algorithm,h}var d="hmacWith"+r.prfAlgorithm.toUpperCase(),p=wf(d),y=P.pkcs5.pbkdf2(t,n,i,s,p),m=P.random.getBytesSync(u),x=l(y);x.start(m),x.update(b.toDer(e)),x.finish(),c=x.output.getBytes();var S=h2(n,a,s,d);o=b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[b.create(b.Class.UNIVERSAL,b.Type.OID,!1,b.oidToDer(an.pkcs5PBES2).getBytes()),b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[b.create(b.Class.UNIVERSAL,b.Type.OID,!1,b.oidToDer(an.pkcs5PBKDF2).getBytes()),S]),b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[b.create(b.Class.UNIVERSAL,b.Type.OID,!1,b.oidToDer(f).getBytes()),b.create(b.Class.UNIVERSAL,b.Type.OCTETSTRING,!1,m)])])])}else if(r.algorithm==="3des"){s=24;var B=new P.util.ByteBuffer(n),y=W.pbe.generatePkcs12Key(t,B,1,i,s),m=W.pbe.generatePkcs12Key(t,B,2,i,s),x=P.des.createEncryptionCipher(y);x.start(m),x.update(b.toDer(e)),x.finish(),c=x.output.getBytes(),o=b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[b.create(b.Class.UNIVERSAL,b.Type.OID,!1,b.oidToDer(an["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[b.create(b.Class.UNIVERSAL,b.Type.OCTETSTRING,!1,n),b.create(b.Class.UNIVERSAL,b.Type.INTEGER,!1,a.getBytes())])])}else{var h=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw h.algorithm=r.algorithm,h}var K=b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[o,b.create(b.Class.UNIVERSAL,b.Type.OCTETSTRING,!1,c)]);return K};W.decryptPrivateKeyInfo=function(e,t){var r=null,n={},i=[];if(!b.validate(e,c2,n,i)){var a=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw a.errors=i,a}var s=b.derToOid(n.encryptionOid),o=W.pbe.getCipher(s,n.encryptionParams,t),c=P.util.createBuffer(n.encryptedData);return o.update(c),o.finish()&&(r=b.fromDer(o.output)),r};W.encryptedPrivateKeyToPem=function(e,t){var r={type:"ENCRYPTED PRIVATE KEY",body:b.toDer(e).getBytes()};return P.pem.encode(r,{maxline:t})};W.encryptedPrivateKeyFromPem=function(e){var t=P.pem.decode(e)[0];if(t.type!=="ENCRYPTED PRIVATE KEY"){var r=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw r.headerType=t.type,r}if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return b.fromDer(t.body)};W.encryptRsaPrivateKey=function(e,t,r){if(r=r||{},!r.legacy){var n=W.wrapRsaPrivateKey(W.privateKeyToAsn1(e));return n=W.encryptPrivateKeyInfo(n,t,r),W.encryptedPrivateKeyToPem(n)}var i,a,s,o;switch(r.algorithm){case"aes128":i="AES-128-CBC",s=16,a=P.random.getBytesSync(16),o=P.aes.createEncryptionCipher;break;case"aes192":i="AES-192-CBC",s=24,a=P.random.getBytesSync(16),o=P.aes.createEncryptionCipher;break;case"aes256":i="AES-256-CBC",s=32,a=P.random.getBytesSync(16),o=P.aes.createEncryptionCipher;break;case"3des":i="DES-EDE3-CBC",s=24,a=P.random.getBytesSync(8),o=P.des.createEncryptionCipher;break;case"des":i="DES-CBC",s=8,a=P.random.getBytesSync(8),o=P.des.createEncryptionCipher;break;default:var c=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+r.algorithm+'".');throw c.algorithm=r.algorithm,c}var u=P.pbe.opensslDeriveBytes(t,a.substr(0,8),s),f=o(u);f.start(a),f.update(b.toDer(W.privateKeyToAsn1(e))),f.finish();var l={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:i,parameters:P.util.bytesToHex(a).toUpperCase()},body:f.output.getBytes()};return P.pem.encode(l)};W.decryptRsaPrivateKey=function(e,t){var r=null,n=P.pem.decode(e)[0];if(n.type!=="ENCRYPTED PRIVATE KEY"&&n.type!=="PRIVATE KEY"&&n.type!=="RSA PRIVATE KEY"){var i=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".');throw i.headerType=i,i}if(n.procType&&n.procType.type==="ENCRYPTED"){var a,s;switch(n.dekInfo.algorithm){case"DES-CBC":a=8,s=P.des.createDecryptionCipher;break;case"DES-EDE3-CBC":a=24,s=P.des.createDecryptionCipher;break;case"AES-128-CBC":a=16,s=P.aes.createDecryptionCipher;break;case"AES-192-CBC":a=24,s=P.aes.createDecryptionCipher;break;case"AES-256-CBC":a=32,s=P.aes.createDecryptionCipher;break;case"RC2-40-CBC":a=5,s=function(l){return P.rc2.createDecryptionCipher(l,40)};break;case"RC2-64-CBC":a=8,s=function(l){return P.rc2.createDecryptionCipher(l,64)};break;case"RC2-128-CBC":a=16,s=function(l){return P.rc2.createDecryptionCipher(l,128)};break;default:var i=new Error('Could not decrypt private key; unsupported encryption algorithm "'+n.dekInfo.algorithm+'".');throw i.algorithm=n.dekInfo.algorithm,i}var o=P.util.hexToBytes(n.dekInfo.parameters),c=P.pbe.opensslDeriveBytes(t,o.substr(0,8),a),u=s(c);if(u.start(o),u.update(P.util.createBuffer(n.body)),u.finish())r=u.output.getBytes();else return r}else r=n.body;return n.type==="ENCRYPTED PRIVATE KEY"?r=W.decryptPrivateKeyInfo(b.fromDer(r),t):r=b.fromDer(r),r!==null&&(r=W.privateKeyFromAsn1(r)),r};W.pbe.generatePkcs12Key=function(e,t,r,n,i,a){var s,o;if(typeof a>"u"||a===null){if(!("sha1"in P.md))throw new Error('"sha1" hash algorithm unavailable.');a=P.md.sha1.create()}var c=a.digestLength,u=a.blockLength,f=new P.util.ByteBuffer,l=new P.util.ByteBuffer;if(e!=null){for(o=0;o<e.length;o++)l.putInt16(e.charCodeAt(o));l.putInt16(0)}var h=l.length(),d=t.length(),p=new P.util.ByteBuffer;p.fillWithByte(r,u);var y=u*Math.ceil(d/u),m=new P.util.ByteBuffer;for(o=0;o<y;o++)m.putByte(t.at(o%d));var x=u*Math.ceil(h/u),S=new P.util.ByteBuffer;for(o=0;o<x;o++)S.putByte(l.at(o%h));var B=m;B.putBuffer(S);for(var K=Math.ceil(i/c),R=1;R<=K;R++){var _=new P.util.ByteBuffer;_.putBytes(p.bytes()),_.putBytes(B.bytes());for(var Y=0;Y<n;Y++)a.start(),a.update(_.getBytes()),_=a.digest();var j=new P.util.ByteBuffer;for(o=0;o<u;o++)j.putByte(_.at(o%c));var Se=Math.ceil(d/u)+Math.ceil(h/u),Ge=new P.util.ByteBuffer;for(s=0;s<Se;s++){var We=new P.util.ByteBuffer(B.getBytes(u)),Me=511;for(o=j.length()-1;o>=0;o--)Me=Me>>8,Me+=j.at(o)+We.at(o),We.setAt(o,Me&255);Ge.putBuffer(We)}B=Ge,f.putBuffer(_)}return f.truncate(f.length()-i),f};W.pbe.getCipher=function(e,t,r){switch(e){case W.oids.pkcs5PBES2:return W.pbe.getCipherForPBES2(e,t,r);case W.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case W.oids["pbewithSHAAnd40BitRC2-CBC"]:return W.pbe.getCipherForPKCS12PBE(e,t,r);default:var n=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw n.oid=e,n.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],n}};W.pbe.getCipherForPBES2=function(e,t,r){var n={},i=[];if(!b.validate(t,f2,n,i)){var a=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw a.errors=i,a}if(e=b.derToOid(n.kdfOid),e!==W.oids.pkcs5PBKDF2){var a=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.");throw a.oid=e,a.supportedOids=["pkcs5PBKDF2"],a}if(e=b.derToOid(n.encOid),e!==W.oids["aes128-CBC"]&&e!==W.oids["aes192-CBC"]&&e!==W.oids["aes256-CBC"]&&e!==W.oids["des-EDE3-CBC"]&&e!==W.oids.desCBC){var a=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.");throw a.oid=e,a.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],a}var s=n.kdfSalt,o=P.util.createBuffer(n.kdfIterationCount);o=o.getInt(o.length()<<3);var c,u;switch(W.oids[e]){case"aes128-CBC":c=16,u=P.aes.createDecryptionCipher;break;case"aes192-CBC":c=24,u=P.aes.createDecryptionCipher;break;case"aes256-CBC":c=32,u=P.aes.createDecryptionCipher;break;case"des-EDE3-CBC":c=24,u=P.des.createDecryptionCipher;break;case"desCBC":c=8,u=P.des.createDecryptionCipher;break}var f=bf(n.prfOid),l=P.pkcs5.pbkdf2(r,s,o,c,f),h=n.encIv,d=u(l);return d.start(h),d};W.pbe.getCipherForPKCS12PBE=function(e,t,r){var n={},i=[];if(!b.validate(t,l2,n,i)){var a=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw a.errors=i,a}var s=P.util.createBuffer(n.salt),o=P.util.createBuffer(n.iterations);o=o.getInt(o.length()<<3);var c,u,f;switch(e){case W.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:c=24,u=8,f=P.des.startDecrypting;break;case W.oids["pbewithSHAAnd40BitRC2-CBC"]:c=5,u=8,f=function(y,m){var x=P.rc2.createDecryptionCipher(y,40);return x.start(m,null),x};break;default:var a=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.");throw a.oid=e,a}var l=bf(n.prfOid),h=W.pbe.generatePkcs12Key(r,s,1,o,c,l);l.start();var d=W.pbe.generatePkcs12Key(r,s,2,o,u,l);return f(h,d)};W.pbe.opensslDeriveBytes=function(e,t,r,n){if(typeof n>"u"||n===null){if(!("md5"in P.md))throw new Error('"md5" hash algorithm unavailable.');n=P.md.md5.create()}t===null&&(t="");for(var i=[xf(n,e+t)],a=16,s=1;a<r;++s,a+=16)i.push(xf(n,i[s-1]+e+t));return i.join("").substr(0,r)};function xf(e,t){return e.start().update(t).digest().getBytes()}function bf(e){var t;if(!e)t="hmacWithSHA1";else if(t=W.oids[b.derToOid(e)],!t){var r=new Error("Unsupported PRF OID.");throw r.oid=e,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}return wf(t)}function wf(e){var t=P.md;switch(e){case"hmacWithSHA224":t=P.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":e=e.substr(8).toLowerCase();break;default:var r=new Error("Unsupported PRF algorithm.");throw r.algorithm=e,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}if(!t||!(e in t))throw new Error("Unknown hash algorithm: "+e);return t[e].create()}function h2(e,t,r,n){var i=b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[b.create(b.Class.UNIVERSAL,b.Type.OCTETSTRING,!1,e),b.create(b.Class.UNIVERSAL,b.Type.INTEGER,!1,t.getBytes())]);return n!=="hmacWithSHA1"&&i.value.push(b.create(b.Class.UNIVERSAL,b.Type.INTEGER,!1,P.util.hexToBytes(r.toString(16))),b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[b.create(b.Class.UNIVERSAL,b.Type.OID,!1,b.oidToDer(W.oids[n]).getBytes()),b.create(b.Class.UNIVERSAL,b.Type.NULL,!1,"")])),i}});var Ti={};Pe(Ti,{concat:()=>Ga});function Ga(e,t){t||(t=e.reduce((i,a)=>i+a.length,0));let r=new Uint8Array(t),n=0;for(let i of e)r.set(i,n),n+=i.length;return r}var Un=fe(()=>{});var To=A((c3,Bf)=>{"use strict";var{concat:p2}=(Un(),z(Ti)),{fromString:Df}=(yt(),z(lr)),d2=mi();function y2({algorithm:e="AES-GCM",nonceLength:t=12,keyLength:r=16,digest:n="SHA-256",saltLength:i=16,iterations:a=32767}={}){let s=d2.get();r*=8;async function o(u,f){let l=s.getRandomValues(new Uint8Array(i)),h=s.getRandomValues(new Uint8Array(t)),d={name:e,iv:h},p={name:"PBKDF2",salt:l,iterations:a,hash:{name:n}},y=await s.subtle.importKey("raw",Df(f),{name:"PBKDF2"},!1,["deriveKey","deriveBits"]),m=await s.subtle.deriveKey(p,y,{name:e,length:r},!0,["encrypt"]),x=await s.subtle.encrypt(d,m,u);return p2([l,d.iv,new Uint8Array(x)])}async function c(u,f){let l=u.slice(0,i),h=u.slice(i,i+t),d=u.slice(i+t),p={name:e,iv:h},y={name:"PBKDF2",salt:l,iterations:a,hash:{name:n}},m=await s.subtle.importKey("raw",Df(f),{name:"PBKDF2"},!1,["deriveKey","deriveBits"]),x=await s.subtle.deriveKey(y,m,{name:e,length:r},!0,["decrypt"]),S=await s.subtle.decrypt(p,x,d);return new Uint8Array(S)}return{encrypt:o,decrypt:c}}Bf.exports={create:y2}});var Af=A((f3,Cf)=>{"use strict";var{base64:g2}=(pi(),z(Sn)),v2=To();Cf.exports={import:async function(e,t){let r=g2.decode(e);return await v2.create().decrypt(r,t)}}});var Kn={};Pe(Kn,{equals:()=>Wa});function Wa(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0}var sn=fe(()=>{});var Nf=A((l3,Rf)=>{var we=le();tn();Ie();var Ii=Rf.exports=we.sha512=we.sha512||{};we.md.sha512=we.md.algorithms.sha512=Ii;var If=we.sha384=we.sha512.sha384=we.sha512.sha384||{};If.create=function(){return Ii.create("SHA-384")};we.md.sha384=we.md.algorithms.sha384=If;we.sha512.sha256=we.sha512.sha256||{create:function(){return Ii.create("SHA-512/256")}};we.md["sha512/256"]=we.md.algorithms["sha512/256"]=we.sha512.sha256;we.sha512.sha224=we.sha512.sha224||{create:function(){return Ii.create("SHA-512/224")}};we.md["sha512/224"]=we.md.algorithms["sha512/224"]=we.sha512.sha224;Ii.create=function(e){if(_f||m2(),typeof e>"u"&&(e="SHA-512"),!(e in on))throw new Error("Invalid SHA-512 algorithm: "+e);for(var t=on[e],r=null,n=we.util.createBuffer(),i=new Array(80),a=0;a<80;++a)i[a]=new Array(2);var s=64;switch(e){case"SHA-384":s=48;break;case"SHA-512/256":s=32;break;case"SHA-512/224":s=28;break}var o={algorithm:e.replace("-","").toLowerCase(),blockLength:128,digestLength:s,messageLength:0,fullMessageLength:null,messageLengthSize:16};return o.start=function(){o.messageLength=0,o.fullMessageLength=o.messageLength128=[];for(var c=o.messageLengthSize/4,u=0;u<c;++u)o.fullMessageLength.push(0);n=we.util.createBuffer(),r=new Array(t.length);for(var u=0;u<t.length;++u)r[u]=t[u].slice(0);return o},o.start(),o.update=function(c,u){u==="utf8"&&(c=we.util.encodeUtf8(c));var f=c.length;o.messageLength+=f,f=[f/4294967296>>>0,f>>>0];for(var l=o.fullMessageLength.length-1;l>=0;--l)o.fullMessageLength[l]+=f[1],f[1]=f[0]+(o.fullMessageLength[l]/4294967296>>>0),o.fullMessageLength[l]=o.fullMessageLength[l]>>>0,f[0]=f[1]/4294967296>>>0;return n.putBytes(c),Tf(r,i,n),(n.read>2048||n.length()===0)&&n.compact(),o},o.digest=function(){var c=we.util.createBuffer();c.putBytes(n.bytes());var u=o.fullMessageLength[o.fullMessageLength.length-1]+o.messageLengthSize,f=u&o.blockLength-1;c.putBytes(Io.substr(0,o.blockLength-f));for(var l,h,d=o.fullMessageLength[0]*8,p=0;p<o.fullMessageLength.length-1;++p)l=o.fullMessageLength[p+1]*8,h=l/4294967296>>>0,d+=h,c.putInt32(d>>>0),d=l>>>0;c.putInt32(d);for(var y=new Array(r.length),p=0;p<r.length;++p)y[p]=r[p].slice(0);Tf(y,i,c);var m=we.util.createBuffer(),x;e==="SHA-512"?x=y.length:e==="SHA-384"?x=y.length-2:x=y.length-4;for(var p=0;p<x;++p)m.putInt32(y[p][0]),(p!==x-1||e!=="SHA-512/224")&&m.putInt32(y[p][1]);return m},o};var Io=null,_f=!1,_o=null,on=null;function m2(){Io=String.fromCharCode(128),Io+=we.util.fillString(String.fromCharCode(0),128),_o=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],on={},on["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],on["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],on["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],on["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],_f=!0}function Tf(e,t,r){for(var n,i,a,s,o,c,u,f,l,h,d,p,y,m,x,S,B,K,R,_,Y,j,Se,Ge,We,Me,Sr,gn,Be,Ve,O,ui,ci,sr,or,U=r.length();U>=128;){for(Be=0;Be<16;++Be)t[Be][0]=r.getInt32()>>>0,t[Be][1]=r.getInt32()>>>0;for(;Be<80;++Be)ui=t[Be-2],Ve=ui[0],O=ui[1],n=((Ve>>>19|O<<13)^(O>>>29|Ve<<3)^Ve>>>6)>>>0,i=((Ve<<13|O>>>19)^(O<<3|Ve>>>29)^(Ve<<26|O>>>6))>>>0,sr=t[Be-15],Ve=sr[0],O=sr[1],a=((Ve>>>1|O<<31)^(Ve>>>8|O<<24)^Ve>>>7)>>>0,s=((Ve<<31|O>>>1)^(Ve<<24|O>>>8)^(Ve<<25|O>>>7))>>>0,ci=t[Be-7],or=t[Be-16],O=i+ci[1]+s+or[1],t[Be][0]=n+ci[0]+a+or[0]+(O/4294967296>>>0)>>>0,t[Be][1]=O>>>0;for(y=e[0][0],m=e[0][1],x=e[1][0],S=e[1][1],B=e[2][0],K=e[2][1],R=e[3][0],_=e[3][1],Y=e[4][0],j=e[4][1],Se=e[5][0],Ge=e[5][1],We=e[6][0],Me=e[6][1],Sr=e[7][0],gn=e[7][1],Be=0;Be<80;++Be)u=((Y>>>14|j<<18)^(Y>>>18|j<<14)^(j>>>9|Y<<23))>>>0,f=((Y<<18|j>>>14)^(Y<<14|j>>>18)^(j<<23|Y>>>9))>>>0,l=(We^Y&(Se^We))>>>0,h=(Me^j&(Ge^Me))>>>0,o=((y>>>28|m<<4)^(m>>>2|y<<30)^(m>>>7|y<<25))>>>0,c=((y<<4|m>>>28)^(m<<30|y>>>2)^(m<<25|y>>>7))>>>0,d=(y&x|B&(y^x))>>>0,p=(m&S|K&(m^S))>>>0,O=gn+f+h+_o[Be][1]+t[Be][1],n=Sr+u+l+_o[Be][0]+t[Be][0]+(O/4294967296>>>0)>>>0,i=O>>>0,O=c+p,a=o+d+(O/4294967296>>>0)>>>0,s=O>>>0,Sr=We,gn=Me,We=Se,Me=Ge,Se=Y,Ge=j,O=_+i,Y=R+n+(O/4294967296>>>0)>>>0,j=O>>>0,R=B,_=K,B=x,K=S,x=y,S=m,O=i+s,y=n+a+(O/4294967296>>>0)>>>0,m=O>>>0;O=e[0][1]+m,e[0][0]=e[0][0]+y+(O/4294967296>>>0)>>>0,e[0][1]=O>>>0,O=e[1][1]+S,e[1][0]=e[1][0]+x+(O/4294967296>>>0)>>>0,e[1][1]=O>>>0,O=e[2][1]+K,e[2][0]=e[2][0]+B+(O/4294967296>>>0)>>>0,e[2][1]=O>>>0,O=e[3][1]+_,e[3][0]=e[3][0]+R+(O/4294967296>>>0)>>>0,e[3][1]=O>>>0,O=e[4][1]+j,e[4][0]=e[4][0]+Y+(O/4294967296>>>0)>>>0,e[4][1]=O>>>0,O=e[5][1]+Ge,e[5][0]=e[5][0]+Se+(O/4294967296>>>0)>>>0,e[5][1]=O>>>0,O=e[6][1]+Me,e[6][0]=e[6][0]+We+(O/4294967296>>>0)>>>0,e[6][1]=O>>>0,O=e[7][1]+gn,e[7][0]=e[7][0]+Sr+(O/4294967296>>>0)>>>0,e[7][1]=O>>>0,U-=128}}});var Pf=A((h3,kf)=>{"use strict";function x2(e){let t=new Uint8Array(e),r=0;if(e>0)if(e>65536)for(;r<e;)r+65536>e?(crypto.getRandomValues(t.subarray(r,r+(e-r))),r+=e-r):(crypto.getRandomValues(t.subarray(r,r+65536)),r+=65536);else crypto.getRandomValues(t);return t}kf.exports=x2});var Ya=A((p3,Ff)=>{"use strict";var b2=Pf(),w2=st();Ff.exports=function(e){if(isNaN(e)||e<=0)throw w2(new Error("random bytes length must be a Number bigger than 0"),"ERR_INVALID_LENGTH");return b2(e)}});var Za=A(_i=>{"use strict";Ie();Va();var E2=le(),{fromString:S2}=(yt(),z(lr)),{toString:Uf}=(gt(),z(pr)),{concat:Kf}=(Un(),z(Ti));_i.bigIntegerToUintBase64url=(e,t)=>{let r=Uint8Array.from(e.abs().toByteArray());if(r=r[0]===0?r.slice(1):r,t!=null){if(r.length>t)throw new Error("byte array longer than desired length");r=Kf([new Uint8Array(t-r.length),r])}return Uf(r,"base64url")};_i.base64urlToBigInteger=e=>{let t=_i.base64urlToBuffer(e);return new E2.jsbn.BigInteger(Uf(t,"base16"),16)};_i.base64urlToBuffer=(e,t)=>{let r=S2(e,"base64urlpad");if(t!=null){if(r.length>t)throw new Error("byte array longer than desired length");r=Kf([new Uint8Array(t-r.length),r])}return r}});var qf=A(Ri=>{"use strict";Bi();$a();var Pr=le(),{bigIntegerToUintBase64url:Jt,base64urlToBigInteger:er}=Za(),{fromString:Lf}=(yt(),z(lr)),{toString:Of}=(gt(),z(pr));Ri.pkcs1ToJwk=function(e){let t=Pr.asn1.fromDer(Of(e,"ascii")),r=Pr.pki.privateKeyFromAsn1(t);return{kty:"RSA",n:Jt(r.n),e:Jt(r.e),d:Jt(r.d),p:Jt(r.p),q:Jt(r.q),dp:Jt(r.dP),dq:Jt(r.dQ),qi:Jt(r.qInv),alg:"RS256",kid:"2011-04-29"}};Ri.jwkToPkcs1=function(e){let t=Pr.pki.privateKeyToAsn1({n:er(e.n),e:er(e.e),d:er(e.d),p:er(e.p),q:er(e.q),dP:er(e.dp),dQ:er(e.dq),qInv:er(e.qi)});return Lf(Pr.asn1.toDer(t).getBytes(),"ascii")};Ri.pkixToJwk=function(e){let t=Pr.asn1.fromDer(Of(e,"ascii")),r=Pr.pki.publicKeyFromAsn1(t);return{kty:"RSA",n:Jt(r.n),e:Jt(r.e),alg:"RS256",kid:"2011-04-29"}};Ri.jwkToPkix=function(e){let t=Pr.pki.publicKeyToAsn1({n:er(e.n),e:er(e.e)});return Lf(Pr.asn1.toDer(t).getBytes(),"ascii")}});var Hf=A((g3,zf)=>{"use strict";$a();var Mf=le(),{base64urlToBigInteger:D2}=Za();function Vf(e,t){return t.map(r=>D2(e[r]))}function B2(e){return Mf.pki.setRsaPrivateKey(...Vf(e,["n","e","d","p","q","dp","dq","qi"]))}function C2(e){return Mf.pki.setRsaPublicKey(...Vf(e,["n","e"]))}zf.exports={jwk2pub:C2,jwk2priv:B2}});var Wf=A(mr=>{"use strict";var vr=mi(),A2=Ya(),{toString:T2}=(gt(),z(pr)),{fromString:I2}=(yt(),z(lr));mr.utils=qf();mr.generateKey=async function(e){let t=await vr.get().subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},!0,["sign","verify"]),r=await $f(t);return{privateKey:r[0],publicKey:r[1]}};mr.unmarshalPrivateKey=async function(e){let r=[await vr.get().subtle.importKey("jwk",e,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!0,["sign"]),await _2(e)],n=await $f({privateKey:r[0],publicKey:r[1]});return{privateKey:n[0],publicKey:n[1]}};mr.getRandomValues=A2;mr.hashAndSign=async function(e,t){let r=await vr.get().subtle.importKey("jwk",e,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!1,["sign"]),n=await vr.get().subtle.sign({name:"RSASSA-PKCS1-v1_5"},r,Uint8Array.from(t));return new Uint8Array(n,n.byteOffset,n.byteLength)};mr.hashAndVerify=async function(e,t,r){let n=await vr.get().subtle.importKey("jwk",e,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!1,["verify"]);return vr.get().subtle.verify({name:"RSASSA-PKCS1-v1_5"},n,t,r)};function $f(e){return Promise.all([vr.get().subtle.exportKey("jwk",e.privateKey),vr.get().subtle.exportKey("jwk",e.publicKey)])}function _2(e){return vr.get().subtle.importKey("jwk",{kty:e.kty,n:e.n,e:e.e},{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!0,["verify"])}var{jwk2pub:R2,jwk2priv:N2}=Hf();function Gf(e,t,r,n){let i=t?R2(e):N2(e),a=T2(Uint8Array.from(r),"ascii"),s=n(a,i);return I2(s,"ascii")}mr.encrypt=function(e,t){return Gf(e,!0,t,(r,n)=>n.encrypt(r))};mr.decrypt=function(e,t){return Gf(e,!1,t,(r,n)=>n.decrypt(r))}});var ja=A((m3,Yf)=>{"use strict";var{base64:k2}=(pi(),z(Sn)),P2=To();Yf.exports={export:async function(e,t){let n=await P2.create().encrypt(e,t);return k2.encode(n)}}});var Jf=A((x3,Xf)=>{"use strict";var{sha256:jf}=(Cn(),z(jr)),Zf=st(),{equals:Qf}=(sn(),z(Kn)),{toString:F2}=(gt(),z(pr));Nf();var Qa=le(),wt=Wf(),Xa=Na(),U2=ja(),Ni=class{constructor(t){this._key=t}async verify(t,r){return wt.hashAndVerify(this._key,r,t)}marshal(){return wt.utils.jwkToPkix(this._key)}get bytes(){return Xa.PublicKey.encode({Type:Xa.KeyType.RSA,Data:this.marshal()}).finish()}encrypt(t){return wt.encrypt(this._key,t)}equals(t){return Qf(this.bytes,t.bytes)}async hash(){let{bytes:t}=await jf.digest(this.bytes);return t}},Ln=class{constructor(t,r){this._key=t,this._publicKey=r}genSecret(){return wt.getRandomValues(16)}async sign(t){return wt.hashAndSign(this._key,t)}get public(){if(!this._publicKey)throw Zf(new Error("public key not provided"),"ERR_PUBKEY_NOT_PROVIDED");return new Ni(this._publicKey)}decrypt(t){return wt.decrypt(this._key,t)}marshal(){return wt.utils.jwkToPkcs1(this._key)}get bytes(){return Xa.PrivateKey.encode({Type:Xa.KeyType.RSA,Data:this.marshal()}).finish()}equals(t){return Qf(this.bytes,t.bytes)}async hash(){let{bytes:t}=await jf.digest(this.bytes);return t}async id(){let t=await this.public.hash();return F2(t,"base58btc")}async export(t,r="pkcs-8"){if(r==="pkcs-8"){let n=new Qa.util.ByteBuffer(this.marshal()),i=Qa.asn1.fromDer(n),a=Qa.pki.privateKeyFromAsn1(i),s={algorithm:"aes256",count:1e4,saltSize:128/8,prfAlgorithm:"sha512"};return Qa.pki.encryptRsaPrivateKey(a,t,s)}else{if(r==="libp2p-key")return U2.export(this.bytes,t);throw Zf(new Error(`export format '${r}' is not supported`),"ERR_INVALID_EXPORT_FORMAT")}}};async function K2(e){let t=wt.utils.pkcs1ToJwk(e),r=await wt.unmarshalPrivateKey(t);return new Ln(r.privateKey,r.publicKey)}function L2(e){let t=wt.utils.pkixToJwk(e);return new Ni(t)}async function O2(e){let t=await wt.unmarshalPrivateKey(e);return new Ln(t.privateKey,t.publicKey)}async function q2(e){let t=await wt.generateKey(e);return new Ln(t.privateKey,t.publicKey)}Xf.exports={RsaPublicKey:Ni,RsaPrivateKey:Ln,unmarshalRsaPublicKey:L2,unmarshalRsaPrivateKey:K2,generateKeyPair:q2,fromJwk:O2}});var cl=A(se=>{"use strict";var M2=se&&se.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(se,"__esModule",{value:!0});se.utils=se.curve25519=se.getSharedSecret=se.verify=se.sign=se.getPublicKey=se.Signature=se.Point=se.RistrettoPoint=se.ExtendedPoint=se.CURVE=void 0;var V2=M2(kn()),Ae=BigInt(0),X=BigInt(1),ze=BigInt(2),nl=BigInt(255),el=ze**BigInt(252)+BigInt("27742317777372353535851937790883648493"),he={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),P:ze**nl-BigInt(19),l:el,n:el,h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960")};se.CURVE=he;var il=ze**BigInt(256),ki=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),b3=BigInt("6853475219497561581579357271197624642482790079785650197046958215289687604742"),z2=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),H2=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),$2=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),G2=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),te=class{constructor(t,r,n,i){this.x=t,this.y=r,this.z=n,this.t=i}static fromAffine(t){if(!(t instanceof Ee))throw new TypeError("ExtendedPoint#fromAffine: expected Point");return t.equals(Ee.ZERO)?te.ZERO:new te(t.x,t.y,X,E(t.x*t.y))}static toAffineBatch(t){let r=Z2(t.map(n=>n.z));return t.map((n,i)=>n.toAffine(r[i]))}static normalizeZ(t){return this.toAffineBatch(t).map(this.fromAffine)}equals(t){tl(t);let{x:r,y:n,z:i}=this,{x:a,y:s,z:o}=t,c=E(r*o),u=E(a*i),f=E(n*o),l=E(s*i);return c===u&&f===l}negate(){return new te(E(-this.x),this.y,this.z,E(-this.t))}double(){let{x:t,y:r,z:n}=this,{a:i}=he,a=E(t**ze),s=E(r**ze),o=E(ze*E(n**ze)),c=E(i*a),u=E(E((t+r)**ze)-a-s),f=c+s,l=f-o,h=c-s,d=E(u*l),p=E(f*h),y=E(u*h),m=E(l*f);return new te(d,p,m,y)}add(t){tl(t);let{x:r,y:n,z:i,t:a}=this,{x:s,y:o,z:c,t:u}=t,f=E((n-r)*(o+s)),l=E((n+r)*(o-s)),h=E(l-f);if(h===Ae)return this.double();let d=E(i*ze*u),p=E(a*ze*c),y=p+d,m=l+f,x=p-d,S=E(y*h),B=E(m*x),K=E(y*x),R=E(h*m);return new te(S,B,R,K)}subtract(t){return this.add(t.negate())}precomputeWindow(t){let r=1+256/t,n=[],i=this,a=i;for(let s=0;s<r;s++){a=i,n.push(a);for(let o=1;o<2**(t-1);o++)a=a.add(i),n.push(a);i=a.double()}return n}wNAF(t,r){!r&&this.equals(te.BASE)&&(r=Ee.BASE);let n=r&&r._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let i=r&&Po.get(r);i||(i=this.precomputeWindow(n),r&&n!==1&&(i=te.normalizeZ(i),Po.set(r,i)));let a=te.ZERO,s=te.ZERO,o=1+256/n,c=2**(n-1),u=BigInt(2**n-1),f=2**n,l=BigInt(n);for(let h=0;h<o;h++){let d=h*c,p=Number(t&u);if(t>>=l,p>c&&(p-=f,t+=X),p===0){let y=i[d];h%2&&(y=y.negate()),s=s.add(y)}else{let y=i[d+Math.abs(p)-1];p<0&&(y=y.negate()),a=a.add(y)}}return te.normalizeZ([a,s])[0]}multiply(t,r){return this.wNAF(qn(t,he.l),r)}multiplyUnsafe(t){let r=qn(t,he.l,!1),n=te.BASE,i=te.ZERO;if(r===Ae)return i;if(this.equals(i)||r===X)return this;if(this.equals(n))return this.wNAF(r);let a=i,s=this;for(;r>Ae;)r&X&&(a=a.add(s)),s=s.double(),r>>=X;return a}isSmallOrder(){return this.multiplyUnsafe(he.h).equals(te.ZERO)}isTorsionFree(){return this.multiplyUnsafe(he.l).equals(te.ZERO)}toAffine(t=es(this.z)){let{x:r,y:n,z:i}=this,a=E(r*t),s=E(n*t);if(E(i*t)!==X)throw new Error("invZ was invalid");return new Ee(a,s)}fromRistrettoBytes(){No()}toRistrettoBytes(){No()}fromRistrettoHash(){No()}};se.ExtendedPoint=te;te.BASE=new te(he.Gx,he.Gy,X,E(he.Gx*he.Gy));te.ZERO=new te(Ae,X,X,Ae);function tl(e){if(!(e instanceof te))throw new TypeError("ExtendedPoint expected")}function Ro(e){if(!(e instanceof Je))throw new TypeError("RistrettoPoint expected")}function No(){throw new Error("Legacy method: switch to RistrettoPoint")}var Je=class{constructor(t){this.ep=t}static calcElligatorRistrettoMap(t){let{d:r}=he,n=E(ki*t*t),i=E((n+X)*$2),a=BigInt(-1),s=E((a-r*n)*E(n+r)),{isValid:o,value:c}=Uo(i,s),u=E(c*t);Ur(u)||(u=E(-u)),o||(c=u),o||(a=n);let f=E(a*(n-X)*G2-s),l=c*c,h=E((c+c)*s),d=E(f*z2),p=E(X-l),y=E(X+l);return new te(E(h*y),E(p*d),E(d*y),E(h*p))}static hashToCurve(t){t=tr(t,64);let r=ko(t.slice(0,32)),n=this.calcElligatorRistrettoMap(r),i=ko(t.slice(32,64)),a=this.calcElligatorRistrettoMap(i);return new Je(n.add(a))}static fromHex(t){t=tr(t,32);let{a:r,d:n}=he,i="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",a=ko(t);if(!j2(On(a),t)||Ur(a))throw new Error(i);let s=E(a*a),o=E(X+r*s),c=E(X-r*s),u=E(o*o),f=E(c*c),l=E(r*n*u-f),{isValid:h,value:d}=rl(E(l*f)),p=E(d*c),y=E(d*p*l),m=E((a+a)*p);Ur(m)&&(m=E(-m));let x=E(o*y),S=E(m*x);if(!h||Ur(S)||x===Ae)throw new Error(i);return new Je(new te(m,x,X,S))}toRawBytes(){let{x:t,y:r,z:n,t:i}=this.ep,a=E(E(n+r)*E(n-r)),s=E(t*r),{value:o}=rl(E(a*s**ze)),c=E(o*a),u=E(o*s),f=E(c*u*i),l;if(Ur(i*f)){let d=E(r*ki),p=E(t*ki);t=d,r=p,l=E(c*H2)}else l=u;Ur(t*f)&&(r=E(-r));let h=E((n-r)*l);return Ur(h)&&(h=E(-h)),On(h)}toHex(){return Pi(this.toRawBytes())}toString(){return this.toHex()}equals(t){Ro(t);let r=this.ep,n=t.ep,i=E(r.x*n.y)===E(r.y*n.x),a=E(r.y*n.y)===E(r.x*n.x);return i||a}add(t){return Ro(t),new Je(this.ep.add(t.ep))}subtract(t){return Ro(t),new Je(this.ep.subtract(t.ep))}multiply(t){return new Je(this.ep.multiply(t))}multiplyUnsafe(t){return new Je(this.ep.multiplyUnsafe(t))}};se.RistrettoPoint=Je;Je.BASE=new Je(te.BASE);Je.ZERO=new Je(te.ZERO);var Po=new WeakMap,Ee=class{constructor(t,r){this.x=t,this.y=r}_setWindowSize(t){this._WINDOW_SIZE=t,Po.delete(this)}static fromHex(t,r=!0){let{d:n,P:i}=he;t=tr(t,32);let a=t.slice();a[31]=t[31]&-129;let s=Lr(a);if(r&&s>=i)throw new Error("Expected 0 < hex < P");if(!r&&s>=il)throw new Error("Expected 0 < hex < 2**256");let o=E(s*s),c=E(o-X),u=E(n*o+X),{isValid:f,value:l}=Uo(c,u);if(!f)throw new Error("Point.fromHex: invalid y coordinate");let h=(l&X)===X;return(t[31]&128)!==0!==h&&(l=E(-l)),new Ee(l,s)}static async fromPrivateKey(t){return(await Fi(t)).point}toRawBytes(){let t=On(this.y);return t[31]|=this.x&X?128:0,t}toHex(){return Pi(this.toRawBytes())}toX25519(){let{y:t}=this,r=E((X+t)*es(X-t));return On(r)}isTorsionFree(){return te.fromAffine(this).isTorsionFree()}equals(t){return this.x===t.x&&this.y===t.y}negate(){return new Ee(E(-this.x),this.y)}add(t){return te.fromAffine(this).add(te.fromAffine(t)).toAffine()}subtract(t){return this.add(t.negate())}multiply(t){return te.fromAffine(this).multiply(t,this).toAffine()}};se.Point=Ee;Ee.BASE=new Ee(he.Gx,he.Gy);Ee.ZERO=new Ee(Ae,X);var Kr=class{constructor(t,r){this.r=t,this.s=r,this.assertValidity()}static fromHex(t){let r=tr(t,64),n=Ee.fromHex(r.slice(0,32),!1),i=Lr(r.slice(32,64));return new Kr(n,i)}assertValidity(){let{r:t,s:r}=this;if(!(t instanceof Ee))throw new Error("Expected Point instance");return qn(r,he.l,!1),this}toRawBytes(){let t=new Uint8Array(64);return t.set(this.r.toRawBytes()),t.set(On(this.s),32),t}toHex(){return Pi(this.toRawBytes())}};se.Signature=Kr;function W2(...e){if(!e.every(n=>n instanceof Uint8Array))throw new Error("Expected Uint8Array list");if(e.length===1)return e[0];let t=e.reduce((n,i)=>n+i.length,0),r=new Uint8Array(t);for(let n=0,i=0;n<e.length;n++){let a=e[n];r.set(a,i),i+=a.length}return r}var Y2=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Pi(e){if(!(e instanceof Uint8Array))throw new Error("Uint8Array expected");let t="";for(let r=0;r<e.length;r++)t+=Y2[e[r]];return t}function al(e){if(typeof e!="string")throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex");let t=new Uint8Array(e.length/2);for(let r=0;r<t.length;r++){let n=r*2,i=e.slice(n,n+2),a=Number.parseInt(i,16);if(Number.isNaN(a)||a<0)throw new Error("Invalid byte sequence");t[r]=a}return t}function sl(e){let r=e.toString(16).padStart(64,"0");return al(r)}function On(e){return sl(e).reverse()}function Ur(e){return(E(e)&X)===X}function Lr(e){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");return BigInt("0x"+Pi(Uint8Array.from(e).reverse()))}function ko(e){return E(Lr(e)&ze**nl-X)}function E(e,t=he.P){let r=e%t;return r>=Ae?r:t+r}function es(e,t=he.P){if(e===Ae||t<=Ae)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=E(e,t),n=t,i=Ae,a=X,s=X,o=Ae;for(;r!==Ae;){let u=n/r,f=n%r,l=i-s*u,h=a-o*u;n=r,r=f,i=s,a=o,s=l,o=h}if(n!==X)throw new Error("invert: does not exist");return E(i,t)}function Z2(e,t=he.P){let r=new Array(e.length),n=e.reduce((a,s,o)=>s===Ae?a:(r[o]=a,E(a*s,t)),X),i=es(n,t);return e.reduceRight((a,s,o)=>s===Ae?a:(r[o]=E(a*r[o],t),E(a*s,t)),i),r}function Ot(e,t){let{P:r}=he,n=e;for(;t-- >Ae;)n*=n,n%=r;return n}function ol(e){let{P:t}=he,r=BigInt(5),n=BigInt(10),i=BigInt(20),a=BigInt(40),s=BigInt(80),c=e*e%t*e%t,u=Ot(c,ze)*c%t,f=Ot(u,X)*e%t,l=Ot(f,r)*f%t,h=Ot(l,n)*l%t,d=Ot(h,i)*h%t,p=Ot(d,a)*d%t,y=Ot(p,s)*p%t,m=Ot(y,s)*p%t,x=Ot(m,n)*l%t;return{pow_p_5_8:Ot(x,ze)*e%t,b2:c}}function Uo(e,t){let r=E(t*t*t),n=E(r*r*t),i=ol(e*n).pow_p_5_8,a=E(e*r*i),s=E(t*a*a),o=a,c=E(a*ki),u=s===e,f=s===E(-e),l=s===E(-e*ki);return u&&(a=o),(f||l)&&(a=c),Ur(a)&&(a=E(-a)),{isValid:u||f,value:a}}function rl(e){return Uo(X,e)}async function Fo(...e){let t=await se.utils.sha512(W2(...e)),r=Lr(t);return E(r,he.l)}function j2(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function tr(e,t){let r=e instanceof Uint8Array?Uint8Array.from(e):al(e);if(typeof t=="number"&&r.length!==t)throw new Error(`Expected ${t} bytes`);return r}function qn(e,t,r=!0){if(!t)throw new TypeError("Specify max value");if(typeof e=="number"&&Number.isSafeInteger(e)&&(e=BigInt(e)),typeof e=="bigint"&&e<t){if(r){if(Ae<e)return e}else if(Ae<=e)return e}throw new TypeError("Expected valid scalar: 0 < scalar < max")}function ul(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}function Q2(e){return Lr(ul(tr(e,32)))}async function Fi(e){if(e=typeof e=="bigint"||typeof e=="number"?sl(qn(e,il)):tr(e),e.length!==32)throw new Error("Expected 32 bytes");let t=await se.utils.sha512(e),r=ul(t.slice(0,32)),n=t.slice(32,64),i=E(Lr(r),he.l),a=Ee.BASE.multiply(i),s=a.toRawBytes();return{head:r,prefix:n,scalar:i,point:a,pointBytes:s}}async function X2(e){return(await Fi(e)).pointBytes}se.getPublicKey=X2;async function J2(e,t){e=tr(e);let{prefix:r,scalar:n,pointBytes:i}=await Fi(t),a=await Fo(r,e),s=Ee.BASE.multiply(a),o=await Fo(s.toRawBytes(),i,e),c=E(a+o*n,he.l);return new Kr(s,c).toRawBytes()}se.sign=J2;async function ev(e,t,r){t=tr(t),r instanceof Ee||(r=Ee.fromHex(r,!1));let{r:n,s:i}=e instanceof Kr?e.assertValidity():Kr.fromHex(e),a=te.BASE.multiplyUnsafe(i),s=await Fo(n.toRawBytes(),r.toRawBytes(),t),o=te.fromAffine(r).multiplyUnsafe(s);return te.fromAffine(n).add(o).subtract(a).multiplyUnsafe(he.h).equals(te.ZERO)}se.verify=ev;async function tv(e,t){let{head:r}=await Fi(e),n=Ee.fromHex(t).toX25519();return se.curve25519.scalarMult(r,n)}se.getSharedSecret=tv;Ee.BASE._setWindowSize(8);function Ja(e,t,r){let n=E(e*(t-r));return t=E(t-n),r=E(r+n),[t,r]}function rv(e,t){let{P:r}=he,n=qn(e,r),i=qn(t,r),a=BigInt(121665),s=n,o=X,c=Ae,u=n,f=X,l=Ae,h;for(let m=BigInt(255-1);m>=Ae;m--){let x=i>>m&X;l^=x,h=Ja(l,o,u),o=h[0],u=h[1],h=Ja(l,c,f),c=h[0],f=h[1],l=x;let S=o+c,B=E(S*S),K=o-c,R=E(K*K),_=B-R,Y=u+f,j=u-f,Se=E(j*S),Ge=E(Y*K);u=E((Se+Ge)**ze),f=E(s*(Se-Ge)**ze),o=E(B*R),c=E(_*(B+E(a*_)))}h=Ja(l,o,u),o=h[0],u=h[1],h=Ja(l,c,f),c=h[0],f=h[1];let{pow_p_5_8:d,b2:p}=ol(c),y=E(Ot(d,BigInt(3))*p);return E(o*y)}function nv(e){return On(E(e,he.P))}function iv(e){let t=tr(e,32);return t[31]&=127,Lr(t)}se.curve25519={BASE_POINT_U:"0900000000000000000000000000000000000000000000000000000000000000",scalarMult(e,t){let r=iv(t),n=Q2(e),i=rv(r,n);if(i===Ae)throw new Error("Invalid private or public key received");return nv(i)},scalarMultBase(e){return se.curve25519.scalarMult(e,se.curve25519.BASE_POINT_U)}};var Fr={node:V2.default,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0};se.utils={TORSION_SUBGROUP:["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"],bytesToHex:Pi,getExtendedPublicKey:Fi,mod:E,invert:es,hashToPrivateScalar:e=>{if(e=tr(e),e.length<40||e.length>1024)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");let t=E(Lr(e),he.l);if(t===Ae||t===X)throw new Error("Invalid private key");return t},randomBytes:(e=32)=>{if(Fr.web)return Fr.web.getRandomValues(new Uint8Array(e));if(Fr.node){let{randomBytes:t}=Fr.node;return new Uint8Array(t(e).buffer)}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>se.utils.randomBytes(32),sha512:async e=>{if(Fr.web){let t=await Fr.web.subtle.digest("SHA-512",e.buffer);return new Uint8Array(t)}else{if(Fr.node)return Uint8Array.from(Fr.node.createHash("sha512").update(e).digest());throw new Error("The environment doesn't have sha512 function")}},precompute(e=8,t=Ee.BASE){let r=t.equals(Ee.BASE)?t:new Ee(t.x,t.y);return r._setWindowSize(e),r.multiply(ze),r}}});var ll=A(Or=>{"use strict";var Ui=cl(),av=32,sv=64,ts=32;Or.publicKeyLength=av;Or.privateKeyLength=sv;Or.generateKey=async function(){let e=Ui.utils.randomPrivateKey(),t=await Ui.getPublicKey(e);return{privateKey:fl(e,t),publicKey:t}};Or.generateKeyFromSeed=async function(e){if(e.length!==ts)throw new TypeError('"seed" must be 32 bytes in length.');if(!(e instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, or Uint8Array.');let t=e,r=await Ui.getPublicKey(t);return{privateKey:fl(t,r),publicKey:r}};Or.hashAndSign=function(e,t){let r=e.slice(0,ts);return Ui.sign(t,r)};Or.hashAndVerify=function(e,t,r){return Ui.verify(t,r,e)};function fl(e,t){let r=new Uint8Array(Or.privateKeyLength);for(let n=0;n<ts;n++)r[n]=e[n],r[ts+n]=t[n];return r}});var gl=A((S3,yl)=>{"use strict";var hl=st(),{equals:pl}=(sn(),z(Kn)),{sha256:dl}=(Cn(),z(jr)),{base58btc:ov}=(En(),z(wn)),{identity:uv}=(Tn(),z(gi)),Ze=ll(),rs=Na(),cv=ja(),Ki=class{constructor(t){this._key=Mn(t,Ze.publicKeyLength)}async verify(t,r){return Ze.hashAndVerify(this._key,r,t)}marshal(){return this._key}get bytes(){return rs.PublicKey.encode({Type:rs.KeyType.Ed25519,Data:this.marshal()}).finish()}equals(t){return pl(this.bytes,t.bytes)}async hash(){let{bytes:t}=await dl.digest(this.bytes);return t}},un=class{constructor(t,r){this._key=Mn(t,Ze.privateKeyLength),this._publicKey=Mn(r,Ze.publicKeyLength)}async sign(t){return Ze.hashAndSign(this._key,t)}get public(){return new Ki(this._publicKey)}marshal(){return this._key}get bytes(){return rs.PrivateKey.encode({Type:rs.KeyType.Ed25519,Data:this.marshal()}).finish()}equals(t){return pl(this.bytes,t.bytes)}async hash(){let{bytes:t}=await dl.digest(this.bytes);return t}async id(){let t=await uv.digest(this.public.bytes);return ov.encode(t.bytes).substring(1)}async export(t,r="libp2p-key"){if(r==="libp2p-key")return cv.export(this.bytes,t);throw hl(new Error(`export format '${r}' is not supported`),"ERR_INVALID_EXPORT_FORMAT")}};function fv(e){if(e.length>Ze.privateKeyLength){e=Mn(e,Ze.privateKeyLength+Ze.publicKeyLength);let n=e.slice(0,Ze.privateKeyLength),i=e.slice(Ze.privateKeyLength,e.length);return new un(n,i)}e=Mn(e,Ze.privateKeyLength);let t=e.slice(0,Ze.privateKeyLength),r=e.slice(Ze.publicKeyLength);return new un(t,r)}function lv(e){return e=Mn(e,Ze.publicKeyLength),new Ki(e)}async function hv(){let{privateKey:e,publicKey:t}=await Ze.generateKey();return new un(e,t)}async function pv(e){let{privateKey:t,publicKey:r}=await Ze.generateKeyFromSeed(e);return new un(t,r)}function Mn(e,t){if(e=Uint8Array.from(e||[]),e.length!==t)throw hl(new Error(`Key must be a Uint8Array of length ${t}, got ${e.length}`),"ERR_INVALID_KEY_TYPE");return e}yl.exports={Ed25519PublicKey:Ki,Ed25519PrivateKey:un,unmarshalEd25519PrivateKey:fv,unmarshalEd25519PublicKey:lv,generateKeyPair:hv,generateKeyPairFromSeed:pv}});var Ol=A(V=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0});V.utils=V.schnorr=V.verify=V.signSync=V.sign=V.getSharedSecret=V.recoverPublicKey=V.getPublicKey=V.Signature=V.Point=V.CURVE=void 0;var dv=kn(),J=BigInt(0),pe=BigInt(1),Re=BigInt(2),Oi=BigInt(3),yv=BigInt(8),Ko=Re**BigInt(256),ae={a:J,b:BigInt(7),P:Ko-Re**BigInt(32)-BigInt(977),n:Ko-BigInt("432420386565659656852420866394968145599"),h:pe,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")};V.CURVE=ae;function vl(e){let{a:t,b:r}=ae,n=k(e*e),i=k(n*e);return k(i+t*e+r)}var ns=ae.a===J,oe=class{constructor(t,r,n){this.x=t,this.y=r,this.z=n}static fromAffine(t){if(!(t instanceof ee))throw new TypeError("JacobianPoint#fromAffine: expected Point");return new oe(t.x,t.y,pe)}static toAffineBatch(t){let r=xv(t.map(n=>n.z));return t.map((n,i)=>n.toAffine(r[i]))}static normalizeZ(t){return oe.toAffineBatch(t).map(oe.fromAffine)}equals(t){if(!(t instanceof oe))throw new TypeError("JacobianPoint expected");let{x:r,y:n,z:i}=this,{x:a,y:s,z:o}=t,c=k(i**Re),u=k(o**Re),f=k(r*u),l=k(a*c),h=k(k(n*o)*u),d=k(k(s*i)*c);return f===l&&h===d}negate(){return new oe(this.x,k(-this.y),this.z)}double(){let{x:t,y:r,z:n}=this,i=k(t**Re),a=k(r**Re),s=k(a**Re),o=k(Re*(k((t+a)**Re)-i-s)),c=k(Oi*i),u=k(c**Re),f=k(u-Re*o),l=k(c*(o-f)-yv*s),h=k(Re*r*n);return new oe(f,l,h)}add(t){if(!(t instanceof oe))throw new TypeError("JacobianPoint expected");let{x:r,y:n,z:i}=this,{x:a,y:s,z:o}=t;if(a===J||s===J)return this;if(r===J||n===J)return t;let c=k(i**Re),u=k(o**Re),f=k(r*u),l=k(a*c),h=k(k(n*o)*u),d=k(k(s*i)*c),p=k(l-f),y=k(d-h);if(p===J)return y===J?this.double():oe.ZERO;let m=k(p**Re),x=k(p*m),S=k(f*m),B=k(y**Re-x-Re*S),K=k(y*(S-B)-h*x),R=k(i*o*p);return new oe(B,K,R)}subtract(t){return this.add(t.negate())}multiplyUnsafe(t){let r=bl(t),n=oe.BASE,i=oe.ZERO;if(r===J)return i;if(r===pe)return this;if(!ns){let h=i,d=this;for(;r>J;)r&pe&&(h=h.add(d)),d=d.double(),r>>=pe;return h}let{k1neg:a,k1:s,k2neg:o,k2:c}=El(r),u=i,f=i,l=this;for(;s>J||c>J;)s&pe&&(u=u.add(l)),c&pe&&(f=f.add(l)),l=l.double(),s>>=pe,c>>=pe;return a&&(u=u.negate()),o&&(f=f.negate()),f=new oe(k(f.x*ae.beta),f.y,f.z),u.add(f)}precomputeWindow(t){let r=ns?128/t+1:256/t+1,n=[],i=this,a=i;for(let s=0;s<r;s++){a=i,n.push(a);for(let o=1;o<2**(t-1);o++)a=a.add(i),n.push(a);i=a.double()}return n}wNAF(t,r){!r&&this.equals(oe.BASE)&&(r=ee.BASE);let n=r&&r._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let i=r&&Lo.get(r);i||(i=this.precomputeWindow(n),r&&n!==1&&(i=oe.normalizeZ(i),Lo.set(r,i)));let a=oe.ZERO,s=oe.ZERO,o=1+(ns?128/n:256/n),c=2**(n-1),u=BigInt(2**n-1),f=2**n,l=BigInt(n);for(let h=0;h<o;h++){let d=h*c,p=Number(t&u);if(t>>=l,p>c&&(p-=f,t+=pe),p===0){let y=i[d];h%2&&(y=y.negate()),s=s.add(y)}else{let y=i[d+Math.abs(p)-1];p<0&&(y=y.negate()),a=a.add(y)}}return{p:a,f:s}}multiply(t,r){let n=bl(t),i,a;if(ns){let{k1neg:s,k1:o,k2neg:c,k2:u}=El(n),{p:f,f:l}=this.wNAF(o,r),{p:h,f:d}=this.wNAF(u,r);s&&(f=f.negate()),c&&(h=h.negate()),h=new oe(k(h.x*ae.beta),h.y,h.z),i=f.add(h),a=l.add(d)}else{let{p:s,f:o}=this.wNAF(n,r);i=s,a=o}return oe.normalizeZ([i,a])[0]}toAffine(t=Gn(this.z)){let{x:r,y:n,z:i}=this,a=t,s=k(a*a),o=k(s*a),c=k(r*s),u=k(n*o);if(k(i*a)!==pe)throw new Error("invZ was invalid");return new ee(c,u)}};oe.BASE=new oe(ae.Gx,ae.Gy,pe);oe.ZERO=new oe(J,pe,J);var Lo=new WeakMap,ee=class{constructor(t,r){this.x=t,this.y=r}_setWindowSize(t){this._WINDOW_SIZE=t,Lo.delete(this)}static fromCompressedHex(t){let r=t.length===32,n=He(r?t:t.subarray(1));if(!ss(n))throw new Error("Point is not on curve");let i=vl(n),a=mv(i),s=(a&pe)===pe;r?s&&(a=k(-a)):(t[0]&1)===1!==s&&(a=k(-a));let o=new ee(n,a);return o.assertValidity(),o}static fromUncompressedHex(t){let r=He(t.subarray(1,33)),n=He(t.subarray(33,65)),i=new ee(r,n);return i.assertValidity(),i}static fromHex(t){let r=ut(t),n=r.length,i=r[0];if(n===32||n===33&&(i===2||i===3))return this.fromCompressedHex(r);if(n===65&&i===4)return this.fromUncompressedHex(r);throw new Error(`Point.fromHex: received invalid point. Expected 32-33 compressed bytes or 65 uncompressed bytes, not ${n}`)}static fromPrivateKey(t){return ee.BASE.multiply(qr(t))}static fromSignature(t,r,n){t=ut(t);let i=Dl(t),{r:a,s}=Cl(r);if(n!==0&&n!==1)throw new Error("Cannot recover signature: invalid recovery bit");if(i===J)throw new Error("Cannot recover signature: msgHash cannot be 0");let o=n&1?"03":"02",c=ee.fromHex(o+xr(a)),{n:u}=ae,f=Gn(a,u),l=k(-i*f,u),h=k(s*f,u),d=ee.BASE.multiplyAndAddUnsafe(c,l,h);if(!d)throw new Error("Cannot recover signature: point at infinify");return d.assertValidity(),d}toRawBytes(t=!1){return br(this.toHex(t))}toHex(t=!1){let r=xr(this.x);return t?`${this.y&pe?"03":"02"}${r}`:`04${r}${xr(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){let t="Point is not on elliptic curve",{x:r,y:n}=this;if(!ss(r)||!ss(n))throw new Error(t);let i=k(n*n),a=vl(r);if(k(i-a)!==J)throw new Error(t)}equals(t){return this.x===t.x&&this.y===t.y}negate(){return new ee(this.x,k(-this.y))}double(){return oe.fromAffine(this).double().toAffine()}add(t){return oe.fromAffine(this).add(oe.fromAffine(t)).toAffine()}subtract(t){return this.add(t.negate())}multiply(t){return oe.fromAffine(this).multiply(t,this).toAffine()}multiplyAndAddUnsafe(t,r,n){let i=oe.fromAffine(this),a=r===J||r===pe||this!==ee.BASE?i.multiplyUnsafe(r):i.multiply(r),s=oe.fromAffine(t).multiplyUnsafe(n),o=a.add(s);return o.equals(oe.ZERO)?void 0:o.toAffine()}};V.Point=ee;ee.BASE=new ee(ae.Gx,ae.Gy);ee.ZERO=new ee(J,J);function ml(e){return Number.parseInt(e[0],16)>=8?"00"+e:e}function xl(e){if(e.length<2||e[0]!==2)throw new Error(`Invalid signature integer tag: ${Hn(e)}`);let t=e[1],r=e.subarray(2,t+2);if(!t||r.length!==t)throw new Error("Invalid signature integer: wrong length");if(r[0]===0&&r[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:He(r),left:e.subarray(t+2)}}function gv(e){if(e.length<2||e[0]!=48)throw new Error(`Invalid signature tag: ${Hn(e)}`);if(e[1]!==e.length-2)throw new Error("Invalid signature: incorrect length");let{data:t,left:r}=xl(e.subarray(2)),{data:n,left:i}=xl(r);if(i.length)throw new Error(`Invalid signature: left bytes after parsing: ${Hn(i)}`);return{r:t,s:n}}var qt=class{constructor(t,r){this.r=t,this.s=r,this.assertValidity()}static fromCompact(t){let r=qi(t),n="Signature.fromCompact";if(typeof t!="string"&&!r)throw new TypeError(`${n}: Expected string or Uint8Array`);let i=r?Hn(t):t;if(i.length!==128)throw new Error(`${n}: Expected 64-byte hex`);return new qt(os(i.slice(0,64)),os(i.slice(64,128)))}static fromDER(t){let r=qi(t);if(typeof t!="string"&&!r)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");let{r:n,s:i}=gv(r?t:br(t));return new qt(n,i)}static fromHex(t){return this.fromDER(t)}assertValidity(){let{r:t,s:r}=this;if(!$n(t))throw new Error("Invalid Signature: r must be 0 < r < n");if(!$n(r))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){let t=ae.n>>pe;return this.s>t}normalizeS(){return this.hasHighS()?new qt(this.r,ae.n-this.s):this}toDERRawBytes(t=!1){return br(this.toDERHex(t))}toDERHex(t=!1){let r=ml(Li(this.s));if(t)return r;let n=ml(Li(this.r)),i=Li(n.length/2),a=Li(r.length/2);return`30${Li(n.length/2+r.length/2+4)}02${i}${n}02${a}${r}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return br(this.toCompactHex())}toCompactHex(){return xr(this.r)+xr(this.s)}};V.Signature=qt;function Vn(...e){if(!e.every(qi))throw new Error("Uint8Array list expected");if(e.length===1)return e[0];let t=e.reduce((n,i)=>n+i.length,0),r=new Uint8Array(t);for(let n=0,i=0;n<e.length;n++){let a=e[n];r.set(a,i),i+=a.length}return r}function qi(e){return e instanceof Uint8Array}var vv=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Hn(e){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");let t="";for(let r=0;r<e.length;r++)t+=vv[e[r]];return t}function xr(e){if(e>Ko)throw new Error("Expected number < 2^256");return e.toString(16).padStart(64,"0")}function zn(e){return br(xr(e))}function Li(e){let t=e.toString(16);return t.length&1?`0${t}`:t}function os(e){if(typeof e!="string")throw new TypeError("hexToNumber: expected string, got "+typeof e);return BigInt(`0x${e}`)}function br(e){if(typeof e!="string")throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+e.length);let t=new Uint8Array(e.length/2);for(let r=0;r<t.length;r++){let n=r*2,i=e.slice(n,n+2),a=Number.parseInt(i,16);if(Number.isNaN(a)||a<0)throw new Error("Invalid byte sequence");t[r]=a}return t}function He(e){return os(Hn(e))}function ut(e){return e instanceof Uint8Array?Uint8Array.from(e):br(e)}function bl(e){if(typeof e=="number"&&Number.isSafeInteger(e)&&e>0)return BigInt(e);if(typeof e=="bigint"&&$n(e))return e;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function k(e,t=ae.P){let r=e%t;return r>=J?r:t+r}function Et(e,t){let{P:r}=ae,n=e;for(;t-- >J;)n*=n,n%=r;return n}function mv(e){let{P:t}=ae,r=BigInt(6),n=BigInt(11),i=BigInt(22),a=BigInt(23),s=BigInt(44),o=BigInt(88),c=e*e*e%t,u=c*c*e%t,f=Et(u,Oi)*u%t,l=Et(f,Oi)*u%t,h=Et(l,Re)*c%t,d=Et(h,n)*h%t,p=Et(d,i)*d%t,y=Et(p,s)*p%t,m=Et(y,o)*y%t,x=Et(m,s)*p%t,S=Et(x,Oi)*u%t,B=Et(S,a)*d%t,K=Et(B,r)*c%t;return Et(K,Re)}function Gn(e,t=ae.P){if(e===J||t<=J)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=k(e,t),n=t,i=J,a=pe,s=pe,o=J;for(;r!==J;){let u=n/r,f=n%r,l=i-s*u,h=a-o*u;n=r,r=f,i=s,a=o,s=l,o=h}if(n!==pe)throw new Error("invert: does not exist");return k(i,t)}function xv(e,t=ae.P){let r=new Array(e.length),n=e.reduce((a,s,o)=>s===J?a:(r[o]=a,k(a*s,t)),pe),i=Gn(n,t);return e.reduceRight((a,s,o)=>s===J?a:(r[o]=k(a*r[o],t),k(a*s,t)),i),r}var wl=(e,t)=>(e+t/Re)/t,is=Re**BigInt(128);function El(e){let{n:t}=ae,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-pe*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),a=r,s=wl(a*e,t),o=wl(-n*e,t),c=k(e-s*r-o*i,t),u=k(-s*n-o*a,t),f=c>is,l=u>is;if(f&&(c=t-c),l&&(u=t-u),c>is||u>is)throw new Error("splitScalarEndo: Endomorphism failed, k="+e);return{k1neg:f,k1:c,k2neg:l,k2:u}}function Dl(e){let{n:t}=ae,n=e.length*8-256,i=He(e);return n>0&&(i=i>>BigInt(n)),i>=t&&(i-=t),i}var us=class{constructor(){this.v=new Uint8Array(32).fill(1),this.k=new Uint8Array(32).fill(0),this.counter=0}hmac(...t){return V.utils.hmacSha256(this.k,...t)}hmacSync(...t){if(typeof V.utils.hmacSha256Sync!="function")throw new Error("utils.hmacSha256Sync is undefined, you need to set it");let r=V.utils.hmacSha256Sync(this.k,...t);if(r instanceof Promise)throw new Error("To use sync sign(), ensure utils.hmacSha256 is sync");return r}incr(){if(this.counter>=1e3)throw new Error("Tried 1,000 k values for sign(), all were invalid");this.counter+=1}async reseed(t=new Uint8Array){this.k=await this.hmac(this.v,Uint8Array.from([0]),t),this.v=await this.hmac(this.v),t.length!==0&&(this.k=await this.hmac(this.v,Uint8Array.from([1]),t),this.v=await this.hmac(this.v))}reseedSync(t=new Uint8Array){this.k=this.hmacSync(this.v,Uint8Array.from([0]),t),this.v=this.hmacSync(this.v),t.length!==0&&(this.k=this.hmacSync(this.v,Uint8Array.from([1]),t),this.v=this.hmacSync(this.v))}async generate(){return this.incr(),this.v=await this.hmac(this.v),this.v}generateSync(){return this.incr(),this.v=this.hmacSync(this.v),this.v}};function $n(e){return J<e&&e<ae.n}function ss(e){return J<e&&e<ae.P}function Bl(e,t,r){let n=He(e);if(!$n(n))return;let{n:i}=ae,a=ee.BASE.multiply(n),s=k(a.x,i);if(s===J)return;let o=k(Gn(n,i)*k(t+r*s,i),i);if(o===J)return;let c=new qt(s,o),u=(a.x===c.r?0:2)|Number(a.y&pe);return{sig:c,recovery:u}}function qr(e){let t;if(typeof e=="bigint")t=e;else if(typeof e=="number"&&Number.isSafeInteger(e)&&e>0)t=BigInt(e);else if(typeof e=="string"){if(e.length!==64)throw new Error("Expected 32 bytes of private key");t=os(e)}else if(qi(e)){if(e.length!==32)throw new Error("Expected 32 bytes of private key");t=He(e)}else throw new TypeError("Expected valid private key");if(!$n(t))throw new Error("Expected private key: 0 < key < n");return t}function Oo(e){return e instanceof ee?(e.assertValidity(),e):ee.fromHex(e)}function Cl(e){if(e instanceof qt)return e.assertValidity(),e;try{return qt.fromDER(e)}catch{return qt.fromCompact(e)}}function bv(e,t=!1){return ee.fromPrivateKey(e).toRawBytes(t)}V.getPublicKey=bv;function wv(e,t,r,n=!1){return ee.fromSignature(e,t,r).toRawBytes(n)}V.recoverPublicKey=wv;function Sl(e){let t=qi(e),r=typeof e=="string",n=(t||r)&&e.length;return t?n===33||n===65:r?n===66||n===130:e instanceof ee}function Ev(e,t,r=!1){if(Sl(e))throw new TypeError("getSharedSecret: first arg must be private key");if(!Sl(t))throw new TypeError("getSharedSecret: second arg must be public key");let n=Oo(t);return n.assertValidity(),n.multiply(qr(e)).toRawBytes(r)}V.getSharedSecret=Ev;function Al(e){let t=e.length>32?e.slice(0,32):e;return He(t)}function Sv(e){let t=Al(e),r=k(t,ae.n);return Tl(r<J?t:r)}function Tl(e){if(typeof e!="bigint")throw new Error("Expected bigint");let t=xr(e);return br(t)}function Il(e,t,r){if(e==null)throw new Error(`sign: expected valid message hash, not "${e}"`);let n=ut(e),i=qr(t),a=[Tl(i),Sv(n)];if(r!=null){r===!0&&(r=V.utils.randomBytes(32));let c=ut(r);if(c.length!==32)throw new Error("sign: Expected 32 bytes of extra data");a.push(c)}let s=Vn(...a),o=Al(n);return{seed:s,m:o,d:i}}function _l(e,t){let{sig:r,recovery:n}=e,{canonical:i,der:a,recovered:s}=Object.assign({canonical:!0,der:!0},t);i&&r.hasHighS()&&(r=r.normalizeS(),n^=1);let o=a?r.toDERRawBytes():r.toCompactRawBytes();return s?[o,n]:o}async function Dv(e,t,r={}){let{seed:n,m:i,d:a}=Il(e,t,r.extraEntropy),s,o=new us;for(await o.reseed(n);!(s=Bl(await o.generate(),i,a));)await o.reseed();return _l(s,r)}V.sign=Dv;function Bv(e,t,r={}){let{seed:n,m:i,d:a}=Il(e,t,r.extraEntropy),s,o=new us;for(o.reseedSync(n);!(s=Bl(o.generateSync(),i,a));)o.reseedSync();return _l(s,r)}V.signSync=Bv;var Cv={strict:!0};function Av(e,t,r,n=Cv){let i;try{i=Cl(e),t=ut(t)}catch{return!1}let{r:a,s}=i;if(n.strict&&i.hasHighS())return!1;let o=Dl(t);if(o===J)return!1;let c;try{c=Oo(r)}catch{return!1}let{n:u}=ae,f=Gn(s,u),l=k(o*f,u),h=k(a*f,u),d=ee.BASE.multiplyAndAddUnsafe(c,l,h);return d?k(d.x,u)===a:!1}V.verify=Av;function cs(e){return k(He(e),ae.n)}function qo(e){return(e.y&pe)===J}var Vr=class{constructor(t,r){this.r=t,this.s=r,this.assertValidity()}static fromHex(t){let r=ut(t);if(r.length!==64)throw new TypeError(`SchnorrSignature.fromHex: expected 64 bytes, not ${r.length}`);let n=He(r.subarray(0,32)),i=He(r.subarray(32,64));return new Vr(n,i)}assertValidity(){let{r:t,s:r}=this;if(!ss(t)||!$n(r))throw new Error("Invalid signature")}toHex(){return xr(this.r)+xr(this.s)}toRawBytes(){return br(this.toHex())}};function Tv(e){return ee.fromPrivateKey(e).toRawX()}function Rl(e,t,r){if(e==null)throw new TypeError(`sign: Expected valid message, not "${e}"`);let n=ut(e),i=qr(t),a=ut(r);if(a.length!==32)throw new TypeError("sign: Expected 32 bytes of aux randomness");let s=ee.fromPrivateKey(i),o=s.toRawX(),c=qo(s)?i:ae.n-i;return{m:n,P:s,px:o,d:c,rand:a}}function Nl(e,t){return zn(e^He(t))}function kl(e){let t=k(He(e),ae.n);if(t===J)throw new Error("sign: Creation of signature failed. k is zero");let r=ee.fromPrivateKey(t),n=r.toRawX(),i=qo(r)?t:ae.n-t;return{R:r,rx:n,k:i}}function Pl(e,t,r,n){return new Vr(e.x,k(t+r*n,ae.n)).toRawBytes()}async function Iv(e,t,r=V.utils.randomBytes()){let{m:n,px:i,d:a,rand:s}=Rl(e,t,r),o=Nl(a,await V.utils.taggedHash(Mr.aux,s)),{R:c,rx:u,k:f}=kl(await V.utils.taggedHash(Mr.nonce,o,i,n)),l=cs(await V.utils.taggedHash(Mr.challenge,u,i,n)),h=Pl(c,f,l,a);if(!await Kl(h,n,i))throw new Error("sign: Invalid signature produced");return h}function _v(e,t,r=V.utils.randomBytes()){let{m:n,px:i,d:a,rand:s}=Rl(e,t,r),o=Nl(a,V.utils.taggedHashSync(Mr.aux,s)),{R:c,rx:u,k:f}=kl(V.utils.taggedHashSync(Mr.nonce,o,i,n)),l=cs(V.utils.taggedHashSync(Mr.challenge,u,i,n)),h=Pl(c,f,l,a);if(!Ll(h,n,i))throw new Error("sign: Invalid signature produced");return h}function Fl(e,t,r){let n=e instanceof Vr,i=n?e:Vr.fromHex(e);return n&&i.assertValidity(),{...i,m:ut(t),P:Oo(r)}}function Ul(e,t,r,n){let i=ee.BASE.multiplyAndAddUnsafe(t,qr(r),k(-n,ae.n));return!(!i||!qo(i)||i.x!==e)}async function Kl(e,t,r){try{let{r:n,s:i,m:a,P:s}=Fl(e,t,r),o=cs(await V.utils.taggedHash(Mr.challenge,zn(n),s.toRawX(),a));return Ul(n,s,i,o)}catch{return!1}}function Ll(e,t,r){try{let{r:n,s:i,m:a,P:s}=Fl(e,t,r),o=cs(V.utils.taggedHashSync(Mr.challenge,zn(n),s.toRawX(),a));return Ul(n,s,i,o)}catch{return!1}}V.schnorr={Signature:Vr,getPublicKey:Tv,sign:Iv,verify:Kl,signSync:_v,verifySync:Ll};ee.BASE._setWindowSize(8);var ot={node:dv,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},Mr={challenge:"BIP0340/challenge",aux:"BIP0340/aux",nonce:"BIP0340/nonce"},as={};V.utils={isValidPrivateKey(e){try{return qr(e),!0}catch{return!1}},privateAdd:(e,t)=>{let r=qr(e),n=He(ut(t));return zn(k(r+n,ae.n))},privateNegate:e=>{let t=qr(e);return zn(ae.n-t)},pointAddScalar:(e,t,r)=>{let n=ee.fromHex(e),i=He(ut(t)),a=ee.BASE.multiplyAndAddUnsafe(n,i,pe);if(!a)throw new Error("Tweaked point at infinity");return a.toRawBytes(r)},pointMultiply:(e,t,r)=>{let n=ee.fromHex(e),i=He(ut(t));return n.multiply(i).toRawBytes(r)},hashToPrivateKey:e=>{if(e=ut(e),e.length<40||e.length>1024)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");let t=k(He(e),ae.n-pe)+pe;return zn(t)},randomBytes:(e=32)=>{if(ot.web)return ot.web.getRandomValues(new Uint8Array(e));if(ot.node){let{randomBytes:t}=ot.node;return Uint8Array.from(t(e))}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>V.utils.hashToPrivateKey(V.utils.randomBytes(40)),bytesToHex:Hn,hexToBytes:br,concatBytes:Vn,mod:k,invert:Gn,sha256:async(...e)=>{if(ot.web){let t=await ot.web.subtle.digest("SHA-256",Vn(...e));return new Uint8Array(t)}else if(ot.node){let{createHash:t}=ot.node,r=t("sha256");return e.forEach(n=>r.update(n)),Uint8Array.from(r.digest())}else throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(e,...t)=>{if(ot.web){let r=await ot.web.subtle.importKey("raw",e,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),n=Vn(...t),i=await ot.web.subtle.sign("HMAC",r,n);return new Uint8Array(i)}else if(ot.node){let{createHmac:r}=ot.node,n=r("sha256",e);return t.forEach(i=>n.update(i)),Uint8Array.from(n.digest())}else throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(e,...t)=>{let r=as[e];if(r===void 0){let n=await V.utils.sha256(Uint8Array.from(e,i=>i.charCodeAt(0)));r=Vn(n,n),as[e]=r}return V.utils.sha256(r,...t)},taggedHashSync:(e,...t)=>{if(typeof V.utils.sha256Sync!="function")throw new Error("utils.sha256Sync is undefined, you need to set it");let r=as[e];if(r===void 0){let n=V.utils.sha256Sync(Uint8Array.from(e,i=>i.charCodeAt(0)));r=Vn(n,n),as[e]=r}return V.utils.sha256Sync(r,...t)},precompute(e=8,t=ee.BASE){let r=t===ee.BASE?t:new ee(t.x,t.y);return r._setWindowSize(e),r.multiply(Oi),r}}});var Vl=A((B3,Ml)=>{"use strict";var Mi=st(),zr=Ol(),{sha256:ql}=(Cn(),z(jr));Ml.exports=()=>{function t(){return zr.utils.randomPrivateKey()}async function r(u,f){let{digest:l}=await ql.digest(f);try{return await zr.sign(l,u)}catch(h){throw Mi(h,"ERR_INVALID_INPUT")}}async function n(u,f,l){try{let{digest:h}=await ql.digest(l);return zr.verify(f,h,u)}catch(h){throw Mi(h,"ERR_INVALID_INPUT")}}function i(u){return zr.Point.fromHex(u).toRawBytes(!0)}function a(u){return zr.Point.fromHex(u).toRawBytes(!1)}function s(u){try{zr.getPublicKey(u,!0)}catch(f){throw Mi(f,"ERR_INVALID_PRIVATE_KEY")}}function o(u){try{zr.Point.fromHex(u)}catch(f){throw Mi(f,"ERR_INVALID_PUBLIC_KEY")}}function c(u){try{return zr.getPublicKey(u,!0)}catch(f){throw Mi(f,"ERR_INVALID_PRIVATE_KEY")}}return{generateKey:t,privateKeyLength:32,hashAndSign:r,hashAndVerify:n,compressPublicKey:i,decompressPublicKey:a,validatePrivateKey:s,validatePublicKey:o,computePublicKey:c}}});var Gl=A((C3,$l)=>{"use strict";var{sha256:zl}=(Cn(),z(jr)),Rv=st(),{equals:Hl}=(sn(),z(Kn)),{toString:Nv}=(gt(),z(pr)),kv=ja();$l.exports=(e,t,r)=>{r=r||Vl()();class n{constructor(u){r.validatePublicKey(u),this._key=u}verify(u,f){return r.hashAndVerify(this._key,f,u)}marshal(){return r.compressPublicKey(this._key)}get bytes(){return e.PublicKey.encode({Type:e.KeyType.Secp256k1,Data:this.marshal()}).finish()}equals(u){return Hl(this.bytes,u.bytes)}async hash(){let{bytes:u}=await zl.digest(this.bytes);return u}}class i{constructor(u,f){this._key=u,this._publicKey=f||r.computePublicKey(u),r.validatePrivateKey(this._key),r.validatePublicKey(this._publicKey)}sign(u){return r.hashAndSign(this._key,u)}get public(){return new n(this._publicKey)}marshal(){return this._key}get bytes(){return e.PrivateKey.encode({Type:e.KeyType.Secp256k1,Data:this.marshal()}).finish()}equals(u){return Hl(this.bytes,u.bytes)}async hash(){let{bytes:u}=await zl.digest(this.bytes);return u}async id(){let u=await this.public.hash();return Nv(u,"base58btc")}async export(u,f="libp2p-key"){if(f==="libp2p-key")return kv.export(this.bytes,u);throw Rv(new Error(`export format '${f}' is not supported`),"ERR_INVALID_EXPORT_FORMAT")}}function a(c){return new i(c)}function s(c){return new n(c)}async function o(){let c=await r.generateKey();return new i(c)}return{Secp256k1PublicKey:n,Secp256k1PrivateKey:i,unmarshalSecp256k1PrivateKey:a,unmarshalSecp256k1PublicKey:s,generateKeyPair:o}}});var Ql=A((A3,jl)=>{"use strict";var Wl=st(),{concat:Yl}=(Un(),z(Ti)),{fromString:Pv}=(yt(),z(lr)),Fv=$s(),Zl={"AES-128":{ivSize:16,keySize:16},"AES-256":{ivSize:16,keySize:32},Blowfish:{ivSize:8,cipherKeySize:32}};jl.exports=async(e,t,r)=>{let n=Zl[e];if(!n){let S=Object.keys(Zl).join(" / ");throw Wl(new Error(`unknown cipher type '${e}'. Must be ${S}`),"ERR_INVALID_CIPHER_TYPE")}if(!t)throw Wl(new Error("missing hash type"),"ERR_MISSING_HASH_TYPE");let i=n.keySize,a=n.ivSize,s=20,o=Pv("key expansion"),c=2*(a+i+s),u=await Fv.create(t,r),f=await u.digest(o),l=[],h=0;for(;h<c;){let S=await u.digest(Yl([f,o])),B=S.length;h+B>c&&(B=c-h),l.push(S),h+=B,f=await u.digest(f)}let d=c/2,p=Yl(l),y=p.slice(0,d),m=p.slice(d,c),x=S=>({iv:S.slice(0,a),cipherKey:S.slice(a,a+i),macKey:S.slice(a+i)});return{k1:x(y),k2:x(m)}}});var Jl=A((T3,Xl)=>{"use strict";var Uv=st();Xl.exports=function(e,t){if(!e.includes(t)){let r=e.join(" / ");throw Uv(new Error(`Unknown curve: ${t}. Must be ${r}`),"ERR_INVALID_CURVE")}}});var ah=A(ih=>{"use strict";var Kv=st(),Vi=mi(),{base64urlToBuffer:eh}=Za(),Lv=Jl(),{toString:Mo}=(gt(),z(pr)),{concat:Ov}=(Un(),z(Ti)),{equals:qv}=(sn(),z(Kn)),th={"P-256":256,"P-384":384,"P-521":521};ih.generateEphmeralKeyPair=async function(e){Lv(Object.keys(th),e);let t=await Vi.get().subtle.generateKey({name:"ECDH",namedCurve:e},!0,["deriveBits"]),r=async(i,a)=>{let s;a?s=await Vi.get().subtle.importKey("jwk",Vv(e,a),{name:"ECDH",namedCurve:e},!1,["deriveBits"]):s=t.privateKey;let o=[await Vi.get().subtle.importKey("jwk",nh(e,i),{name:"ECDH",namedCurve:e},!1,[]),s],c=await Vi.get().subtle.deriveBits({name:"ECDH",namedCurve:e,public:o[0]},o[1],th[e]);return new Uint8Array(c,c.byteOffset,c.byteLength)},n=await Vi.get().subtle.exportKey("jwk",t.publicKey);return{key:Mv(n),genSharedKey:r}};var rh={"P-256":32,"P-384":48,"P-521":66};function Mv(e){let t=rh[e.crv];return Ov([Uint8Array.from([4]),eh(e.x,t),eh(e.y,t)],1+t*2)}function nh(e,t){let r=rh[e];if(qv(!t.slice(0,1),Uint8Array.from([4])))throw Kv(new Error("Cannot unmarshal public key - invalid key format"),"ERR_INVALID_KEY_FORMAT");return{kty:"EC",crv:e,x:Mo(t.slice(1,r+1),"base64url"),y:Mo(t.slice(1+r),"base64url"),ext:!0}}var Vv=(e,t)=>({...nh(e,t.public),d:Mo(t.private,"base64url")})});var oh=A((_3,sh)=>{"use strict";var zv=ah();sh.exports=async e=>zv.generateEphmeralKeyPair(e)});var zo=A((R3,ch)=>{"use strict";var rr=Na();Bi();Sf();var Vo=le(),zi=st(),{fromString:Hv}=(yt(),z(lr)),$v=Af(),St={rsa:Jf(),ed25519:gl(),secp256k1:Gl()(rr,Ya())},fs={message:"secp256k1 support requires libp2p-crypto-secp256k1 package",code:"ERR_MISSING_PACKAGE"};function Wn(e){let t=St[e.toLowerCase()];if(!t){let r=Object.keys(St).join(" / ");throw zi(new Error(`invalid or unsupported key type ${e}. Must be ${r}`),"ERR_UNSUPPORTED_KEY_TYPE")}return t}var Gv=async(e,t)=>Wn(e).generateKeyPair(t),Wv=async(e,t,r)=>{let n=Wn(e);if(e.toLowerCase()!=="ed25519")throw zi(new Error("Seed key derivation is unimplemented for RSA or secp256k1"),"ERR_UNSUPPORTED_KEY_DERIVATION_TYPE");return n.generateKeyPairFromSeed(t,r)},Yv=e=>{let t=rr.PublicKey.decode(e),r=t.Data;switch(t.Type){case rr.KeyType.RSA:return St.rsa.unmarshalRsaPublicKey(r);case rr.KeyType.Ed25519:return St.ed25519.unmarshalEd25519PublicKey(r);case rr.KeyType.Secp256k1:if(St.secp256k1)return St.secp256k1.unmarshalSecp256k1PublicKey(r);throw zi(new Error(fs.message),fs.code);default:Wn(t.Type)}},Zv=(e,t)=>(t=(t||"rsa").toLowerCase(),Wn(t),e.bytes),uh=async e=>{let t=rr.PrivateKey.decode(e),r=t.Data;switch(t.Type){case rr.KeyType.RSA:return St.rsa.unmarshalRsaPrivateKey(r);case rr.KeyType.Ed25519:return St.ed25519.unmarshalEd25519PrivateKey(r);case rr.KeyType.Secp256k1:if(St.secp256k1)return St.secp256k1.unmarshalSecp256k1PrivateKey(r);throw zi(new Error(fs.message),fs.code);default:Wn(t.Type)}},jv=(e,t)=>(t=(t||"rsa").toLowerCase(),Wn(t),e.bytes),Qv=async(e,t)=>{try{let i=await $v.import(e,t);return uh(i)}catch{}let r=Vo.pki.decryptRsaPrivateKey(e,t);if(r===null)throw zi(new Error("Cannot read the key, most likely the password is wrong or not a RSA key"),"ERR_CANNOT_DECRYPT_PEM");let n=Vo.asn1.toDer(Vo.pki.privateKeyToAsn1(r));return n=Hv(n.getBytes(),"ascii"),St.rsa.unmarshalRsaPrivateKey(n)};ch.exports={supportedKeys:St,keysPBM:rr,keyStretcher:Ql(),generateEphemeralKeyPair:oh(),generateKeyPair:Gv,generateKeyPairFromSeed:Wv,unmarshalPublicKey:Yv,marshalPublicKey:Zv,unmarshalPrivateKey:uh,marshalPrivateKey:jv,import:Qv}});var hh=A((N3,lh)=>{"use strict";var Xv=mo(),Jv=Ie(),em=st(),fh={sha1:"sha1","sha2-256":"sha256","sha2-512":"sha512"};function tm(e,t,r,n,i){let a=fh[i];if(!a){let o=Object.keys(fh).join(" / ");throw em(new Error(`Hash '${i}' is unknown or not supported. Must be ${o}`),"ERR_UNSUPPORTED_HASH_TYPE")}let s=Xv(e,t,r,n,a);return Jv.encode64(s)}lh.exports=tm});var Ho=A(Yn=>{"use strict";var rm=$s(),nm=Su(),im=zo();Yn.aes=nm;Yn.hmac=rm;Yn.keys=im;Yn.randomBytes=Ya();Yn.pbkdf2=hh()});var ph=A((F3,$o)=>{var P3=function(){typeof $o<"u"&&($o.exports=x);var e=24*3600,t=3200,r=(365*400+97)*t/400,n=e*r,i=n*1e3,a=1e3*1e4*1e4*e,s=16777216,o=65536*65536,c=1e3*1e3,u=1e3*1e3*1e3,f="000000000",l=Math.trunc||ui,h=x.prototype;x.fromDate=Se,x.fromInt64BE=Ve(0,1,2,3,0,4),x.fromInt64LE=Ve(3,2,1,0,4,0),x.fromString=j,x.fromTimeT=Ge,h.year=0,h.time=0,h.nano=0,h.addNano=_,h.getNano=Y,h.getTimeT=Me,h.getYear=S,h.toDate=K,h.toJSON=Sr,h.toString=gn,h.writeInt64BE=Be(0,1,2,3,0,4),h.writeInt64LE=Be(3,2,1,0,4,0);var d="%Y-%m-%dT%H:%M:%S.%NZ",p=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],y=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],m={"%":"%",F:"%Y-%m-%d",n:`
`,R:"%H:%M",T:"%H:%M:%S",t:"	",X:"%T",Z:"GMT",z:"+0000"};return x;function x(U,Z,G){var de=this;if(!(de instanceof x))return new x(U,Z,G);de.time=+U||0,de.nano=+Z||0,de.year=+G||0,B(de)}function S(){var U=this.toDate().getUTCFullYear();return U+this.year}function B(U){var Z=U.year,G=U.time,de=U.nano,ke,Ne;if(de<0||c<=de){var tt=Math.floor(de/c);de-=tt*c,G+=tt,ke=1}var It=Z%t;if(G<-a||a<G||It){Ne=l(G/i),Ne&&(Z+=Ne*t,G-=Ne*i);var ye=R(G);ye.setUTCFullYear(It+ye.getUTCFullYear()),Z-=It,G=+ye,Ne=l(Z/t);var Ce=G+Ne*i;Ne&&-a<=Ce&&Ce<=a&&(Z-=Ne*t,G=Ce),ke=1}return ke&&(U.year=Z,U.time=G,U.nano=de),U}function K(){var U=B(this);return R(U.time)}function R(U){var Z=new Date(0);return Z.setTime(U),Z}function _(U){return this.nano+=+U||0,this}function Y(){var U=B(this);return(U.time%1e3*c+ +U.nano+u)%u}function j(U){var Z,G=new x;U+="";var de=U.replace(/^\s*[+\-]?\d+/,function(ke){var Ne=+ke,tt=1970+(Ne-1970)%400;return G.year=Ne-tt,tt}).replace(/(?:Z|([+\-]\d{2}):?(\d{2}))$/,function(ke,Ne,tt){return Ne<0&&(tt*=-1),Z=(+Ne*60+ +tt)*6e4,""}).replace(/\.\d+$/,function(ke){return G.nano=+(ke+f).substr(1,9),""}).split(/\D+/);if(de.length>1?de[1]--:de[1]=0,G.time=Z=Date.UTC.apply(Date,de)-(Z||0),isNaN(Z))throw new TypeError("Invalid Date");return B(G)}function Se(U){return new x(+U)}function Ge(U){return We(U,0)}function We(U,Z){Z|=0,Z*=o,U=+U||0;var G=l(Z/n)+l(U/n),de=Z%n+U%n,ke=l(de/n);return ke&&(G+=ke,de-=ke*n),new x(de*1e3,0,G*t)}function Me(){var U=B(this),Z=Math.floor(U.time/1e3),G=U.year;return G&&(Z+=G*r*e/t),Z}function Sr(){return this.toString().replace(/0{1,6}Z$/,"Z")}function gn(U){var Z=this,G=Z.toDate(),de={H:Ce,L:oa,M:_t,N:ua,S:vn,Y:Ne,a:fi,b:li,d:It,e:ye,m:tt};return ke(U||d);function ke(Rt){return Rt.replace(/%./g,function(h0){var p0=h0[1],d0=m[p0],y0=de[p0];return d0?ke(d0):y0?y0():h0})}function Ne(){var Rt=Z.getYear();return Rt>999999?"+"+Rt:Rt>9999?"+"+or(Rt,6):Rt>=0?or(Rt,4):Rt>=-999999?"-"+or(-Rt,6):Rt}function tt(){return sr(G.getUTCMonth()+1)}function It(){return sr(G.getUTCDate())}function ye(){return ci(G.getUTCDate())}function Ce(){return sr(G.getUTCHours())}function _t(){return sr(G.getUTCMinutes())}function vn(){return sr(G.getUTCSeconds())}function oa(){return or(G.getUTCMilliseconds(),3)}function ua(){return or(Z.getNano(),9)}function fi(){return y[G.getUTCDay()]}function li(){return p[G.getUTCMonth()]}}function Be(U,Z,G,de,ke,Ne){return tt;function tt(ye,Ce){var _t=B(this);ye||(ye=new Array(8)),O(ye,Ce|=0);var vn=Math.floor(_t.time/1e3),oa=_t.year*(r*e/t),ua=l(oa/o)+l(vn/o),fi=oa%o+vn%o,li=Math.floor(fi/o);return li&&(ua+=li,fi-=li*o),It(ye,Ce+ke,ua),It(ye,Ce+Ne,fi),ye}function It(ye,Ce,_t){ye[Ce+U]=_t>>24&255,ye[Ce+Z]=_t>>16&255,ye[Ce+G]=_t>>8&255,ye[Ce+de]=_t&255}}function Ve(U,Z,G,de,ke,Ne){return tt;function tt(ye,Ce){O(ye,Ce|=0);var _t=It(ye,Ce+ke),vn=It(ye,Ce+Ne);return We(vn,_t)}function It(ye,Ce){return ye[Ce+U]*s+(ye[Ce+Z]<<16|ye[Ce+G]<<8|ye[Ce+de])}}function O(U,Z){var G=U&&U.length;if(G==null)throw new TypeError("Invalid Buffer");if(G<Z+8)throw new RangeError("Out of range")}function ui(U){var Z=U-U%1;return Z===0&&(U<0||U===0&&1/U!==1/0)?-0:Z}function ci(U){return(U>9?"":" ")+(U|0)}function sr(U){return(U>9?"":"0")+(U|0)}function or(U,Z){return(f+(U|0)).substr(-Z)}}()});var gh=A((H3,Go)=>{"use strict";function um(e,{className:t,symbolName:r}){let n=Symbol.for(r),i={[t]:class extends e{constructor(...a){super(...a),Object.defineProperty(this,n,{value:!0})}get[Symbol.toStringTag](){return t}}}[t];return i[`is${t}`]=a=>!!(a&&a[n]),i}function cm(e,{className:t,symbolName:r,withoutNew:n}){let i=Symbol.for(r),a={[t]:function(...s){if(n&&!(this instanceof a))return new a(...s);let o=e.call(this,...s)||this;return o&&!o[i]&&Object.defineProperty(o,i,{value:!0}),o}}[t];return a.prototype=Object.create(e.prototype),a.prototype.constructor=a,Object.defineProperty(a.prototype,Symbol.toStringTag,{get(){return t}}),a[`is${t}`]=s=>!!(s&&s[i]),a}Go.exports=um;Go.exports.proto=cm});var xh=A((G3,mh)=>{"use strict";var Zn=_a(),vh=Zn.Reader,fm=Zn.Writer,Fe=Zn.util,Hi=Zn.roots["libp2p-peer-id"]||(Zn.roots["libp2p-peer-id"]={});Hi.PeerIdProto=function(){function e(t){if(t)for(var r=Object.keys(t),n=0;n<r.length;++n)t[r[n]]!=null&&(this[r[n]]=t[r[n]])}return e.prototype.id=Fe.newBuffer([]),e.prototype.pubKey=Fe.newBuffer([]),e.prototype.privKey=Fe.newBuffer([]),e.encode=function(r,n){return n||(n=fm.create()),n.uint32(10).bytes(r.id),r.pubKey!=null&&Object.hasOwnProperty.call(r,"pubKey")&&n.uint32(18).bytes(r.pubKey),r.privKey!=null&&Object.hasOwnProperty.call(r,"privKey")&&n.uint32(26).bytes(r.privKey),n},e.decode=function(r,n){r instanceof vh||(r=vh.create(r));for(var i=n===void 0?r.len:r.pos+n,a=new Hi.PeerIdProto;r.pos<i;){var s=r.uint32();switch(s>>>3){case 1:a.id=r.bytes();break;case 2:a.pubKey=r.bytes();break;case 3:a.privKey=r.bytes();break;default:r.skipType(s&7);break}}if(!a.hasOwnProperty("id"))throw Fe.ProtocolError("missing required 'id'",{instance:a});return a},e.fromObject=function(r){if(r instanceof Hi.PeerIdProto)return r;var n=new Hi.PeerIdProto;return r.id!=null&&(typeof r.id=="string"?Fe.base64.decode(r.id,n.id=Fe.newBuffer(Fe.base64.length(r.id)),0):r.id.length&&(n.id=r.id)),r.pubKey!=null&&(typeof r.pubKey=="string"?Fe.base64.decode(r.pubKey,n.pubKey=Fe.newBuffer(Fe.base64.length(r.pubKey)),0):r.pubKey.length&&(n.pubKey=r.pubKey)),r.privKey!=null&&(typeof r.privKey=="string"?Fe.base64.decode(r.privKey,n.privKey=Fe.newBuffer(Fe.base64.length(r.privKey)),0):r.privKey.length&&(n.privKey=r.privKey)),n},e.toObject=function(r,n){n||(n={});var i={};return n.defaults&&(n.bytes===String?i.id="":(i.id=[],n.bytes!==Array&&(i.id=Fe.newBuffer(i.id))),n.bytes===String?i.pubKey="":(i.pubKey=[],n.bytes!==Array&&(i.pubKey=Fe.newBuffer(i.pubKey))),n.bytes===String?i.privKey="":(i.privKey=[],n.bytes!==Array&&(i.privKey=Fe.newBuffer(i.privKey)))),r.id!=null&&r.hasOwnProperty("id")&&(i.id=n.bytes===String?Fe.base64.encode(r.id,0,r.id.length):n.bytes===Array?Array.prototype.slice.call(r.id):r.id),r.pubKey!=null&&r.hasOwnProperty("pubKey")&&(i.pubKey=n.bytes===String?Fe.base64.encode(r.pubKey,0,r.pubKey.length):n.bytes===Array?Array.prototype.slice.call(r.pubKey):r.pubKey),r.privKey!=null&&r.hasOwnProperty("privKey")&&(i.privKey=n.bytes===String?Fe.base64.encode(r.privKey,0,r.privKey.length):n.bytes===Array?Array.prototype.slice.call(r.privKey):r.privKey),i},e.prototype.toJSON=function(){return this.constructor.toObject(this,Zn.util.toJSONOptions)},e}();mh.exports=Hi});var Ah=A((je,Ch)=>{"use strict";var{CID:Yo}=(ma(),z(z0)),lm=(bn(),z(hi)),hm=(pa(),z(ha)),pm=(En(),z(wn)),dm=(pi(),z(Sn)),{base58btc:Zo}=(En(),z(wn)),{base32:ym}=(bn(),z(hi)),{base16:Eh}=(Fs(),z(fa)),$i=(Cr(),z(fr)),nr=zo(),gm=gh(),{PeerIdProto:Sh}=xh(),{equals:cn}=(sn(),z(Kn)),{fromString:Gi}=(yt(),z(lr)),{toString:vm}=(gt(),z(pr)),{identity:hs}=(Tn(),z(gi)),bh={...lm,...hm,...pm,...dm},mm=Object.keys(bh).reduce((e,t)=>e.or(bh[t]),ym.decoder),xm=112,Dh=114,Wo=class{constructor(t,r,n){if(!(t instanceof Uint8Array))throw new Error("invalid id provided");if(r&&n&&!cn(r.public.bytes,n.bytes))throw new Error("inconsistent arguments");this._id=t,this._idB58String=Zo.encode(this.id).substring(1),this._privKey=r,this._pubKey=n}get id(){return this._id}set id(t){throw new Error("Id is immutable")}get privKey(){return this._privKey}set privKey(t){this._privKey=t}get pubKey(){if(this._pubKey)return this._pubKey;if(this._privKey)return this._privKey.public;try{let t=$i.decode(this.id);t.code===hs.code&&(this._pubKey=nr.unmarshalPublicKey(t.digest))}catch{}return this._pubKey}set pubKey(t){this._pubKey=t}marshalPubKey(){if(this.pubKey)return nr.marshalPublicKey(this.pubKey)}marshalPrivKey(){if(this.privKey)return nr.marshalPrivateKey(this.privKey)}marshal(t){return Sh.encode({id:this.toBytes(),pubKey:this.marshalPubKey(),privKey:t?null:this.marshalPrivKey()}).finish()}toPrint(){let t=this.toB58String();t.startsWith("Qm")&&(t=t.slice(2));let r=6;return t.length<r&&(r=t.length),"<peer.ID "+t.substr(0,r)+">"}toJSON(){return{id:this.toB58String(),privKey:wh(this.marshalPrivKey()),pubKey:wh(this.marshalPubKey())}}toHexString(){return Eh.encode(this.id).substring(1)}toBytes(){return this.id}toB58String(){return this._idB58String}toString(){if(!this._idCIDString){let t=Yo.createV1(Dh,$i.decode(this.id));Object.defineProperty(this,"_idCIDString",{value:t.toString(),enumerable:!1})}return this._idCIDString}equals(t){if(t instanceof Uint8Array)return cn(this.id,t);if(t.id)return cn(this.id,t.id);throw new Error("not valid Id")}isEqual(t){return this.equals(t)}isValid(){return Boolean(this.privKey&&this.privKey.public&&this.privKey.public.bytes&&this.pubKey.bytes instanceof Uint8Array&&cn(this.privKey.public.bytes,this.pubKey.bytes))}hasInlinePublicKey(){try{if($i.decode(this.id).code===hs.code)return!0}catch{}return!1}},ir=gm(Wo,{className:"PeerId",symbolName:"@libp2p/js-peer-id/PeerId"});je=Ch.exports=ir;var Wi=e=>e.bytes.length<=42?$i.create(hs.code,e.bytes).bytes:e.hash(),jo=async(e,t)=>{let r=await Wi(t);return new ir(r,e,t)};je.create=async e=>{e=e||{},e.bits=e.bits||2048,e.keyType=e.keyType||"RSA";let t=await nr.generateKeyPair(e.keyType,e.bits);return jo(t,t.public)};je.createFromHexString=e=>new ir(Eh.decode("f"+e));je.createFromBytes=e=>{try{let t=Yo.decode(e);if(!Bh(t))throw new Error("Supplied PeerID CID is invalid");return je.createFromCID(t)}catch{if($i.decode(e).code!==hs.code)throw new Error("Supplied PeerID CID is invalid");return new ir(e)}};je.createFromB58String=e=>je.createFromBytes(Zo.decode("z"+e));var Bh=e=>e.code===Dh||e.code===xm;je.createFromCID=e=>{if(e=Yo.asCID(e),!e||!Bh(e))throw new Error("Supplied PeerID CID is invalid");return new ir(e.multihash.bytes)};je.createFromPubKey=async e=>{let t=e;if(typeof t=="string"&&(t=Gi(e,"base64pad")),!(t instanceof Uint8Array))throw new Error("Supplied key is neither a base64 string nor a Uint8Array");let r=await nr.unmarshalPublicKey(t);return jo(void 0,r)};je.createFromPrivKey=async e=>{if(typeof e=="string"&&(e=Gi(e,"base64pad")),!(e instanceof Uint8Array))throw new Error("Supplied key is neither a base64 string nor a Uint8Array");let t=await nr.unmarshalPrivateKey(e);return jo(t,t.public)};je.createFromJSON=async e=>{let t=Zo.decode("z"+e.id),r=e.privKey&&Gi(e.privKey,"base64pad"),n=e.pubKey&&Gi(e.pubKey,"base64pad"),i=n&&await nr.unmarshalPublicKey(n);if(!r)return new ir(t,void 0,i);let a=await nr.unmarshalPrivateKey(r),s=await Wi(a.public),o;if(i&&(o=await Wi(i)),i&&!cn(s,o))throw new Error("Public and private key do not match");if(t&&!cn(s,t))throw new Error("Id and private key do not match");return new ir(t,a,i)};je.createFromProtobuf=async e=>{typeof e=="string"&&(e=Gi(e,"base16"));let{id:t,privKey:r,pubKey:n}=Sh.decode(e);r=r?await nr.unmarshalPrivateKey(r):!1,n=n?await nr.unmarshalPublicKey(n):!1;let i,a;if(r&&(a=await Wi(r.public)),n&&(i=await Wi(n)),r){if(n&&!cn(a,i))throw new Error("Public and private key do not match");return new ir(a,r,r.public)}if(n)return new ir(i,void 0,n);if(t)return new ir(t);throw new Error("Protobuf did not contain any usable key material")};je.parse=e=>((e.charAt(0)==="1"||e.charAt(0)==="Q")&&(e=`z${e}`),je.createFromBytes(mm.decode(e)));je.isPeerId=e=>Boolean(typeof e=="object"&&e._id&&e._idB58String);function wh(e){if(e)return vm(e,"base64pad")}});var zp=A((Hw,Vp)=>{Vp.exports=ve;var Ct=null;try{Ct=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function ve(e,t,r){this.low=e|0,this.high=t|0,this.unsigned=!!r}ve.prototype.__isLong__;Object.defineProperty(ve.prototype,"__isLong__",{value:!0});function at(e){return(e&&e.__isLong__)===!0}ve.isLong=at;var kp={},Pp={};function hn(e,t){var r,n,i;return t?(e>>>=0,(i=0<=e&&e<256)&&(n=Pp[e],n)?n:(r=me(e,(e|0)<0?-1:0,!0),i&&(Pp[e]=r),r)):(e|=0,(i=-128<=e&&e<128)&&(n=kp[e],n)?n:(r=me(e,e<0?-1:0,!1),i&&(kp[e]=r),r))}ve.fromInt=hn;function At(e,t){if(isNaN(e))return t?ln:Tt;if(t){if(e<0)return ln;if(e>=Lp)return Mp}else{if(e<=-Up)return it;if(e+1>=Up)return qp}return e<0?At(-e,t).neg():me(e%ni|0,e/ni|0,t)}ve.fromNumber=At;function me(e,t,r){return new ve(e,t,r)}ve.fromBits=me;var Ss=Math.pow;function s0(e,t,r){if(e.length===0)throw Error("empty string");if(e==="NaN"||e==="Infinity"||e==="+Infinity"||e==="-Infinity")return Tt;if(typeof t=="number"?(r=t,t=!1):t=!!t,r=r||10,r<2||36<r)throw RangeError("radix");var n;if((n=e.indexOf("-"))>0)throw Error("interior hyphen");if(n===0)return s0(e.substring(1),t,r).neg();for(var i=At(Ss(r,8)),a=Tt,s=0;s<e.length;s+=8){var o=Math.min(8,e.length-s),c=parseInt(e.substring(s,s+o),r);if(o<8){var u=At(Ss(r,o));a=a.mul(u).add(At(c))}else a=a.mul(i),a=a.add(At(c))}return a.unsigned=t,a}ve.fromString=s0;function zt(e,t){return typeof e=="number"?At(e,t):typeof e=="string"?s0(e,t):me(e.low,e.high,typeof t=="boolean"?t:e.unsigned)}ve.fromValue=zt;var Fp=1<<16,Zm=1<<24,ni=Fp*Fp,Lp=ni*ni,Up=Lp/2,Kp=hn(Zm),Tt=hn(0);ve.ZERO=Tt;var ln=hn(0,!0);ve.UZERO=ln;var ri=hn(1);ve.ONE=ri;var Op=hn(1,!0);ve.UONE=Op;var a0=hn(-1);ve.NEG_ONE=a0;var qp=me(-1,2147483647,!1);ve.MAX_VALUE=qp;var Mp=me(-1,-1,!0);ve.MAX_UNSIGNED_VALUE=Mp;var it=me(0,-2147483648,!1);ve.MIN_VALUE=it;var T=ve.prototype;T.toInt=function(){return this.unsigned?this.low>>>0:this.low};T.toNumber=function(){return this.unsigned?(this.high>>>0)*ni+(this.low>>>0):this.high*ni+(this.low>>>0)};T.toString=function(t){if(t=t||10,t<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(it)){var r=At(t),n=this.div(r),i=n.mul(r).sub(this);return n.toString(t)+i.toInt().toString(t)}else return"-"+this.neg().toString(t);for(var a=At(Ss(t,6),this.unsigned),s=this,o="";;){var c=s.div(a),u=s.sub(c.mul(a)).toInt()>>>0,f=u.toString(t);if(s=c,s.isZero())return f+o;for(;f.length<6;)f="0"+f;o=""+f+o}};T.getHighBits=function(){return this.high};T.getHighBitsUnsigned=function(){return this.high>>>0};T.getLowBits=function(){return this.low};T.getLowBitsUnsigned=function(){return this.low>>>0};T.getNumBitsAbs=function(){if(this.isNegative())return this.eq(it)?64:this.neg().getNumBitsAbs();for(var t=this.high!=0?this.high:this.low,r=31;r>0&&(t&1<<r)==0;r--);return this.high!=0?r+33:r+1};T.isZero=function(){return this.high===0&&this.low===0};T.eqz=T.isZero;T.isNegative=function(){return!this.unsigned&&this.high<0};T.isPositive=function(){return this.unsigned||this.high>=0};T.isOdd=function(){return(this.low&1)===1};T.isEven=function(){return(this.low&1)===0};T.equals=function(t){return at(t)||(t=zt(t)),this.unsigned!==t.unsigned&&this.high>>>31===1&&t.high>>>31===1?!1:this.high===t.high&&this.low===t.low};T.eq=T.equals;T.notEquals=function(t){return!this.eq(t)};T.neq=T.notEquals;T.ne=T.notEquals;T.lessThan=function(t){return this.comp(t)<0};T.lt=T.lessThan;T.lessThanOrEqual=function(t){return this.comp(t)<=0};T.lte=T.lessThanOrEqual;T.le=T.lessThanOrEqual;T.greaterThan=function(t){return this.comp(t)>0};T.gt=T.greaterThan;T.greaterThanOrEqual=function(t){return this.comp(t)>=0};T.gte=T.greaterThanOrEqual;T.ge=T.greaterThanOrEqual;T.compare=function(t){if(at(t)||(t=zt(t)),this.eq(t))return 0;var r=this.isNegative(),n=t.isNegative();return r&&!n?-1:!r&&n?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1};T.comp=T.compare;T.negate=function(){return!this.unsigned&&this.eq(it)?it:this.not().add(ri)};T.neg=T.negate;T.add=function(t){at(t)||(t=zt(t));var r=this.high>>>16,n=this.high&65535,i=this.low>>>16,a=this.low&65535,s=t.high>>>16,o=t.high&65535,c=t.low>>>16,u=t.low&65535,f=0,l=0,h=0,d=0;return d+=a+u,h+=d>>>16,d&=65535,h+=i+c,l+=h>>>16,h&=65535,l+=n+o,f+=l>>>16,l&=65535,f+=r+s,f&=65535,me(h<<16|d,f<<16|l,this.unsigned)};T.subtract=function(t){return at(t)||(t=zt(t)),this.add(t.neg())};T.sub=T.subtract;T.multiply=function(t){if(this.isZero())return Tt;if(at(t)||(t=zt(t)),Ct){var r=Ct.mul(this.low,this.high,t.low,t.high);return me(r,Ct.get_high(),this.unsigned)}if(t.isZero())return Tt;if(this.eq(it))return t.isOdd()?it:Tt;if(t.eq(it))return this.isOdd()?it:Tt;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(Kp)&&t.lt(Kp))return At(this.toNumber()*t.toNumber(),this.unsigned);var n=this.high>>>16,i=this.high&65535,a=this.low>>>16,s=this.low&65535,o=t.high>>>16,c=t.high&65535,u=t.low>>>16,f=t.low&65535,l=0,h=0,d=0,p=0;return p+=s*f,d+=p>>>16,p&=65535,d+=a*f,h+=d>>>16,d&=65535,d+=s*u,h+=d>>>16,d&=65535,h+=i*f,l+=h>>>16,h&=65535,h+=a*u,l+=h>>>16,h&=65535,h+=s*c,l+=h>>>16,h&=65535,l+=n*f+i*u+a*c+s*o,l&=65535,me(d<<16|p,l<<16|h,this.unsigned)};T.mul=T.multiply;T.divide=function(t){if(at(t)||(t=zt(t)),t.isZero())throw Error("division by zero");if(Ct){if(!this.unsigned&&this.high===-2147483648&&t.low===-1&&t.high===-1)return this;var r=(this.unsigned?Ct.div_u:Ct.div_s)(this.low,this.high,t.low,t.high);return me(r,Ct.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?ln:Tt;var n,i,a;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return ln;if(t.gt(this.shru(1)))return Op;a=ln}else{if(this.eq(it)){if(t.eq(ri)||t.eq(a0))return it;if(t.eq(it))return ri;var s=this.shr(1);return n=s.div(t).shl(1),n.eq(Tt)?t.isNegative()?ri:a0:(i=this.sub(t.mul(n)),a=n.add(i.div(t)),a)}else if(t.eq(it))return this.unsigned?ln:Tt;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();a=Tt}for(i=this;i.gte(t);){n=Math.max(1,Math.floor(i.toNumber()/t.toNumber()));for(var o=Math.ceil(Math.log(n)/Math.LN2),c=o<=48?1:Ss(2,o-48),u=At(n),f=u.mul(t);f.isNegative()||f.gt(i);)n-=c,u=At(n,this.unsigned),f=u.mul(t);u.isZero()&&(u=ri),a=a.add(u),i=i.sub(f)}return a};T.div=T.divide;T.modulo=function(t){if(at(t)||(t=zt(t)),Ct){var r=(this.unsigned?Ct.rem_u:Ct.rem_s)(this.low,this.high,t.low,t.high);return me(r,Ct.get_high(),this.unsigned)}return this.sub(this.div(t).mul(t))};T.mod=T.modulo;T.rem=T.modulo;T.not=function(){return me(~this.low,~this.high,this.unsigned)};T.and=function(t){return at(t)||(t=zt(t)),me(this.low&t.low,this.high&t.high,this.unsigned)};T.or=function(t){return at(t)||(t=zt(t)),me(this.low|t.low,this.high|t.high,this.unsigned)};T.xor=function(t){return at(t)||(t=zt(t)),me(this.low^t.low,this.high^t.high,this.unsigned)};T.shiftLeft=function(t){return at(t)&&(t=t.toInt()),(t&=63)===0?this:t<32?me(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):me(0,this.low<<t-32,this.unsigned)};T.shl=T.shiftLeft;T.shiftRight=function(t){return at(t)&&(t=t.toInt()),(t&=63)===0?this:t<32?me(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):me(this.high>>t-32,this.high>=0?0:-1,this.unsigned)};T.shr=T.shiftRight;T.shiftRightUnsigned=function(t){if(at(t)&&(t=t.toInt()),t&=63,t===0)return this;var r=this.high;if(t<32){var n=this.low;return me(n>>>t|r<<32-t,r>>>t,this.unsigned)}else return t===32?me(r,0,this.unsigned):me(r>>>t-32,0,this.unsigned)};T.shru=T.shiftRightUnsigned;T.shr_u=T.shiftRightUnsigned;T.toSigned=function(){return this.unsigned?me(this.low,this.high,!1):this};T.toUnsigned=function(){return this.unsigned?this:me(this.low,this.high,!0)};T.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()};T.toBytesLE=function(){var t=this.high,r=this.low;return[r&255,r>>>8&255,r>>>16&255,r>>>24,t&255,t>>>8&255,t>>>16&255,t>>>24]};T.toBytesBE=function(){var t=this.high,r=this.low;return[t>>>24,t>>>16&255,t>>>8&255,t&255,r>>>24,r>>>16&255,r>>>8&255,r&255]};ve.fromBytes=function(t,r,n){return n?ve.fromBytesLE(t,r):ve.fromBytesBE(t,r)};ve.fromBytesLE=function(t,r){return new ve(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,r)};ve.fromBytesBE=function(t,r){return new ve(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],r)}});var $p=A(($w,Hp)=>{var ii=1e3,ai=ii*60,si=ai*60,pn=si*24,jm=pn*7,Qm=pn*365.25;Hp.exports=function(e,t){t=t||{};var r=typeof e;if(r==="string"&&e.length>0)return Xm(e);if(r==="number"&&isFinite(e))return t.long?ex(e):Jm(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function Xm(e){if(e=String(e),!(e.length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!!t){var r=parseFloat(t[1]),n=(t[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*Qm;case"weeks":case"week":case"w":return r*jm;case"days":case"day":case"d":return r*pn;case"hours":case"hour":case"hrs":case"hr":case"h":return r*si;case"minutes":case"minute":case"mins":case"min":case"m":return r*ai;case"seconds":case"second":case"secs":case"sec":case"s":return r*ii;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function Jm(e){var t=Math.abs(e);return t>=pn?Math.round(e/pn)+"d":t>=si?Math.round(e/si)+"h":t>=ai?Math.round(e/ai)+"m":t>=ii?Math.round(e/ii)+"s":e+"ms"}function ex(e){var t=Math.abs(e);return t>=pn?Ds(e,t,pn,"day"):t>=si?Ds(e,t,si,"hour"):t>=ai?Ds(e,t,ai,"minute"):t>=ii?Ds(e,t,ii,"second"):e+" ms"}function Ds(e,t,r,n){var i=t>=r*1.5;return Math.round(e/r)+" "+n+(i?"s":"")}});var Wp=A((Gw,Gp)=>{function tx(e){r.debug=r,r.default=r,r.coerce=c,r.disable=a,r.enable=i,r.enabled=s,r.humanize=$p(),r.destroy=u,Object.keys(e).forEach(f=>{r[f]=e[f]}),r.names=[],r.skips=[],r.formatters={};function t(f){let l=0;for(let h=0;h<f.length;h++)l=(l<<5)-l+f.charCodeAt(h),l|=0;return r.colors[Math.abs(l)%r.colors.length]}r.selectColor=t;function r(f){let l,h=null,d,p;function y(...m){if(!y.enabled)return;let x=y,S=Number(new Date),B=S-(l||S);x.diff=B,x.prev=l,x.curr=S,l=S,m[0]=r.coerce(m[0]),typeof m[0]!="string"&&m.unshift("%O");let K=0;m[0]=m[0].replace(/%([a-zA-Z%])/g,(_,Y)=>{if(_==="%%")return"%";K++;let j=r.formatters[Y];if(typeof j=="function"){let Se=m[K];_=j.call(x,Se),m.splice(K,1),K--}return _}),r.formatArgs.call(x,m),(x.log||r.log).apply(x,m)}return y.namespace=f,y.useColors=r.useColors(),y.color=r.selectColor(f),y.extend=n,y.destroy=r.destroy,Object.defineProperty(y,"enabled",{enumerable:!0,configurable:!1,get:()=>h!==null?h:(d!==r.namespaces&&(d=r.namespaces,p=r.enabled(f)),p),set:m=>{h=m}}),typeof r.init=="function"&&r.init(y),y}function n(f,l){let h=r(this.namespace+(typeof l>"u"?":":l)+f);return h.log=this.log,h}function i(f){r.save(f),r.namespaces=f,r.names=[],r.skips=[];let l,h=(typeof f=="string"?f:"").split(/[\s,]+/),d=h.length;for(l=0;l<d;l++)!h[l]||(f=h[l].replace(/\*/g,".*?"),f[0]==="-"?r.skips.push(new RegExp("^"+f.slice(1)+"$")):r.names.push(new RegExp("^"+f+"$")))}function a(){let f=[...r.names.map(o),...r.skips.map(o).map(l=>"-"+l)].join(",");return r.enable(""),f}function s(f){if(f[f.length-1]==="*")return!0;let l,h;for(l=0,h=r.skips.length;l<h;l++)if(r.skips[l].test(f))return!1;for(l=0,h=r.names.length;l<h;l++)if(r.names[l].test(f))return!0;return!1}function o(f){return f.toString().substring(2,f.toString().length-2).replace(/\.\*\?$/,"*")}function c(f){return f instanceof Error?f.stack||f.message:f}function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}Gp.exports=tx});var Yp=A((pt,Bs)=>{pt.formatArgs=nx;pt.save=ix;pt.load=ax;pt.useColors=rx;pt.storage=sx();pt.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();pt.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function rx(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function nx(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+Bs.exports.humanize(this.diff),!this.useColors)return;let t="color: "+this.color;e.splice(1,0,t,"color: inherit");let r=0,n=0;e[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(r++,i==="%c"&&(n=r))}),e.splice(n,0,t)}pt.log=console.debug||console.log||(()=>{});function ix(e){try{e?pt.storage.setItem("debug",e):pt.storage.removeItem("debug")}catch{}}function ax(){let e;try{e=pt.storage.getItem("debug")}catch{}return!e&&typeof process<"u"&&"env"in process&&(e=process.env.DEBUG),e}function sx(){try{return localStorage}catch{}}Bs.exports=Wp()(pt);var{formatters:ox}=Bs.exports;ox.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}});var fd=A((f0,cd)=>{"use strict";Object.defineProperty(f0,"__esModule",{value:!0});function ud(e,t,r){r===void 0&&(r=!1),r&&(t=t/e,e=1);var n=[],i=0,a=0,s,o=function(){var c=i+t,u=Date.now();if(u<c){s!==void 0&&clearTimeout(s),s=setTimeout(o,c-u);return}i=u,a=0;for(var f=0,l=n.splice(0,e);f<l.length;f++){var h=l[f];a++,h()}n.length?s=setTimeout(o,t):s=void 0};return function(c){return new Promise(function(u,f){var l=function(){return Promise.resolve().then(c).then(u).catch(f)},h=Date.now();s===void 0&&h-i>t&&(i=h,a=0),a++<e?l():(n.push(l),s===void 0&&(s=setTimeout(o,i+t-h)))})}}cd.exports=ud;f0.default=ud});var Ix={};Pe(Ix,{Name:()=>ia,Revision:()=>Wr,WritableName:()=>aa,create:()=>Sx,from:()=>Dx,increment:()=>Cx,parse:()=>dd,publish:()=>Ax,resolve:()=>Tx,v0:()=>Bx});yt();gt();var sa=ur(Ho(),1);Tn();pa();ma();Cr();var td=ur(ph(),1);var dh=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t,r)=>(r&=63,r<36?t+=r.toString(36):r<62?t+=(r-26).toString(36).toUpperCase():r>62?t+="-":t+="_",t),"");gt();yt();var wr="/",yh=new TextEncoder().encode(wr),ls=yh[0],et=class{constructor(t,r){if(typeof t=="string")this._buf=Pt(t);else if(t instanceof Uint8Array)this._buf=t;else throw new Error("Invalid key, should be String of Uint8Array");if(r==null&&(r=!0),r&&this.clean(),this._buf.byteLength===0||this._buf[0]!==ls)throw new Error("Invalid key")}toString(t="utf8"){return hr(this._buf,t)}uint8Array(){return this._buf}get[Symbol.toStringTag](){return`Key(${this.toString()})`}static withNamespaces(t){return new et(t.join(wr))}static random(){return new et(dh().replace(/-/g,""))}static asKey(t){return t instanceof Uint8Array||typeof t=="string"?new et(t):t.uint8Array?new et(t.uint8Array()):null}clean(){if((!this._buf||this._buf.byteLength===0)&&(this._buf=yh),this._buf[0]!==ls){let t=new Uint8Array(this._buf.byteLength+1);t.fill(ls,0,1),t.set(this._buf,1),this._buf=t}for(;this._buf.byteLength>1&&this._buf[this._buf.byteLength-1]===ls;)this._buf=this._buf.subarray(0,-1)}less(t){let r=this.list(),n=t.list();for(let i=0;i<r.length;i++){if(n.length<i+1)return!1;let a=r[i],s=n[i];if(a<s)return!0;if(a>s)return!1}return r.length<n.length}reverse(){return et.withNamespaces(this.list().slice().reverse())}namespaces(){return this.list()}baseNamespace(){let t=this.namespaces();return t[t.length-1]}list(){return this.toString().split(wr).slice(1)}type(){return am(this.baseNamespace())}name(){return sm(this.baseNamespace())}instance(t){return new et(this.toString()+":"+t)}path(){let t=this.parent().toString();return t.endsWith(wr)||(t+=wr),t+=this.type(),new et(t)}parent(){let t=this.list();return t.length===1?new et(wr):new et(t.slice(0,-1).join(wr))}child(t){return this.toString()===wr?t:t.toString()===wr?this:new et(this.toString()+t.toString(),!1)}isAncestorOf(t){return t.toString()===this.toString()?!1:t.toString().startsWith(this.toString())}isDecendantOf(t){return t.toString()===this.toString()?!1:this.toString().startsWith(t.toString())}isTopLevel(){return this.list().length===1}concat(...t){return et.withNamespaces([...this.namespaces(),...om(t.map(r=>r.namespaces()))])}};function am(e){let t=e.split(":");return t.length<2?"":t.slice(0,-1).join(":")}function sm(e){let t=e.split(":");return t[t.length-1]}function om(e){return[].concat(...e)}var fx=ur(Ho(),1),lx=ur(Ah(),1);Cr();Tn();var dt=ur(st(),1);bn();yt();gt();Un();sn();var bm=["string","number","bigint","symbol"],wm=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function Th(e){if(e===null)return"null";if(e===void 0)return"undefined";if(e===!0||e===!1)return"boolean";let t=typeof e;if(bm.includes(t))return t;if(t==="function")return"Function";if(Array.isArray(e))return"Array";if(Em(e))return"Buffer";let r=Sm(e);return r||"Object"}function Em(e){return e&&e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer.call(null,e)}function Sm(e){let t=Object.prototype.toString.call(e).slice(8,-1);if(wm.includes(t))return t}var w=class{constructor(t,r,n){this.major=t,this.majorEncoded=t<<5,this.name=r,this.terminal=n}toString(){return`Type[${this.major}].${this.name}`}compare(t){return this.major<t.major?-1:this.major>t.major?1:0}};w.uint=new w(0,"uint",!0);w.negint=new w(1,"negint",!0);w.bytes=new w(2,"bytes",!0);w.string=new w(3,"string",!0);w.array=new w(4,"array",!1);w.map=new w(5,"map",!1);w.tag=new w(6,"tag",!1);w.float=new w(7,"float",!0);w.false=new w(7,"false",!0);w.true=new w(7,"true",!0);w.null=new w(7,"null",!0);w.undefined=new w(7,"undefined",!0);w.break=new w(7,"break",!0);var F=class{constructor(t,r,n){this.type=t,this.value=r,this.encodedLength=n,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}};var jn=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&typeof globalThis.Buffer.isBuffer=="function",Dm=new TextDecoder,Bm=new TextEncoder;function ps(e){return jn&&globalThis.Buffer.isBuffer(e)}function Qo(e){return e instanceof Uint8Array?ps(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e:Uint8Array.from(e)}var Nh=jn?(e,t,r)=>r-t>64?globalThis.Buffer.from(e.subarray(t,r)).toString("utf8"):_h(e,t,r):(e,t,r)=>r-t>64?Dm.decode(e.subarray(t,r)):_h(e,t,r),kh=jn?e=>e.length>64?globalThis.Buffer.from(e):Ih(e):e=>e.length>64?Bm.encode(e):Ih(e),ar=e=>Uint8Array.from(e),Qn=jn?(e,t,r)=>ps(e)?new Uint8Array(e.subarray(t,r)):e.slice(t,r):(e,t,r)=>e.slice(t,r),Ph=jn?(e,t)=>(e=e.map(r=>r instanceof Uint8Array?r:globalThis.Buffer.from(r)),Qo(globalThis.Buffer.concat(e,t))):(e,t)=>{let r=new Uint8Array(t),n=0;for(let i of e)n+i.length>r.length&&(i=i.subarray(0,r.length-n)),r.set(i,n),n+=i.length;return r},Fh=jn?e=>globalThis.Buffer.allocUnsafe(e):e=>new Uint8Array(e);function Uh(e,t){if(ps(e)&&ps(t))return e.compare(t);for(let r=0;r<e.length;r++)if(e[r]!==t[r])return e[r]<t[r]?-1:1;return 0}function Ih(e,t=1/0){let r,n=e.length,i=null,a=[];for(let s=0;s<n;++s){if(r=e.charCodeAt(s),r>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&a.push(239,191,189);continue}else if(s+1===n){(t-=3)>-1&&a.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&a.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;a.push(r)}else if(r<2048){if((t-=2)<0)break;a.push(r>>6|192,r&63|128)}else if(r<65536){if((t-=3)<0)break;a.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((t-=4)<0)break;a.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return a}function _h(e,t,r){let n=[];for(;t<r;){let i=e[t],a=null,s=i>239?4:i>223?3:i>191?2:1;if(t+s<=r){let o,c,u,f;switch(s){case 1:i<128&&(a=i);break;case 2:o=e[t+1],(o&192)===128&&(f=(i&31)<<6|o&63,f>127&&(a=f));break;case 3:o=e[t+1],c=e[t+2],(o&192)===128&&(c&192)===128&&(f=(i&15)<<12|(o&63)<<6|c&63,f>2047&&(f<55296||f>57343)&&(a=f));break;case 4:o=e[t+1],c=e[t+2],u=e[t+3],(o&192)===128&&(c&192)===128&&(u&192)===128&&(f=(i&15)<<18|(o&63)<<12|(c&63)<<6|u&63,f>65535&&f<1114112&&(a=f))}}a===null?(a=65533,s=1):a>65535&&(a-=65536,n.push(a>>>10&1023|55296),a=56320|a&1023),n.push(a),t+=s}return Cm(n)}var Rh=4096;function Cm(e){let t=e.length;if(t<=Rh)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=Rh));return r}var Am=256,Yi=class{constructor(t=Am){this.chunkSize=t,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.cursor=0,this.maxCursor=-1,this.chunks.length&&(this.chunks=[]),this._initReuseChunk!==null&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(t){let r=this.chunks[this.chunks.length-1];if(this.cursor+t.length<=this.maxCursor+1){let i=r.length-(this.maxCursor-this.cursor)-1;r.set(t,i)}else{if(r){let i=r.length-(this.maxCursor-this.cursor)-1;i<r.length&&(this.chunks[this.chunks.length-1]=r.subarray(0,i),this.maxCursor=this.cursor-1)}t.length<64&&t.length<this.chunkSize?(r=Fh(this.chunkSize),this.chunks.push(r),this.maxCursor+=r.length,this._initReuseChunk===null&&(this._initReuseChunk=r),r.set(t,0)):(this.chunks.push(t),this.maxCursor+=t.length)}this.cursor+=t.length}toBytes(t=!1){let r;if(this.chunks.length===1){let n=this.chunks[0];t&&this.cursor>n.length/2?(r=this.cursor===n.length?n:n.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):r=Qn(n,0,this.cursor)}else r=Ph(this.chunks,this.cursor);return t&&this.reset(),r}};var H="CBOR decode error:",Xo="CBOR encode error:",Zi=[];Zi[23]=1;Zi[24]=2;Zi[25]=3;Zi[26]=5;Zi[27]=9;function Er(e,t,r){if(e.length-t<r)throw new Error(`${H} not enough data for type`)}var qe=[24,256,65536,4294967296,BigInt("18446744073709551616")];function ct(e,t,r){Er(e,t,1);let n=e[t];if(r.strict===!0&&n<qe[0])throw new Error(`${H} integer encoded in more bytes than necessary (strict decode)`);return n}function ft(e,t,r){Er(e,t,2);let n=e[t]<<8|e[t+1];if(r.strict===!0&&n<qe[1])throw new Error(`${H} integer encoded in more bytes than necessary (strict decode)`);return n}function lt(e,t,r){Er(e,t,4);let n=e[t]*16777216+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3];if(r.strict===!0&&n<qe[2])throw new Error(`${H} integer encoded in more bytes than necessary (strict decode)`);return n}function ht(e,t,r){Er(e,t,8);let n=e[t]*16777216+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3],i=e[t+4]*16777216+(e[t+5]<<16)+(e[t+6]<<8)+e[t+7],a=(BigInt(n)<<BigInt(32))+BigInt(i);if(r.strict===!0&&a<qe[3])throw new Error(`${H} integer encoded in more bytes than necessary (strict decode)`);if(a<=Number.MAX_SAFE_INTEGER)return Number(a);if(r.allowBigInt===!0)return a;throw new Error(`${H} integers outside of the safe integer range are not supported`)}function Kh(e,t,r,n){return new F(w.uint,ct(e,t+1,n),2)}function Lh(e,t,r,n){return new F(w.uint,ft(e,t+1,n),3)}function Oh(e,t,r,n){return new F(w.uint,lt(e,t+1,n),5)}function qh(e,t,r,n){return new F(w.uint,ht(e,t+1,n),9)}function Dt(e,t){return $e(e,0,t.value)}function $e(e,t,r){if(r<qe[0]){let n=Number(r);e.push([t|n])}else if(r<qe[1]){let n=Number(r);e.push([t|24,n])}else if(r<qe[2]){let n=Number(r);e.push([t|25,n>>>8,n&255])}else if(r<qe[3]){let n=Number(r);e.push([t|26,n>>>24&255,n>>>16&255,n>>>8&255,n&255])}else{let n=BigInt(r);if(n<qe[4]){let i=[t|27,0,0,0,0,0,0,0],a=Number(n&BigInt(4294967295)),s=Number(n>>BigInt(32)&BigInt(4294967295));i[8]=a&255,a=a>>8,i[7]=a&255,a=a>>8,i[6]=a&255,a=a>>8,i[5]=a&255,i[4]=s&255,s=s>>8,i[3]=s&255,s=s>>8,i[2]=s&255,s=s>>8,i[1]=s&255,e.push(i)}else throw new Error(`${H} encountered BigInt larger than allowable range`)}}Dt.encodedSize=function(t){return $e.encodedSize(t.value)};$e.encodedSize=function(t){return t<qe[0]?1:t<qe[1]?2:t<qe[2]?3:t<qe[3]?5:9};Dt.compareTokens=function(t,r){return t.value<r.value?-1:t.value>r.value?1:0};function Mh(e,t,r,n){return new F(w.negint,-1-ct(e,t+1,n),2)}function Vh(e,t,r,n){return new F(w.negint,-1-ft(e,t+1,n),3)}function zh(e,t,r,n){return new F(w.negint,-1-lt(e,t+1,n),5)}var Jo=BigInt(-1),Hh=BigInt(1);function $h(e,t,r,n){let i=ht(e,t+1,n);if(typeof i!="bigint"){let a=-1-i;if(a>=Number.MIN_SAFE_INTEGER)return new F(w.negint,a,9)}if(n.allowBigInt!==!0)throw new Error(`${H} integers outside of the safe integer range are not supported`);return new F(w.negint,Jo-BigInt(i),9)}function ds(e,t){let r=t.value,n=typeof r=="bigint"?r*Jo-Hh:r*-1-1;$e(e,t.type.majorEncoded,n)}ds.encodedSize=function(t){let r=t.value,n=typeof r=="bigint"?r*Jo-Hh:r*-1-1;return n<qe[0]?1:n<qe[1]?2:n<qe[2]?3:n<qe[3]?5:9};ds.compareTokens=function(t,r){return t.value<r.value?1:t.value>r.value?-1:0};function ji(e,t,r,n){Er(e,t,r+n);let i=Qn(e,t+r,t+r+n);return new F(w.bytes,i,r+n)}function Gh(e,t,r,n){return ji(e,t,1,r)}function Wh(e,t,r,n){return ji(e,t,2,ct(e,t+1,n))}function Yh(e,t,r,n){return ji(e,t,3,ft(e,t+1,n))}function Zh(e,t,r,n){return ji(e,t,5,lt(e,t+1,n))}function jh(e,t,r,n){let i=ht(e,t+1,n);if(typeof i=="bigint")throw new Error(`${H} 64-bit integer bytes lengths not supported`);return ji(e,t,9,i)}function ys(e){return e.encodedBytes===void 0&&(e.encodedBytes=e.type===w.string?kh(e.value):e.value),e.encodedBytes}function Xn(e,t){let r=ys(t);$e(e,t.type.majorEncoded,r.length),e.push(r)}Xn.encodedSize=function(t){let r=ys(t);return $e.encodedSize(r.length)+r.length};Xn.compareTokens=function(t,r){return Im(ys(t),ys(r))};function Im(e,t){return e.length<t.length?-1:e.length>t.length?1:Uh(e,t)}function Qi(e,t,r,n,i){let a=r+n;Er(e,t,a);let s=new F(w.string,Nh(e,t+r,t+a),a);return i.retainStringBytes===!0&&(s.byteValue=Qn(e,t+r,t+a)),s}function Qh(e,t,r,n){return Qi(e,t,1,r,n)}function Xh(e,t,r,n){return Qi(e,t,2,ct(e,t+1,n),n)}function Jh(e,t,r,n){return Qi(e,t,3,ft(e,t+1,n),n)}function ep(e,t,r,n){return Qi(e,t,5,lt(e,t+1,n),n)}function tp(e,t,r,n){let i=ht(e,t+1,n);if(typeof i=="bigint")throw new Error(`${H} 64-bit integer string lengths not supported`);return Qi(e,t,9,i,n)}var rp=Xn;function Jn(e,t,r,n){return new F(w.array,n,r)}function np(e,t,r,n){return Jn(e,t,1,r)}function ip(e,t,r,n){return Jn(e,t,2,ct(e,t+1,n))}function ap(e,t,r,n){return Jn(e,t,3,ft(e,t+1,n))}function sp(e,t,r,n){return Jn(e,t,5,lt(e,t+1,n))}function op(e,t,r,n){let i=ht(e,t+1,n);if(typeof i=="bigint")throw new Error(`${H} 64-bit integer array lengths not supported`);return Jn(e,t,9,i)}function up(e,t,r,n){if(n.allowIndefinite===!1)throw new Error(`${H} indefinite length items not allowed`);return Jn(e,t,1,1/0)}function gs(e,t){$e(e,w.array.majorEncoded,t.value)}gs.compareTokens=Dt.compareTokens;gs.encodedSize=function(t){return $e.encodedSize(t.value)};function ei(e,t,r,n){return new F(w.map,n,r)}function cp(e,t,r,n){return ei(e,t,1,r)}function fp(e,t,r,n){return ei(e,t,2,ct(e,t+1,n))}function lp(e,t,r,n){return ei(e,t,3,ft(e,t+1,n))}function hp(e,t,r,n){return ei(e,t,5,lt(e,t+1,n))}function pp(e,t,r,n){let i=ht(e,t+1,n);if(typeof i=="bigint")throw new Error(`${H} 64-bit integer map lengths not supported`);return ei(e,t,9,i)}function dp(e,t,r,n){if(n.allowIndefinite===!1)throw new Error(`${H} indefinite length items not allowed`);return ei(e,t,1,1/0)}function vs(e,t){$e(e,w.map.majorEncoded,t.value)}vs.compareTokens=Dt.compareTokens;vs.encodedSize=function(t){return $e.encodedSize(t.value)};function yp(e,t,r,n){return new F(w.tag,r,1)}function gp(e,t,r,n){return new F(w.tag,ct(e,t+1,n),2)}function vp(e,t,r,n){return new F(w.tag,ft(e,t+1,n),3)}function mp(e,t,r,n){return new F(w.tag,lt(e,t+1,n),5)}function xp(e,t,r,n){return new F(w.tag,ht(e,t+1,n),9)}function ms(e,t){$e(e,w.tag.majorEncoded,t.value)}ms.compareTokens=Dt.compareTokens;ms.encodedSize=function(t){return $e.encodedSize(t.value)};var Fm=20,Um=21,Km=22,Lm=23;function bp(e,t,r,n){if(n.allowUndefined===!1)throw new Error(`${H} undefined values are not supported`);return n.coerceUndefinedToNull===!0?new F(w.null,null,1):new F(w.undefined,void 0,1)}function wp(e,t,r,n){if(n.allowIndefinite===!1)throw new Error(`${H} indefinite length items not allowed`);return new F(w.break,void 0,1)}function e0(e,t,r){if(r){if(r.allowNaN===!1&&Number.isNaN(e))throw new Error(`${H} NaN values are not supported`);if(r.allowInfinity===!1&&(e===1/0||e===-1/0))throw new Error(`${H} Infinity values are not supported`)}return new F(w.float,e,t)}function Ep(e,t,r,n){return e0(t0(e,t+1),3,n)}function Sp(e,t,r,n){return e0(r0(e,t+1),5,n)}function Dp(e,t,r,n){return e0(Tp(e,t+1),9,n)}function xs(e,t,r){let n=t.value;if(n===!1)e.push([w.float.majorEncoded|Fm]);else if(n===!0)e.push([w.float.majorEncoded|Um]);else if(n===null)e.push([w.float.majorEncoded|Km]);else if(n===void 0)e.push([w.float.majorEncoded|Lm]);else{let i,a=!1;(!r||r.float64!==!0)&&(Cp(n),i=t0(Mt,1),n===i||Number.isNaN(n)?(Mt[0]=249,e.push(Mt.slice(0,3)),a=!0):(Ap(n),i=r0(Mt,1),n===i&&(Mt[0]=250,e.push(Mt.slice(0,5)),a=!0))),a||(Om(n),i=Tp(Mt,1),Mt[0]=251,e.push(Mt.slice(0,9)))}}xs.encodedSize=function(t,r){let n=t.value;if(n===!1||n===!0||n===null||n===void 0)return 1;if(!r||r.float64!==!0){Cp(n);let i=t0(Mt,1);if(n===i||Number.isNaN(n))return 3;if(Ap(n),i=r0(Mt,1),n===i)return 5}return 9};var Bp=new ArrayBuffer(9),Bt=new DataView(Bp,1),Mt=new Uint8Array(Bp,0);function Cp(e){if(e===1/0)Bt.setUint16(0,31744,!1);else if(e===-1/0)Bt.setUint16(0,64512,!1);else if(Number.isNaN(e))Bt.setUint16(0,32256,!1);else{Bt.setFloat32(0,e);let t=Bt.getUint32(0),r=(t&2139095040)>>23,n=t&8388607;if(r===255)Bt.setUint16(0,31744,!1);else if(r===0)Bt.setUint16(0,(e&2147483648)>>16|n>>13,!1);else{let i=r-127;i<-24?Bt.setUint16(0,0):i<-14?Bt.setUint16(0,(t&2147483648)>>16|1<<24+i,!1):Bt.setUint16(0,(t&2147483648)>>16|i+15<<10|n>>13,!1)}}}function t0(e,t){if(e.length-t<2)throw new Error(`${H} not enough data for float16`);let r=(e[t]<<8)+e[t+1];if(r===31744)return 1/0;if(r===64512)return-1/0;if(r===32256)return NaN;let n=r>>10&31,i=r&1023,a;return n===0?a=i*2**-24:n!==31?a=(i+1024)*2**(n-25):a=i===0?1/0:NaN,r&32768?-a:a}function Ap(e){Bt.setFloat32(0,e,!1)}function r0(e,t){if(e.length-t<4)throw new Error(`${H} not enough data for float32`);let r=(e.byteOffset||0)+t;return new DataView(e.buffer,r,4).getFloat32(0,!1)}function Om(e){Bt.setFloat64(0,e,!1)}function Tp(e,t){if(e.length-t<8)throw new Error(`${H} not enough data for float64`);let r=(e.byteOffset||0)+t;return new DataView(e.buffer,r,8).getFloat64(0,!1)}xs.compareTokens=Dt.compareTokens;function ue(e,t,r){throw new Error(`${H} encountered invalid minor (${r}) for major ${e[t]>>>5}`)}function bs(e){return()=>{throw new Error(`${H} ${e}`)}}var I=[];for(let e=0;e<=23;e++)I[e]=ue;I[24]=Kh;I[25]=Lh;I[26]=Oh;I[27]=qh;I[28]=ue;I[29]=ue;I[30]=ue;I[31]=ue;for(let e=32;e<=55;e++)I[e]=ue;I[56]=Mh;I[57]=Vh;I[58]=zh;I[59]=$h;I[60]=ue;I[61]=ue;I[62]=ue;I[63]=ue;for(let e=64;e<=87;e++)I[e]=Gh;I[88]=Wh;I[89]=Yh;I[90]=Zh;I[91]=jh;I[92]=ue;I[93]=ue;I[94]=ue;I[95]=bs("indefinite length bytes/strings are not supported");for(let e=96;e<=119;e++)I[e]=Qh;I[120]=Xh;I[121]=Jh;I[122]=ep;I[123]=tp;I[124]=ue;I[125]=ue;I[126]=ue;I[127]=bs("indefinite length bytes/strings are not supported");for(let e=128;e<=151;e++)I[e]=np;I[152]=ip;I[153]=ap;I[154]=sp;I[155]=op;I[156]=ue;I[157]=ue;I[158]=ue;I[159]=up;for(let e=160;e<=183;e++)I[e]=cp;I[184]=fp;I[185]=lp;I[186]=hp;I[187]=pp;I[188]=ue;I[189]=ue;I[190]=ue;I[191]=dp;for(let e=192;e<=215;e++)I[e]=yp;I[216]=gp;I[217]=vp;I[218]=mp;I[219]=xp;I[220]=ue;I[221]=ue;I[222]=ue;I[223]=ue;for(let e=224;e<=243;e++)I[e]=bs("simple values are not supported");I[244]=ue;I[245]=ue;I[246]=ue;I[247]=bp;I[248]=bs("simple values are not supported");I[249]=Ep;I[250]=Sp;I[251]=Dp;I[252]=ue;I[253]=ue;I[254]=ue;I[255]=wp;var Vt=[];for(let e=0;e<24;e++)Vt[e]=new F(w.uint,e,1);for(let e=-1;e>=-24;e--)Vt[31-e]=new F(w.negint,e,1);Vt[64]=new F(w.bytes,new Uint8Array(0),1);Vt[96]=new F(w.string,"",1);Vt[128]=new F(w.array,0,1);Vt[160]=new F(w.map,0,1);Vt[244]=new F(w.false,!1,1);Vt[245]=new F(w.true,!0,1);Vt[246]=new F(w.null,null,1);function Ip(e){switch(e.type){case w.false:return ar([244]);case w.true:return ar([245]);case w.null:return ar([246]);case w.bytes:return e.value.length?void 0:ar([64]);case w.string:return e.value===""?ar([96]):void 0;case w.array:return e.value===0?ar([128]):void 0;case w.map:return e.value===0?ar([160]):void 0;case w.uint:return e.value<24?ar([Number(e.value)]):void 0;case w.negint:if(e.value>=-24)return ar([31-Number(e.value)])}}var Mm={float64:!1,mapSorter:Hm,quickEncodeToken:Ip};function Vm(){let e=[];return e[w.uint.major]=Dt,e[w.negint.major]=ds,e[w.bytes.major]=Xn,e[w.string.major]=rp,e[w.array.major]=gs,e[w.map.major]=vs,e[w.tag.major]=ms,e[w.float.major]=xs,e}var _p=Vm(),n0=new Yi,ti=class{constructor(t,r){this.obj=t,this.parent=r}includes(t){let r=this;do if(r.obj===t)return!0;while(r=r.parent);return!1}static createCheck(t,r){if(t&&t.includes(r))throw new Error(`${Xo} object contains circular references`);return new ti(r,t)}},Hr={null:new F(w.null,null),undefined:new F(w.undefined,void 0),true:new F(w.true,!0),false:new F(w.false,!1),emptyArray:new F(w.array,0),emptyMap:new F(w.map,0)},$r={number(e,t,r,n){return!Number.isInteger(e)||!Number.isSafeInteger(e)?new F(w.float,e):e>=0?new F(w.uint,e):new F(w.negint,e)},bigint(e,t,r,n){return e>=BigInt(0)?new F(w.uint,e):new F(w.negint,e)},Uint8Array(e,t,r,n){return new F(w.bytes,e)},string(e,t,r,n){return new F(w.string,e)},boolean(e,t,r,n){return e?Hr.true:Hr.false},null(e,t,r,n){return Hr.null},undefined(e,t,r,n){return Hr.undefined},ArrayBuffer(e,t,r,n){return new F(w.bytes,new Uint8Array(e))},DataView(e,t,r,n){return new F(w.bytes,new Uint8Array(e.buffer,e.byteOffset,e.byteLength))},Array(e,t,r,n){if(!e.length)return r.addBreakTokens===!0?[Hr.emptyArray,new F(w.break)]:Hr.emptyArray;n=ti.createCheck(n,e);let i=[],a=0;for(let s of e)i[a++]=ws(s,r,n);return r.addBreakTokens?[new F(w.array,e.length),i,new F(w.break)]:[new F(w.array,e.length),i]},Object(e,t,r,n){let i=t!=="Object",a=i?e.keys():Object.keys(e),s=i?e.size:a.length;if(!s)return r.addBreakTokens===!0?[Hr.emptyMap,new F(w.break)]:Hr.emptyMap;n=ti.createCheck(n,e);let o=[],c=0;for(let u of a)o[c++]=[ws(u,r,n),ws(i?e.get(u):e[u],r,n)];return zm(o,r),r.addBreakTokens?[new F(w.map,s),o,new F(w.break)]:[new F(w.map,s),o]}};$r.Map=$r.Object;$r.Buffer=$r.Uint8Array;for(let e of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))$r[`${e}Array`]=$r.DataView;function ws(e,t={},r){let n=Th(e),i=t&&t.typeEncoders&&t.typeEncoders[n]||$r[n];if(typeof i=="function"){let s=i(e,n,t,r);if(s!=null)return s}let a=$r[n];if(!a)throw new Error(`${Xo} unsupported type: ${n}`);return a(e,n,t,r)}function zm(e,t){t.mapSorter&&e.sort(t.mapSorter)}function Hm(e,t){let r=Array.isArray(e[0])?e[0][0]:e[0],n=Array.isArray(t[0])?t[0][0]:t[0];if(r.type!==n.type)return r.type.compare(n.type);let i=r.type.major,a=_p[i].compareTokens(r,n);return a===0&&console.warn("WARNING: complex key types used, CBOR key sorting guarantees are gone"),a}function Rp(e,t,r,n){if(Array.isArray(t))for(let i of t)Rp(e,i,r,n);else r[t.type.major](e,t,n)}function $m(e,t,r){let n=ws(e,r);if(!Array.isArray(n)&&r.quickEncodeToken){let i=r.quickEncodeToken(n);if(i)return i;let a=t[n.type.major];if(a.encodedSize){let s=a.encodedSize(n,r),o=new Yi(s);if(a(o,n,r),o.chunks.length!==1)throw new Error(`Unexpected error: pre-calculated length for ${n} was wrong`);return Qo(o.chunks[0])}}return n0.reset(),Rp(n0,n,t,r),n0.toBytes(!0)}function Xi(e,t){return t=Object.assign({},Mm,t),$m(e,_p,t)}var Gm={strict:!1,allowIndefinite:!0,allowUndefined:!0,allowBigInt:!0},i0=class{constructor(t,r={}){this.pos=0,this.data=t,this.options=r}done(){return this.pos>=this.data.length}next(){let t=this.data[this.pos],r=Vt[t];if(r===void 0){let n=I[t];if(!n)throw new Error(`${H} no decoder for major type ${t>>>5} (byte 0x${t.toString(16).padStart(2,"0")})`);let i=t&31;r=n(this.data,this.pos,i,this.options)}return this.pos+=r.encodedLength,r}},Ji=Symbol.for("DONE"),Es=Symbol.for("BREAK");function Wm(e,t,r){let n=[];for(let i=0;i<e.value;i++){let a=ea(t,r);if(a===Es){if(e.value===1/0)break;throw new Error(`${H} got unexpected break to lengthed array`)}if(a===Ji)throw new Error(`${H} found array but not enough entries (got ${i}, expected ${e.value})`);n[i]=a}return n}function Ym(e,t,r){let n=r.useMaps===!0,i=n?void 0:{},a=n?new Map:void 0;for(let s=0;s<e.value;s++){let o=ea(t,r);if(o===Es){if(e.value===1/0)break;throw new Error(`${H} got unexpected break to lengthed map`)}if(o===Ji)throw new Error(`${H} found map but not enough entries (got ${s} [no key], expected ${e.value})`);if(n!==!0&&typeof o!="string")throw new Error(`${H} non-string keys not supported (got ${typeof o})`);let c=ea(t,r);if(c===Ji)throw new Error(`${H} found map but not enough entries (got ${s} [no value], expected ${e.value})`);n?a.set(o,c):i[o]=c}return n?a:i}function ea(e,t){if(e.done())return Ji;let r=e.next();if(r.type===w.break)return Es;if(r.type.terminal)return r.value;if(r.type===w.array)return Wm(r,e,t);if(r.type===w.map)return Ym(r,e,t);if(r.type===w.tag){if(t.tags&&typeof t.tags[r.value]=="function"){let n=ea(e,t);return t.tags[r.value](n)}throw new Error(`${H} tag not supported (${r.value})`)}throw new Error("unsupported")}function ta(e,t){if(!(e instanceof Uint8Array))throw new Error(`${H} data to decode must be a Uint8Array`);t=Object.assign({},Gm,t);let r=t.tokenizer||new i0(e,t),n=ea(r,t);if(n===Ji)throw new Error(`${H} did not find any content to decode`);if(n===Es)throw new Error(`${H} got unexpected break`);if(!r.done())throw new Error(`${H} too many terminals, data makes no sense`);return n}var u0=ur(zp(),1),c0=ur(Yp(),1);var dn=ur(_a(),1),Zp=dn.default.Reader,ux=dn.default.Writer,M=dn.default.util,ra=dn.default.roots["ipfs-ipns"]||(dn.default.roots["ipfs-ipns"]={}),oi=ra.IpnsEntry=(()=>{function e(t){if(t)for(var r=Object.keys(t),n=0;n<r.length;++n)t[r[n]]!=null&&(this[r[n]]=t[r[n]])}return e.prototype.value=M.newBuffer([]),e.prototype.signature=M.newBuffer([]),e.prototype.validityType=0,e.prototype.validity=M.newBuffer([]),e.prototype.sequence=M.Long?M.Long.fromBits(0,0,!0):0,e.prototype.ttl=M.Long?M.Long.fromBits(0,0,!0):0,e.prototype.pubKey=M.newBuffer([]),e.prototype.signatureV2=M.newBuffer([]),e.prototype.data=M.newBuffer([]),e.encode=function(r,n){return n||(n=ux.create()),r.value!=null&&Object.hasOwnProperty.call(r,"value")&&n.uint32(10).bytes(r.value),r.signature!=null&&Object.hasOwnProperty.call(r,"signature")&&n.uint32(18).bytes(r.signature),r.validityType!=null&&Object.hasOwnProperty.call(r,"validityType")&&n.uint32(24).int32(r.validityType),r.validity!=null&&Object.hasOwnProperty.call(r,"validity")&&n.uint32(34).bytes(r.validity),r.sequence!=null&&Object.hasOwnProperty.call(r,"sequence")&&n.uint32(40).uint64(r.sequence),r.ttl!=null&&Object.hasOwnProperty.call(r,"ttl")&&n.uint32(48).uint64(r.ttl),r.pubKey!=null&&Object.hasOwnProperty.call(r,"pubKey")&&n.uint32(58).bytes(r.pubKey),r.signatureV2!=null&&Object.hasOwnProperty.call(r,"signatureV2")&&n.uint32(66).bytes(r.signatureV2),r.data!=null&&Object.hasOwnProperty.call(r,"data")&&n.uint32(74).bytes(r.data),n},e.decode=function(r,n){r instanceof Zp||(r=Zp.create(r));for(var i=n===void 0?r.len:r.pos+n,a=new ra.IpnsEntry;r.pos<i;){var s=r.uint32();switch(s>>>3){case 1:a.value=r.bytes();break;case 2:a.signature=r.bytes();break;case 3:a.validityType=r.int32();break;case 4:a.validity=r.bytes();break;case 5:a.sequence=r.uint64();break;case 6:a.ttl=r.uint64();break;case 7:a.pubKey=r.bytes();break;case 8:a.signatureV2=r.bytes();break;case 9:a.data=r.bytes();break;default:r.skipType(s&7);break}}return a},e.fromObject=function(r){if(r instanceof ra.IpnsEntry)return r;var n=new ra.IpnsEntry;switch(r.value!=null&&(typeof r.value=="string"?M.base64.decode(r.value,n.value=M.newBuffer(M.base64.length(r.value)),0):r.value.length&&(n.value=r.value)),r.signature!=null&&(typeof r.signature=="string"?M.base64.decode(r.signature,n.signature=M.newBuffer(M.base64.length(r.signature)),0):r.signature.length&&(n.signature=r.signature)),r.validityType){case"EOL":case 0:n.validityType=0;break}return r.validity!=null&&(typeof r.validity=="string"?M.base64.decode(r.validity,n.validity=M.newBuffer(M.base64.length(r.validity)),0):r.validity.length&&(n.validity=r.validity)),r.sequence!=null&&(M.Long?(n.sequence=M.Long.fromValue(r.sequence)).unsigned=!0:typeof r.sequence=="string"?n.sequence=parseInt(r.sequence,10):typeof r.sequence=="number"?n.sequence=r.sequence:typeof r.sequence=="object"&&(n.sequence=new M.LongBits(r.sequence.low>>>0,r.sequence.high>>>0).toNumber(!0))),r.ttl!=null&&(M.Long?(n.ttl=M.Long.fromValue(r.ttl)).unsigned=!0:typeof r.ttl=="string"?n.ttl=parseInt(r.ttl,10):typeof r.ttl=="number"?n.ttl=r.ttl:typeof r.ttl=="object"&&(n.ttl=new M.LongBits(r.ttl.low>>>0,r.ttl.high>>>0).toNumber(!0))),r.pubKey!=null&&(typeof r.pubKey=="string"?M.base64.decode(r.pubKey,n.pubKey=M.newBuffer(M.base64.length(r.pubKey)),0):r.pubKey.length&&(n.pubKey=r.pubKey)),r.signatureV2!=null&&(typeof r.signatureV2=="string"?M.base64.decode(r.signatureV2,n.signatureV2=M.newBuffer(M.base64.length(r.signatureV2)),0):r.signatureV2.length&&(n.signatureV2=r.signatureV2)),r.data!=null&&(typeof r.data=="string"?M.base64.decode(r.data,n.data=M.newBuffer(M.base64.length(r.data)),0):r.data.length&&(n.data=r.data)),n},e.toObject=function(r,n){n||(n={});var i={};if(n.defaults){if(n.bytes===String?i.value="":(i.value=[],n.bytes!==Array&&(i.value=M.newBuffer(i.value))),n.bytes===String?i.signature="":(i.signature=[],n.bytes!==Array&&(i.signature=M.newBuffer(i.signature))),i.validityType=n.enums===String?"EOL":0,n.bytes===String?i.validity="":(i.validity=[],n.bytes!==Array&&(i.validity=M.newBuffer(i.validity))),M.Long){var a=new M.Long(0,0,!0);i.sequence=n.longs===String?a.toString():n.longs===Number?a.toNumber():a}else i.sequence=n.longs===String?"0":0;if(M.Long){var a=new M.Long(0,0,!0);i.ttl=n.longs===String?a.toString():n.longs===Number?a.toNumber():a}else i.ttl=n.longs===String?"0":0;n.bytes===String?i.pubKey="":(i.pubKey=[],n.bytes!==Array&&(i.pubKey=M.newBuffer(i.pubKey))),n.bytes===String?i.signatureV2="":(i.signatureV2=[],n.bytes!==Array&&(i.signatureV2=M.newBuffer(i.signatureV2))),n.bytes===String?i.data="":(i.data=[],n.bytes!==Array&&(i.data=M.newBuffer(i.data)))}return r.value!=null&&r.hasOwnProperty("value")&&(i.value=n.bytes===String?M.base64.encode(r.value,0,r.value.length):n.bytes===Array?Array.prototype.slice.call(r.value):r.value),r.signature!=null&&r.hasOwnProperty("signature")&&(i.signature=n.bytes===String?M.base64.encode(r.signature,0,r.signature.length):n.bytes===Array?Array.prototype.slice.call(r.signature):r.signature),r.validityType!=null&&r.hasOwnProperty("validityType")&&(i.validityType=n.enums===String?ra.IpnsEntry.ValidityType[r.validityType]:r.validityType),r.validity!=null&&r.hasOwnProperty("validity")&&(i.validity=n.bytes===String?M.base64.encode(r.validity,0,r.validity.length):n.bytes===Array?Array.prototype.slice.call(r.validity):r.validity),r.sequence!=null&&r.hasOwnProperty("sequence")&&(typeof r.sequence=="number"?i.sequence=n.longs===String?String(r.sequence):r.sequence:i.sequence=n.longs===String?M.Long.prototype.toString.call(r.sequence):n.longs===Number?new M.LongBits(r.sequence.low>>>0,r.sequence.high>>>0).toNumber(!0):r.sequence),r.ttl!=null&&r.hasOwnProperty("ttl")&&(typeof r.ttl=="number"?i.ttl=n.longs===String?String(r.ttl):r.ttl:i.ttl=n.longs===String?M.Long.prototype.toString.call(r.ttl):n.longs===Number?new M.LongBits(r.ttl.low>>>0,r.ttl.high>>>0).toNumber(!0):r.ttl),r.pubKey!=null&&r.hasOwnProperty("pubKey")&&(i.pubKey=n.bytes===String?M.base64.encode(r.pubKey,0,r.pubKey.length):n.bytes===Array?Array.prototype.slice.call(r.pubKey):r.pubKey),r.signatureV2!=null&&r.hasOwnProperty("signatureV2")&&(i.signatureV2=n.bytes===String?M.base64.encode(r.signatureV2,0,r.signatureV2.length):n.bytes===Array?Array.prototype.slice.call(r.signatureV2):r.signatureV2),r.data!=null&&r.hasOwnProperty("data")&&(i.data=n.bytes===String?M.base64.encode(r.data,0,r.data.length):n.bytes===Array?Array.prototype.slice.call(r.data):r.data),i},e.prototype.toJSON=function(){return this.constructor.toObject(this,dn.default.util.toJSONOptions)},e.ValidityType=function(){let t={},r=Object.create(t);return r[t[0]="EOL"]=0,r}(),e})();function jp(e){let t=new RegExp("(\\d{4})-(\\d{2})-(\\d{2})T(\\d{2}):(\\d{2}):(\\d{2})\\.(\\d+)Z"),r=String(e).trim().match(t);if(!r)throw new Error("Invalid format");let n=parseInt(r[1],10),i=parseInt(r[2],10)-1,a=parseInt(r[3],10),s=parseInt(r[4],10),o=parseInt(r[5],10),c=parseInt(r[6],10),u=parseInt(r[7].slice(0,-6),10);return new Date(Date.UTC(n,i,a,s,o,c,u))}var Qp="ERR_IPNS_EXPIRED_RECORD",o0="ERR_UNRECOGNIZED_VALIDITY",Xp="ERR_SIGNATURE_CREATION",yn="ERR_SIGNATURE_VERIFICATION",Jp="ERR_UNRECOGNIZED_FORMAT";var ed="ERR_INVALID_RECORD_DATA";var Gr=Object.assign((0,c0.default)("jsipns"),{error:(0,c0.default)("jsipns:error")}),u8=An.code,c8=Pt("/ipns/"),hx="/ipns/",f8=hx.length,rd=(e,t,r,n)=>{let i=new td.default(Date.now()+Number(n)),a=oi.ValidityType.EOL,[s,o]=n.toString().split("."),c=BigInt(s)*BigInt(1e5)+BigInt(o||0);return px(e,t,r,a,i,c)};var px=async(e,t,r,n,i,a)=>{r=BigInt(r);let s=Pt(i.toString()),o=await gx(e,t,n,s),c=dx(t,s,n,r,a),u=ad(c),f=await e.sign(u),l={value:t,signature:o,validityType:n,validity:s,sequence:r,ttl:a,signatureV2:f,data:c};return Gr(`ipns entry for ${t} created`),l},dx=(e,t,r,n,i)=>Xi({Value:e,Validity:t,ValidityType:r,Sequence:n,TTL:i}),nd=async(e,t)=>{let{value:r,validityType:n,validity:i}=t,a,s;t.signatureV2&&t.data?(s=t.signatureV2,a=ad(t.data),yx(t)):(s=t.signature,a=id(r,n,i));let o;try{o=await e.verify(a,s)}catch{o=!1}if(!o)throw Gr.error("record signature verification failed"),(0,dt.default)(new Error("record signature verification failed"),yn);if(n===oi.ValidityType.EOL){let c;try{c=jp(hr(i))}catch{throw Gr.error("unrecognized validity format (not an rfc3339 format)"),(0,dt.default)(new Error("unrecognized validity format (not an rfc3339 format)"),Jp)}if(c.getTime()<Date.now())throw Gr.error("record has expired"),(0,dt.default)(new Error("record has expired"),Qp)}else if(n)throw Gr.error("unrecognized validity type"),(0,dt.default)(new Error("unrecognized validity type"),o0);Gr(`ipns entry for ${r} is valid`)},yx=e=>{if(!e.data)throw(0,dt.default)(new Error("Record data is missing"),ed);let t=ta(e.data);if(Number.isInteger(t.Sequence)&&(t.Sequence=BigInt(t.Sequence)),Number.isInteger(t.TTL)&&(t.TTL=BigInt(t.TTL)),!Wa(t.Value,e.value))throw(0,dt.default)(new Error('Field "value" did not match between protobuf and CBOR'),yn);if(!Wa(t.Validity,e.validity))throw(0,dt.default)(new Error('Field "validity" did not match between protobuf and CBOR'),yn);if(t.ValidityType!==e.validityType)throw(0,dt.default)(new Error('Field "validityType" did not match between protobuf and CBOR'),yn);if(t.Sequence!==e.sequence)throw(0,dt.default)(new Error('Field "sequence" did not match between protobuf and CBOR'),yn);if(t.TTL!==e.ttl)throw(0,dt.default)(new Error('Field "ttl" did not match between protobuf and CBOR'),yn)};var gx=(e,t,r,n)=>{try{let i=id(t,r,n);return e.sign(i)}catch(i){throw Gr.error("record signature creation failed"),(0,dt.default)(new Error("record signature creation failed: "+i.message),Xp)}},vx=e=>{if(e.toString()==="0")return"EOL";let t=new Error(`unrecognized validity type ${e.toString()}`);throw Gr.error(t),(0,dt.default)(t,o0)},id=(e,t,r)=>{let n=Pt(vx(t));return Ga([e,r,n])},ad=e=>{let t=Pt("ipns-signature:");return Ga([t,e])};var sd=e=>oi.encode({...e,sequence:u0.default.fromString(e.sequence.toString()),ttl:e.ttl==null?void 0:u0.default.fromString(e.ttl.toString())}).finish(),od=e=>{let t=oi.decode(e),r=oi.toObject(t,{defaults:!1,arrays:!0,objects:!1});return{value:r.value,signature:r.signature,validityType:r.validityType,validity:r.validity,sequence:Object.hasOwnProperty.call(r,"sequence")?BigInt(`${r.sequence}`):0,pubKey:r.pubKey,ttl:Object.hasOwnProperty.call(r,"ttl")?BigInt(`${r.ttl}`):void 0,signatureV2:r.signatureV2,data:r.data}};var ld=ur(fd(),1),xx=30,bx=10*1e3;function wx(){let e=(0,ld.default)(xx,bx);return async()=>await e(()=>{})}var na=class{constructor(t=new URL("https://name.web3.storage/"),r=wx()){this.endpoint=t,this.waitForRateLimit=r}};var{Headers:h8,Request:p8,Response:d8}=globalThis,l0=globalThis.fetch;var Cs=114,Ex=1e3*60*60*24*365,hd=()=>new Date(Date.now()+Ex).toISOString(),pd=new na,ia=class{constructor(t){this._pubKey=t}get bytes(){let t=kt(An.code,this._pubKey.bytes);return xe.createV1(Cs,t).bytes}toString(){let t=kt(An.code,this._pubKey.bytes);return xe.createV1(Cs,t).toString(la)}},aa=class extends ia{constructor(r){super(r.public);this._privKey=r}get key(){return this._privKey}};async function Sx(){let e=await sa.keys.generateKeyPair("Ed25519",2048);return new aa(e)}function dd(e){let t=xe.parse(e,la);if(t.code!==Cs)throw new Error(`invalid key, expected ${Cs} codec code but got ${t.code}`);let r=sa.keys.unmarshalPublicKey(Zr(t.multihash.bytes).bytes);return new ia(r)}async function Dx(e){let t=await sa.keys.unmarshalPrivateKey(e);return new aa(t)}async function Bx(e,t){return new Wr(e,t,0n,hd())}async function Cx(e,t){let r=e.sequence+1n;return new Wr(e.name,t,r,hd())}var Wr=class{constructor(t,r,n,i){if(this._name=t,typeof r!="string")throw new Error("invalid value");if(this._value=r,typeof n!="bigint")throw new Error("invalid sequence number");if(this._sequence=n,typeof i!="string")throw new Error("invalid validity");this._validity=i}get name(){return this._name}get value(){return this._value}get sequence(){return this._sequence}get validity(){return this._validity}static encode(t){return Xi({name:t._name.toString(),value:t._value,sequence:t._sequence,validity:t._validity})}static decode(t){let r=ta(t),n=dd(r.name);return new Wr(n,r.value,BigInt(r.sequence),r.validity)}};async function Ax(e,t,r=pd){let n=new URL(`name/${e.name.toString()}`,r.endpoint),i=await rd(t,Pt(e.value),e.sequence,new Date(e.validity).getTime()-Date.now());await r.waitForRateLimit(),await yd(l0(n.toString(),{method:"POST",body:hr(sd(i),"base64pad")}))}async function Tx(e,t=pd){let r=new URL(`name/${e.toString()}`,t.endpoint);await t.waitForRateLimit();let n=await yd(l0(r.toString())),{record:i}=await n.json(),a=od(Pt(i,"base64pad")),s=xe.decode(e.bytes),o=sa.keys.unmarshalPublicKey(Zr(s.multihash.bytes).bytes);return await nd(o,a),new Wr(e,hr(a.value),a.sequence,hr(a.validity))}async function yd(e){let t=await e;if(t.ok)return t;let r=new Error(`unexpected status: ${t.status}`);try{Object.assign(r,await t.json())}catch{}throw r}return z(Ix);})();
/*! noble-ed25519 - MIT License (c) 2019 Paul Miller (paulmillr.com) */
/*! noble-secp256k1 - MIT License (c) 2019 Paul Miller (paulmillr.com) */
/**
 * Timestamp for 64-bit time_t, nanosecond precision and strftime
 *
 * @author Yusuke Kawasaki
 * @license MIT
 * @see https://github.com/kawanet/timestamp-nano
 */
return W3Name}));
